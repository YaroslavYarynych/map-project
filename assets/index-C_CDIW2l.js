(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _l(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),n}var zv={exports:{}},gl={},bv={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),dP=Symbol.for("react.portal"),pP=Symbol.for("react.fragment"),mP=Symbol.for("react.strict_mode"),_P=Symbol.for("react.profiler"),gP=Symbol.for("react.provider"),vP=Symbol.for("react.context"),yP=Symbol.for("react.forward_ref"),wP=Symbol.for("react.suspense"),EP=Symbol.for("react.memo"),TP=Symbol.for("react.lazy"),T_=Symbol.iterator;function PP(e){return e===null||typeof e!="object"?null:(e=T_&&e[T_]||e["@@iterator"],typeof e=="function"?e:null)}var Bv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fv=Object.assign,Uv={};function po(e,t,n){this.props=e,this.context=t,this.refs=Uv,this.updater=n||Bv}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $v(){}$v.prototype=po.prototype;function ud(e,t,n){this.props=e,this.context=t,this.refs=Uv,this.updater=n||Bv}var ld=ud.prototype=new $v;ld.constructor=ud;Fv(ld,po.prototype);ld.isPureReactComponent=!0;var P_=Array.isArray,jv=Object.prototype.hasOwnProperty,cd={current:null},Hv={key:!0,ref:!0,__self:!0,__source:!0};function Zv(e,t,n){var i,o={},s=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)jv.call(t,i)&&!Hv.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var h=Array(c),d=0;d<c;d++)h[d]=arguments[d+2];o.children=h}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)o[i]===void 0&&(o[i]=c[i]);return{$$typeof:ta,type:e,key:s,ref:a,props:o,_owner:cd.current}}function SP(e,t){return{$$typeof:ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ta}function CP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var S_=/\/+/g;function Gc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CP(""+e.key):t.toString(36)}function cu(e,t,n,i,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ta:case dP:a=!0}}if(a)return a=e,o=o(a),e=i===""?"."+Gc(a,0):i,P_(o)?(n="",e!=null&&(n=e.replace(S_,"$&/")+"/"),cu(o,t,n,"",function(d){return d})):o!=null&&(hd(o)&&(o=SP(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(S_,"$&/")+"/")+e)),t.push(o)),1;if(a=0,i=i===""?".":i+":",P_(e))for(var c=0;c<e.length;c++){s=e[c];var h=i+Gc(s,c);a+=cu(s,t,n,h,o)}else if(h=PP(e),typeof h=="function")for(e=h.call(e),c=0;!(s=e.next()).done;)s=s.value,h=i+Gc(s,c++),a+=cu(s,t,n,h,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ba(e,t,n){if(e==null)return e;var i=[],o=0;return cu(e,i,"","",function(s){return t.call(n,s,o++)}),i}function IP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},hu={transition:null},LP={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:hu,ReactCurrentOwner:cd};ut.Children={map:Ba,forEach:function(e,t,n){Ba(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ba(e,function(){t++}),t},toArray:function(e){return Ba(e,function(t){return t})||[]},only:function(e){if(!hd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ut.Component=po;ut.Fragment=pP;ut.Profiler=_P;ut.PureComponent=ud;ut.StrictMode=mP;ut.Suspense=wP;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LP;ut.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Fv({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=cd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)jv.call(t,h)&&!Hv.hasOwnProperty(h)&&(i[h]=t[h]===void 0&&c!==void 0?c[h]:t[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){c=Array(h);for(var d=0;d<h;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:ta,type:e.type,key:o,ref:s,props:i,_owner:a}};ut.createContext=function(e){return e={$$typeof:vP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gP,_context:e},e.Consumer=e};ut.createElement=Zv;ut.createFactory=function(e){var t=Zv.bind(null,e);return t.type=e,t};ut.createRef=function(){return{current:null}};ut.forwardRef=function(e){return{$$typeof:yP,render:e}};ut.isValidElement=hd;ut.lazy=function(e){return{$$typeof:TP,_payload:{_status:-1,_result:e},_init:IP}};ut.memo=function(e,t){return{$$typeof:EP,type:e,compare:t===void 0?null:t}};ut.startTransition=function(e){var t=hu.transition;hu.transition={};try{e()}finally{hu.transition=t}};ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ut.useCallback=function(e,t){return Ie.current.useCallback(e,t)};ut.useContext=function(e){return Ie.current.useContext(e)};ut.useDebugValue=function(){};ut.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};ut.useEffect=function(e,t){return Ie.current.useEffect(e,t)};ut.useId=function(){return Ie.current.useId()};ut.useImperativeHandle=function(e,t,n){return Ie.current.useImperativeHandle(e,t,n)};ut.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};ut.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};ut.useMemo=function(e,t){return Ie.current.useMemo(e,t)};ut.useReducer=function(e,t,n){return Ie.current.useReducer(e,t,n)};ut.useRef=function(e){return Ie.current.useRef(e)};ut.useState=function(e){return Ie.current.useState(e)};ut.useSyncExternalStore=function(e,t,n){return Ie.current.useSyncExternalStore(e,t,n)};ut.useTransition=function(){return Ie.current.useTransition()};ut.version="18.2.0";bv.exports=ut;var at=bv.exports;const Lu=fP(at);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AP=at,xP=Symbol.for("react.element"),kP=Symbol.for("react.fragment"),RP=Object.prototype.hasOwnProperty,MP=AP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OP={key:!0,ref:!0,__self:!0,__source:!0};function Wv(e,t,n){var i,o={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)RP.call(t,i)&&!OP.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:xP,type:e,key:s,ref:a,props:o,_owner:MP.current}}gl.Fragment=kP;gl.jsx=Wv;gl.jsxs=Wv;zv.exports=gl;var wn=zv.exports,Nh={},Gv={exports:{}},je={},qv={exports:{}},Kv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,Y){var z=k.length;k.push(Y);t:for(;0<z;){var Q=z-1>>>1,ht=k[Q];if(0<o(ht,Y))k[Q]=Y,k[z]=ht,z=Q;else break t}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Y=k[0],z=k.pop();if(z!==Y){k[0]=z;t:for(var Q=0,ht=k.length,Ht=ht>>>1;Q<Ht;){var yt=2*(Q+1)-1,pt=k[yt],tt=yt+1,Ae=k[tt];if(0>o(pt,z))tt<ht&&0>o(Ae,pt)?(k[Q]=Ae,k[tt]=z,Q=tt):(k[Q]=pt,k[yt]=z,Q=yt);else if(tt<ht&&0>o(Ae,z))k[Q]=Ae,k[tt]=z,Q=tt;else break t}}return Y}function o(k,Y){var z=k.sortIndex-Y.sortIndex;return z!==0?z:k.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var h=[],d=[],m=1,_=null,v=3,y=!1,C=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(k){for(var Y=n(d);Y!==null;){if(Y.callback===null)i(d);else if(Y.startTime<=k)i(d),Y.sortIndex=Y.expirationTime,t(h,Y);else break;Y=n(d)}}function x(k){if(S=!1,P(k),!C)if(n(h)!==null)C=!0,ne(V);else{var Y=n(d);Y!==null&&On(x,Y.startTime-k)}}function V(k,Y){C=!1,S&&(S=!1,E(Z),Z=-1),y=!0;var z=v;try{for(P(Y),_=n(h);_!==null&&(!(_.expirationTime>Y)||k&&!Et());){var Q=_.callback;if(typeof Q=="function"){_.callback=null,v=_.priorityLevel;var ht=Q(_.expirationTime<=Y);Y=e.unstable_now(),typeof ht=="function"?_.callback=ht:_===n(h)&&i(h),P(Y)}else i(h);_=n(h)}if(_!==null)var Ht=!0;else{var yt=n(d);yt!==null&&On(x,yt.startTime-Y),Ht=!1}return Ht}finally{_=null,v=z,y=!1}}var F=!1,j=null,Z=-1,wt=5,it=-1;function Et(){return!(e.unstable_now()-it<wt)}function Kt(){if(j!==null){var k=e.unstable_now();it=k;var Y=!0;try{Y=j(!0,k)}finally{Y?Di():(F=!1,j=null)}}else F=!1}var Di;if(typeof w=="function")Di=function(){w(Kt)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,fc=Ze.port2;Ze.port1.onmessage=Kt,Di=function(){fc.postMessage(null)}}else Di=function(){R(Kt,0)};function ne(k){j=k,F||(F=!0,Di())}function On(k,Y){Z=R(function(){k(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){C||y||(C=!0,ne(V))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(k){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var z=v;v=Y;try{return k()}finally{v=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var z=v;v=k;try{return Y()}finally{v=z}},e.unstable_scheduleCallback=function(k,Y,z){var Q=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,k){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=z+ht,k={id:m++,callback:Y,priorityLevel:k,startTime:z,expirationTime:ht,sortIndex:-1},z>Q?(k.sortIndex=z,t(d,k),n(h)===null&&k===n(d)&&(S?(E(Z),Z=-1):S=!0,On(x,z-Q))):(k.sortIndex=ht,t(h,k),C||y||(C=!0,ne(V))),k},e.unstable_shouldYield=Et,e.unstable_wrapCallback=function(k){var Y=v;return function(){var z=v;v=Y;try{return k.apply(this,arguments)}finally{v=z}}}})(Kv);qv.exports=Kv;var DP=qv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv=at,Ue=DP;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xv=new Set,Es={};function lr(e,t){Yr(e,t),Yr(e+"Capture",t)}function Yr(e,t){for(Es[e]=t,e=0;e<t.length;e++)Xv.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vh=Object.prototype.hasOwnProperty,NP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C_={},I_={};function VP(e){return Vh.call(I_,e)?!0:Vh.call(C_,e)?!1:NP.test(e)?I_[e]=!0:(C_[e]=!0,!1)}function zP(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bP(e,t,n,i){if(t===null||typeof t>"u"||zP(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,n,i,o,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var fd=/[\-:]([a-z])/g;function dd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fd,dd);he[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fd,dd);he[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fd,dd);he[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function pd(e,t,n,i){var o=he.hasOwnProperty(t)?he[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bP(t,n,o,i)&&(n=null),i||o===null?VP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Xn=Qv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fa=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),md=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Yv=Symbol.for("react.provider"),Jv=Symbol.for("react.context"),_d=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),gd=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),L_=Symbol.iterator;function Fo(e){return e===null||typeof e!="object"?null:(e=L_&&e[L_]||e["@@iterator"],typeof e=="function"?e:null)}var Ot=Object.assign,qc;function Xo(e){if(qc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qc=t&&t[1]||""}return`
`+qc+e}var Kc=!1;function Qc(e,t){if(!e||Kc)return"";Kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),s=i.stack.split(`
`),a=o.length-1,c=s.length-1;1<=a&&0<=c&&o[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(o[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||o[a]!==s[c]){var h=`
`+o[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=c);break}}}finally{Kc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xo(e):""}function BP(e){switch(e.tag){case 5:return Xo(e.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return e=Qc(e.type,!1),e;case 11:return e=Qc(e.type.render,!1),e;case 1:return e=Qc(e.type,!0),e;default:return""}}function Fh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case Ar:return"Portal";case zh:return"Profiler";case md:return"StrictMode";case bh:return"Suspense";case Bh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jv:return(e.displayName||"Context")+".Consumer";case Yv:return(e._context.displayName||"Context")+".Provider";case _d:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gd:return t=e.displayName||null,t!==null?t:Fh(e.type)||"Memo";case ni:t=e._payload,e=e._init;try{return Fh(e(t))}catch{}}return null}function FP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fh(t);case 8:return t===md?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ei(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ey(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UP(e){var t=ey(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ua(e){e._valueTracker||(e._valueTracker=UP(e))}function ny(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ey(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uh(e,t){var n=t.checked;return Ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function A_(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ei(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&pd(e,"checked",t,!1)}function $h(e,t){iy(e,t);var n=Ei(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jh(e,t.type,n):t.hasOwnProperty("defaultValue")&&jh(e,t.type,Ei(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function x_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jh(e,t,n){(t!=="number"||Au(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yo=Array.isArray;function $r(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ei(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Hh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function k_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Yo(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ei(n)}}function ry(e,t){var n=Ei(t.value),i=Ei(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function R_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $a,sy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($a=$a||document.createElement("div"),$a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ts(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$P=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(e){$P.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ss[t]=ss[e]})});function ay(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ss.hasOwnProperty(e)&&ss[e]?(""+t).trim():t+"px"}function uy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=ay(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var jP=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wh(e,t){if(t){if(jP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Gh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=null;function vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kh=null,jr=null,Hr=null;function M_(e){if(e=ia(e)){if(typeof Kh!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Tl(t),Kh(e.stateNode,e.type,t))}}function ly(e){jr?Hr?Hr.push(e):Hr=[e]:jr=e}function cy(){if(jr){var e=jr,t=Hr;if(Hr=jr=null,M_(e),t)for(e=0;e<t.length;e++)M_(t[e])}}function hy(e,t){return e(t)}function fy(){}var Xc=!1;function dy(e,t,n){if(Xc)return e(t,n);Xc=!0;try{return hy(e,t,n)}finally{Xc=!1,(jr!==null||Hr!==null)&&(fy(),cy())}}function Ps(e,t){var n=e.stateNode;if(n===null)return null;var i=Tl(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Qh=!1;if(Hn)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Qh=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Qh=!1}function HP(e,t,n,i,o,s,a,c,h){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var as=!1,xu=null,ku=!1,Xh=null,ZP={onError:function(e){as=!0,xu=e}};function WP(e,t,n,i,o,s,a,c,h){as=!1,xu=null,HP.apply(ZP,arguments)}function GP(e,t,n,i,o,s,a,c,h){if(WP.apply(this,arguments),as){if(as){var d=xu;as=!1,xu=null}else throw Error(N(198));ku||(ku=!0,Xh=d)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function py(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O_(e){if(cr(e)!==e)throw Error(N(188))}function qP(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return O_(o),e;if(s===i)return O_(o),t;s=s.sibling}throw Error(N(188))}if(n.return!==i.return)n=o,i=s;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,i=s;break}if(c===i){a=!0,i=o,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,i=o;break}if(c===i){a=!0,i=s,n=o;break}c=c.sibling}if(!a)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function my(e){return e=qP(e),e!==null?_y(e):null}function _y(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_y(e);if(t!==null)return t;e=e.sibling}return null}var gy=Ue.unstable_scheduleCallback,D_=Ue.unstable_cancelCallback,KP=Ue.unstable_shouldYield,QP=Ue.unstable_requestPaint,bt=Ue.unstable_now,XP=Ue.unstable_getCurrentPriorityLevel,yd=Ue.unstable_ImmediatePriority,vy=Ue.unstable_UserBlockingPriority,Ru=Ue.unstable_NormalPriority,YP=Ue.unstable_LowPriority,yy=Ue.unstable_IdlePriority,vl=null,Cn=null;function JP(e){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:nS,tS=Math.log,eS=Math.LN2;function nS(e){return e>>>=0,e===0?32:31-(tS(e)/eS|0)|0}var ja=64,Ha=4194304;function Jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mu(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~o;c!==0?i=Jo(c):(s&=a,s!==0&&(i=Jo(s)))}else a=n&~o,a!==0?i=Jo(a):s!==0&&(i=Jo(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-ln(t),o=1<<n,i|=e[n],t&=~o;return i}function iS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rS(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ln(s),c=1<<a,h=o[a];h===-1?(!(c&n)||c&i)&&(o[a]=iS(c,t)):h<=t&&(e.expiredLanes|=c),s&=~c}}function Yh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wy(){var e=ja;return ja<<=1,!(ja&4194240)&&(ja=64),e}function Yc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=n}function oS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ln(n),s=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~s}}function wd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ln(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var gt=0;function Ey(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ty,Ed,Py,Sy,Cy,Jh=!1,Za=[],li=null,ci=null,hi=null,Ss=new Map,Cs=new Map,ri=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N_(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function $o(e,t,n,i,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},t!==null&&(t=ia(t),t!==null&&Ed(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function aS(e,t,n,i,o){switch(t){case"focusin":return li=$o(li,e,t,n,i,o),!0;case"dragenter":return ci=$o(ci,e,t,n,i,o),!0;case"mouseover":return hi=$o(hi,e,t,n,i,o),!0;case"pointerover":var s=o.pointerId;return Ss.set(s,$o(Ss.get(s)||null,e,t,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,Cs.set(s,$o(Cs.get(s)||null,e,t,n,i,o)),!0}return!1}function Iy(e){var t=Hi(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=py(n),t!==null){e.blockedOn=t,Cy(e.priority,function(){Py(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);qh=i,n.target.dispatchEvent(i),qh=null}else return t=ia(n),t!==null&&Ed(t),e.blockedOn=n,!1;t.shift()}return!0}function V_(e,t,n){fu(e)&&n.delete(t)}function uS(){Jh=!1,li!==null&&fu(li)&&(li=null),ci!==null&&fu(ci)&&(ci=null),hi!==null&&fu(hi)&&(hi=null),Ss.forEach(V_),Cs.forEach(V_)}function jo(e,t){e.blockedOn===t&&(e.blockedOn=null,Jh||(Jh=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,uS)))}function Is(e){function t(o){return jo(o,e)}if(0<Za.length){jo(Za[0],e);for(var n=1;n<Za.length;n++){var i=Za[n];i.blockedOn===e&&(i.blockedOn=null)}}for(li!==null&&jo(li,e),ci!==null&&jo(ci,e),hi!==null&&jo(hi,e),Ss.forEach(t),Cs.forEach(t),n=0;n<ri.length;n++)i=ri[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)Iy(n),n.blockedOn===null&&ri.shift()}var Zr=Xn.ReactCurrentBatchConfig,Ou=!0;function lS(e,t,n,i){var o=gt,s=Zr.transition;Zr.transition=null;try{gt=1,Td(e,t,n,i)}finally{gt=o,Zr.transition=s}}function cS(e,t,n,i){var o=gt,s=Zr.transition;Zr.transition=null;try{gt=4,Td(e,t,n,i)}finally{gt=o,Zr.transition=s}}function Td(e,t,n,i){if(Ou){var o=tf(e,t,n,i);if(o===null)uh(e,t,i,Du,n),N_(e,i);else if(aS(o,e,t,n,i))i.stopPropagation();else if(N_(e,i),t&4&&-1<sS.indexOf(e)){for(;o!==null;){var s=ia(o);if(s!==null&&Ty(s),s=tf(e,t,n,i),s===null&&uh(e,t,i,Du,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else uh(e,t,i,null,n)}}var Du=null;function tf(e,t,n,i){if(Du=null,e=vd(i),e=Hi(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=py(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Du=e,null}function Ly(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XP()){case yd:return 1;case vy:return 4;case Ru:case YP:return 16;case yy:return 536870912;default:return 16}default:return 16}}var si=null,Pd=null,du=null;function Ay(){if(du)return du;var e,t=Pd,n=t.length,i,o="value"in si?si.value:si.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===o[s-i];i++);return du=o.slice(e,1<i?1-i:void 0)}function pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wa(){return!0}function z_(){return!1}function He(e){function t(n,i,o,s,a){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wa:z_,this.isPropagationStopped=z_,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),t}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=He(mo),na=Ot({},mo,{view:0,detail:0}),hS=He(na),Jc,th,Ho,yl=Ot({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(Jc=e.screenX-Ho.screenX,th=e.screenY-Ho.screenY):th=Jc=0,Ho=e),Jc)},movementY:function(e){return"movementY"in e?e.movementY:th}}),b_=He(yl),fS=Ot({},yl,{dataTransfer:0}),dS=He(fS),pS=Ot({},na,{relatedTarget:0}),eh=He(pS),mS=Ot({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),_S=He(mS),gS=Ot({},mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vS=He(gS),yS=Ot({},mo,{data:0}),B_=He(yS),wS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ES={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TS[e])?!!t[e]:!1}function Cd(){return PS}var SS=Ot({},na,{key:function(e){if(e.key){var t=wS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ES[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(e){return e.type==="keypress"?pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CS=He(SS),IS=Ot({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F_=He(IS),LS=Ot({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),AS=He(LS),xS=Ot({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),kS=He(xS),RS=Ot({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MS=He(RS),OS=[9,13,27,32],Id=Hn&&"CompositionEvent"in window,us=null;Hn&&"documentMode"in document&&(us=document.documentMode);var DS=Hn&&"TextEvent"in window&&!us,xy=Hn&&(!Id||us&&8<us&&11>=us),U_=" ",$_=!1;function ky(e,t){switch(e){case"keyup":return OS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kr=!1;function NS(e,t){switch(e){case"compositionend":return Ry(t);case"keypress":return t.which!==32?null:($_=!0,U_);case"textInput":return e=t.data,e===U_&&$_?null:e;default:return null}}function VS(e,t){if(kr)return e==="compositionend"||!Id&&ky(e,t)?(e=Ay(),du=Pd=si=null,kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xy&&t.locale!=="ko"?null:t.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zS[e.type]:t==="textarea"}function My(e,t,n,i){ly(i),t=Nu(t,"onChange"),0<t.length&&(n=new Sd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ls=null,Ls=null;function bS(e){jy(e,0)}function wl(e){var t=Or(e);if(ny(t))return e}function BS(e,t){if(e==="change")return t}var Oy=!1;if(Hn){var nh;if(Hn){var ih="oninput"in document;if(!ih){var H_=document.createElement("div");H_.setAttribute("oninput","return;"),ih=typeof H_.oninput=="function"}nh=ih}else nh=!1;Oy=nh&&(!document.documentMode||9<document.documentMode)}function Z_(){ls&&(ls.detachEvent("onpropertychange",Dy),Ls=ls=null)}function Dy(e){if(e.propertyName==="value"&&wl(Ls)){var t=[];My(t,Ls,e,vd(e)),dy(bS,t)}}function FS(e,t,n){e==="focusin"?(Z_(),ls=t,Ls=n,ls.attachEvent("onpropertychange",Dy)):e==="focusout"&&Z_()}function US(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wl(Ls)}function $S(e,t){if(e==="click")return wl(t)}function jS(e,t){if(e==="input"||e==="change")return wl(t)}function HS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:HS;function As(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Vh.call(t,o)||!fn(e[o],t[o]))return!1}return!0}function W_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function G_(e,t){var n=W_(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=W_(n)}}function Ny(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ny(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vy(){for(var e=window,t=Au();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Au(e.document)}return t}function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZS(e){var t=Vy(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ny(n.ownerDocument.documentElement,n)){if(i!==null&&Ld(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(i.start,o);i=i.end===void 0?s:Math.min(i.end,o),!e.extend&&s>i&&(o=i,i=s,s=o),o=G_(n,s);var a=G_(n,i);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WS=Hn&&"documentMode"in document&&11>=document.documentMode,Rr=null,ef=null,cs=null,nf=!1;function q_(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nf||Rr==null||Rr!==Au(i)||(i=Rr,"selectionStart"in i&&Ld(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),cs&&As(cs,i)||(cs=i,i=Nu(ef,"onSelect"),0<i.length&&(t=new Sd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Rr)))}function Ga(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mr={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},rh={},zy={};Hn&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function El(e){if(rh[e])return rh[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zy)return rh[e]=t[n];return e}var by=El("animationend"),By=El("animationiteration"),Fy=El("animationstart"),Uy=El("transitionend"),$y=new Map,K_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){$y.set(e,t),lr(t,[e])}for(var oh=0;oh<K_.length;oh++){var sh=K_[oh],GS=sh.toLowerCase(),qS=sh[0].toUpperCase()+sh.slice(1);Li(GS,"on"+qS)}Li(by,"onAnimationEnd");Li(By,"onAnimationIteration");Li(Fy,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(Uy,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function Q_(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,GP(i,t,void 0,e),e.currentTarget=null}function jy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var c=i[a],h=c.instance,d=c.currentTarget;if(c=c.listener,h!==s&&o.isPropagationStopped())break t;Q_(o,c,d),s=h}else for(a=0;a<i.length;a++){if(c=i[a],h=c.instance,d=c.currentTarget,c=c.listener,h!==s&&o.isPropagationStopped())break t;Q_(o,c,d),s=h}}}if(ku)throw e=Xh,ku=!1,Xh=null,e}function Ct(e,t){var n=t[uf];n===void 0&&(n=t[uf]=new Set);var i=e+"__bubble";n.has(i)||(Hy(t,e,2,!1),n.add(i))}function ah(e,t,n){var i=0;t&&(i|=4),Hy(n,e,i,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[qa]){e[qa]=!0,Xv.forEach(function(n){n!=="selectionchange"&&(KS.has(n)||ah(n,!1,e),ah(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qa]||(t[qa]=!0,ah("selectionchange",!1,t))}}function Hy(e,t,n,i){switch(Ly(t)){case 1:var o=lS;break;case 4:o=cS;break;default:o=Td}n=o.bind(null,t,n,e),o=void 0,!Qh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function uh(e,t,n,i,o){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;a=a.return}for(;c!==null;){if(a=Hi(c),a===null)return;if(h=a.tag,h===5||h===6){i=s=a;continue t}c=c.parentNode}}i=i.return}dy(function(){var d=s,m=vd(n),_=[];t:{var v=$y.get(e);if(v!==void 0){var y=Sd,C=e;switch(e){case"keypress":if(pu(n)===0)break t;case"keydown":case"keyup":y=CS;break;case"focusin":C="focus",y=eh;break;case"focusout":C="blur",y=eh;break;case"beforeblur":case"afterblur":y=eh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=b_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=AS;break;case by:case By:case Fy:y=_S;break;case Uy:y=kS;break;case"scroll":y=hS;break;case"wheel":y=MS;break;case"copy":case"cut":case"paste":y=vS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=F_}var S=(t&4)!==0,R=!S&&e==="scroll",E=S?v!==null?v+"Capture":null:v;S=[];for(var w=d,P;w!==null;){P=w;var x=P.stateNode;if(P.tag===5&&x!==null&&(P=x,E!==null&&(x=Ps(w,E),x!=null&&S.push(ks(w,x,P)))),R)break;w=w.return}0<S.length&&(v=new y(v,C,null,n,m),_.push({event:v,listeners:S}))}}if(!(t&7)){t:{if(v=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",v&&n!==qh&&(C=n.relatedTarget||n.fromElement)&&(Hi(C)||C[Zn]))break t;if((y||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=d,C=C?Hi(C):null,C!==null&&(R=cr(C),C!==R||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=d),y!==C)){if(S=b_,x="onMouseLeave",E="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(S=F_,x="onPointerLeave",E="onPointerEnter",w="pointer"),R=y==null?v:Or(y),P=C==null?v:Or(C),v=new S(x,w+"leave",y,n,m),v.target=R,v.relatedTarget=P,x=null,Hi(m)===d&&(S=new S(E,w+"enter",C,n,m),S.target=P,S.relatedTarget=R,x=S),R=x,y&&C)e:{for(S=y,E=C,w=0,P=S;P;P=Pr(P))w++;for(P=0,x=E;x;x=Pr(x))P++;for(;0<w-P;)S=Pr(S),w--;for(;0<P-w;)E=Pr(E),P--;for(;w--;){if(S===E||E!==null&&S===E.alternate)break e;S=Pr(S),E=Pr(E)}S=null}else S=null;y!==null&&X_(_,v,y,S,!1),C!==null&&R!==null&&X_(_,R,C,S,!0)}}t:{if(v=d?Or(d):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var V=BS;else if(j_(v))if(Oy)V=jS;else{V=US;var F=FS}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(V=$S);if(V&&(V=V(e,d))){My(_,V,n,m);break t}F&&F(e,v,d),e==="focusout"&&(F=v._wrapperState)&&F.controlled&&v.type==="number"&&jh(v,"number",v.value)}switch(F=d?Or(d):window,e){case"focusin":(j_(F)||F.contentEditable==="true")&&(Rr=F,ef=d,cs=null);break;case"focusout":cs=ef=Rr=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,q_(_,n,m);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":q_(_,n,m)}var j;if(Id)t:{switch(e){case"compositionstart":var Z="onCompositionStart";break t;case"compositionend":Z="onCompositionEnd";break t;case"compositionupdate":Z="onCompositionUpdate";break t}Z=void 0}else kr?ky(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(xy&&n.locale!=="ko"&&(kr||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&kr&&(j=Ay()):(si=m,Pd="value"in si?si.value:si.textContent,kr=!0)),F=Nu(d,Z),0<F.length&&(Z=new B_(Z,e,null,n,m),_.push({event:Z,listeners:F}),j?Z.data=j:(j=Ry(n),j!==null&&(Z.data=j)))),(j=DS?NS(e,n):VS(e,n))&&(d=Nu(d,"onBeforeInput"),0<d.length&&(m=new B_("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:d}),m.data=j))}jy(_,t)})}function ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nu(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ps(e,n),s!=null&&i.unshift(ks(e,s,o)),s=Ps(e,t),s!=null&&i.push(ks(e,s,o))),e=e.return}return i}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function X_(e,t,n,i,o){for(var s=t._reactName,a=[];n!==null&&n!==i;){var c=n,h=c.alternate,d=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&d!==null&&(c=d,o?(h=Ps(n,s),h!=null&&a.unshift(ks(n,h,c))):o||(h=Ps(n,s),h!=null&&a.push(ks(n,h,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var QS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function Y_(e){return(typeof e=="string"?e:""+e).replace(QS,`
`).replace(XS,"")}function Ka(e,t,n){if(t=Y_(t),Y_(e)!==t&&n)throw Error(N(425))}function Vu(){}var rf=null,of=null;function sf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var af=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,JS=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(e){return J_.resolve(null).then(e).catch(tC)}:af;function tC(e){setTimeout(function(){throw e})}function lh(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),Is(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);Is(t)}function fi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _o=Math.random().toString(36).slice(2),En="__reactFiber$"+_o,Rs="__reactProps$"+_o,Zn="__reactContainer$"+_o,uf="__reactEvents$"+_o,eC="__reactListeners$"+_o,nC="__reactHandles$"+_o;function Hi(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zn]||n[En]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tg(e);e!==null;){if(n=e[En])return n;e=tg(e)}return t}e=n,n=e.parentNode}return null}function ia(e){return e=e[En]||e[Zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Tl(e){return e[Rs]||null}var lf=[],Dr=-1;function Ai(e){return{current:e}}function Lt(e){0>Dr||(e.current=lf[Dr],lf[Dr]=null,Dr--)}function Pt(e,t){Dr++,lf[Dr]=e.current,e.current=t}var Ti={},we=Ai(Ti),Oe=Ai(!1),tr=Ti;function Jr(e,t){var n=e.type.contextTypes;if(!n)return Ti;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function De(e){return e=e.childContextTypes,e!=null}function zu(){Lt(Oe),Lt(we)}function eg(e,t,n){if(we.current!==Ti)throw Error(N(168));Pt(we,t),Pt(Oe,n)}function Zy(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(N(108,FP(e)||"Unknown",o));return Ot({},n,i)}function bu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,tr=we.current,Pt(we,e),Pt(Oe,Oe.current),!0}function ng(e,t,n){var i=e.stateNode;if(!i)throw Error(N(169));n?(e=Zy(e,t,tr),i.__reactInternalMemoizedMergedChildContext=e,Lt(Oe),Lt(we),Pt(we,e)):Lt(Oe),Pt(Oe,n)}var Bn=null,Pl=!1,ch=!1;function Wy(e){Bn===null?Bn=[e]:Bn.push(e)}function iC(e){Pl=!0,Wy(e)}function xi(){if(!ch&&Bn!==null){ch=!0;var e=0,t=gt;try{var n=Bn;for(gt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Bn=null,Pl=!1}catch(o){throw Bn!==null&&(Bn=Bn.slice(e+1)),gy(yd,xi),o}finally{gt=t,ch=!1}}return null}var Nr=[],Vr=0,Bu=null,Fu=0,Ke=[],Qe=0,er=null,Fn=1,Un="";function Fi(e,t){Nr[Vr++]=Fu,Nr[Vr++]=Bu,Bu=e,Fu=t}function Gy(e,t,n){Ke[Qe++]=Fn,Ke[Qe++]=Un,Ke[Qe++]=er,er=e;var i=Fn;e=Un;var o=32-ln(i)-1;i&=~(1<<o),n+=1;var s=32-ln(t)+o;if(30<s){var a=o-o%5;s=(i&(1<<a)-1).toString(32),i>>=a,o-=a,Fn=1<<32-ln(t)+o|n<<o|i,Un=s+e}else Fn=1<<s|n<<o|i,Un=e}function Ad(e){e.return!==null&&(Fi(e,1),Gy(e,1,0))}function xd(e){for(;e===Bu;)Bu=Nr[--Vr],Nr[Vr]=null,Fu=Nr[--Vr],Nr[Vr]=null;for(;e===er;)er=Ke[--Qe],Ke[Qe]=null,Un=Ke[--Qe],Ke[Qe]=null,Fn=Ke[--Qe],Ke[Qe]=null}var Be=null,ze=null,At=!1,un=null;function qy(e,t){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ig(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,ze=fi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=er!==null?{id:Fn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,ze=null,!0):!1;default:return!1}}function cf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hf(e){if(At){var t=ze;if(t){var n=t;if(!ig(e,t)){if(cf(e))throw Error(N(418));t=fi(n.nextSibling);var i=Be;t&&ig(e,t)?qy(i,n):(e.flags=e.flags&-4097|2,At=!1,Be=e)}}else{if(cf(e))throw Error(N(418));e.flags=e.flags&-4097|2,At=!1,Be=e}}}function rg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Qa(e){if(e!==Be)return!1;if(!At)return rg(e),At=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sf(e.type,e.memoizedProps)),t&&(t=ze)){if(cf(e))throw Ky(),Error(N(418));for(;t;)qy(e,t),t=fi(t.nextSibling)}if(rg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=fi(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Be?fi(e.stateNode.nextSibling):null;return!0}function Ky(){for(var e=ze;e;)e=fi(e.nextSibling)}function to(){ze=Be=null,At=!1}function kd(e){un===null?un=[e]:un.push(e)}var rC=Xn.ReactCurrentBatchConfig;function sn(e,t){if(e&&e.defaultProps){t=Ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Uu=Ai(null),$u=null,zr=null,Rd=null;function Md(){Rd=zr=$u=null}function Od(e){var t=Uu.current;Lt(Uu),e._currentValue=t}function ff(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Wr(e,t){$u=e,Rd=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function tn(e){var t=e._currentValue;if(Rd!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if($u===null)throw Error(N(308));zr=e,$u.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var Zi=null;function Dd(e){Zi===null?Zi=[e]:Zi.push(e)}function Qy(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,Dd(t)):(n.next=o.next,o.next=n),t.interleaved=n,Wn(e,i)}function Wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ii=!1;function Nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function di(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,Wn(e,n)}return o=i.interleaved,o===null?(t.next=t,Dd(i)):(t.next=o.next,o.next=t),i.interleaved=t,Wn(e,n)}function mu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,wd(e,n)}}function og(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ju(e,t,n,i){var o=e.updateQueue;ii=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var h=c,d=h.next;h.next=null,a===null?s=d:a.next=d,a=h;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==a&&(c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=h))}if(s!==null){var _=o.baseState;a=0,m=d=h=null,c=s;do{var v=c.lane,y=c.eventTime;if((i&v)===v){m!==null&&(m=m.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});t:{var C=e,S=c;switch(v=t,y=n,S.tag){case 1:if(C=S.payload,typeof C=="function"){_=C.call(y,_,v);break t}_=C;break t;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,v=typeof C=="function"?C.call(y,_,v):C,v==null)break t;_=Ot({},_,v);break t;case 2:ii=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=o.effects,v===null?o.effects=[c]:v.push(c))}else y={eventTime:y,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(d=m=y,h=_):m=m.next=y,a|=v;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;v=c,c=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(m===null&&(h=_),o.baseState=h,o.firstBaseUpdate=d,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);ir|=a,e.lanes=a,e.memoizedState=_}}function sg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(N(191,o));o.call(i)}}}var Yy=new Qv.Component().refs;function df(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sl={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ce(),o=mi(e),s=jn(i,o);s.payload=t,n!=null&&(s.callback=n),t=di(e,s,o),t!==null&&(cn(t,e,o,i),mu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ce(),o=mi(e),s=jn(i,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=di(e,s,o),t!==null&&(cn(t,e,o,i),mu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),i=mi(e),o=jn(n,i);o.tag=2,t!=null&&(o.callback=t),t=di(e,o,i),t!==null&&(cn(t,e,i,n),mu(t,e,i))}};function ag(e,t,n,i,o,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!As(n,i)||!As(o,s):!0}function Jy(e,t,n){var i=!1,o=Ti,s=t.contextType;return typeof s=="object"&&s!==null?s=tn(s):(o=De(t)?tr:we.current,i=t.contextTypes,s=(i=i!=null)?Jr(e,o):Ti),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sl,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function ug(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Sl.enqueueReplaceState(t,t.state,null)}function pf(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Yy,Nd(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=tn(s):(s=De(t)?tr:we.current,o.context=Jr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(df(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Sl.enqueueReplaceState(o,o.state,null),ju(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var i=n.stateNode}if(!i)throw Error(N(147,e));var o=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var c=o.refs;c===Yy&&(c=o.refs={}),a===null?delete c[s]:c[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lg(e){var t=e._init;return t(e._payload)}function t0(e){function t(E,w){if(e){var P=E.deletions;P===null?(E.deletions=[w],E.flags|=16):P.push(w)}}function n(E,w){if(!e)return null;for(;w!==null;)t(E,w),w=w.sibling;return null}function i(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function o(E,w){return E=_i(E,w),E.index=0,E.sibling=null,E}function s(E,w,P){return E.index=P,e?(P=E.alternate,P!==null?(P=P.index,P<w?(E.flags|=2,w):P):(E.flags|=2,w)):(E.flags|=1048576,w)}function a(E){return e&&E.alternate===null&&(E.flags|=2),E}function c(E,w,P,x){return w===null||w.tag!==6?(w=gh(P,E.mode,x),w.return=E,w):(w=o(w,P),w.return=E,w)}function h(E,w,P,x){var V=P.type;return V===xr?m(E,w,P.props.children,x,P.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ni&&lg(V)===w.type)?(x=o(w,P.props),x.ref=Zo(E,w,P),x.return=E,x):(x=Eu(P.type,P.key,P.props,null,E.mode,x),x.ref=Zo(E,w,P),x.return=E,x)}function d(E,w,P,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==P.containerInfo||w.stateNode.implementation!==P.implementation?(w=vh(P,E.mode,x),w.return=E,w):(w=o(w,P.children||[]),w.return=E,w)}function m(E,w,P,x,V){return w===null||w.tag!==7?(w=Yi(P,E.mode,x,V),w.return=E,w):(w=o(w,P),w.return=E,w)}function _(E,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return w=gh(""+w,E.mode,P),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fa:return P=Eu(w.type,w.key,w.props,null,E.mode,P),P.ref=Zo(E,null,w),P.return=E,P;case Ar:return w=vh(w,E.mode,P),w.return=E,w;case ni:var x=w._init;return _(E,x(w._payload),P)}if(Yo(w)||Fo(w))return w=Yi(w,E.mode,P,null),w.return=E,w;Xa(E,w)}return null}function v(E,w,P,x){var V=w!==null?w.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return V!==null?null:c(E,w,""+P,x);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Fa:return P.key===V?h(E,w,P,x):null;case Ar:return P.key===V?d(E,w,P,x):null;case ni:return V=P._init,v(E,w,V(P._payload),x)}if(Yo(P)||Fo(P))return V!==null?null:m(E,w,P,x,null);Xa(E,P)}return null}function y(E,w,P,x,V){if(typeof x=="string"&&x!==""||typeof x=="number")return E=E.get(P)||null,c(w,E,""+x,V);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fa:return E=E.get(x.key===null?P:x.key)||null,h(w,E,x,V);case Ar:return E=E.get(x.key===null?P:x.key)||null,d(w,E,x,V);case ni:var F=x._init;return y(E,w,P,F(x._payload),V)}if(Yo(x)||Fo(x))return E=E.get(P)||null,m(w,E,x,V,null);Xa(w,x)}return null}function C(E,w,P,x){for(var V=null,F=null,j=w,Z=w=0,wt=null;j!==null&&Z<P.length;Z++){j.index>Z?(wt=j,j=null):wt=j.sibling;var it=v(E,j,P[Z],x);if(it===null){j===null&&(j=wt);break}e&&j&&it.alternate===null&&t(E,j),w=s(it,w,Z),F===null?V=it:F.sibling=it,F=it,j=wt}if(Z===P.length)return n(E,j),At&&Fi(E,Z),V;if(j===null){for(;Z<P.length;Z++)j=_(E,P[Z],x),j!==null&&(w=s(j,w,Z),F===null?V=j:F.sibling=j,F=j);return At&&Fi(E,Z),V}for(j=i(E,j);Z<P.length;Z++)wt=y(j,E,Z,P[Z],x),wt!==null&&(e&&wt.alternate!==null&&j.delete(wt.key===null?Z:wt.key),w=s(wt,w,Z),F===null?V=wt:F.sibling=wt,F=wt);return e&&j.forEach(function(Et){return t(E,Et)}),At&&Fi(E,Z),V}function S(E,w,P,x){var V=Fo(P);if(typeof V!="function")throw Error(N(150));if(P=V.call(P),P==null)throw Error(N(151));for(var F=V=null,j=w,Z=w=0,wt=null,it=P.next();j!==null&&!it.done;Z++,it=P.next()){j.index>Z?(wt=j,j=null):wt=j.sibling;var Et=v(E,j,it.value,x);if(Et===null){j===null&&(j=wt);break}e&&j&&Et.alternate===null&&t(E,j),w=s(Et,w,Z),F===null?V=Et:F.sibling=Et,F=Et,j=wt}if(it.done)return n(E,j),At&&Fi(E,Z),V;if(j===null){for(;!it.done;Z++,it=P.next())it=_(E,it.value,x),it!==null&&(w=s(it,w,Z),F===null?V=it:F.sibling=it,F=it);return At&&Fi(E,Z),V}for(j=i(E,j);!it.done;Z++,it=P.next())it=y(j,E,Z,it.value,x),it!==null&&(e&&it.alternate!==null&&j.delete(it.key===null?Z:it.key),w=s(it,w,Z),F===null?V=it:F.sibling=it,F=it);return e&&j.forEach(function(Kt){return t(E,Kt)}),At&&Fi(E,Z),V}function R(E,w,P,x){if(typeof P=="object"&&P!==null&&P.type===xr&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Fa:t:{for(var V=P.key,F=w;F!==null;){if(F.key===V){if(V=P.type,V===xr){if(F.tag===7){n(E,F.sibling),w=o(F,P.props.children),w.return=E,E=w;break t}}else if(F.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ni&&lg(V)===F.type){n(E,F.sibling),w=o(F,P.props),w.ref=Zo(E,F,P),w.return=E,E=w;break t}n(E,F);break}else t(E,F);F=F.sibling}P.type===xr?(w=Yi(P.props.children,E.mode,x,P.key),w.return=E,E=w):(x=Eu(P.type,P.key,P.props,null,E.mode,x),x.ref=Zo(E,w,P),x.return=E,E=x)}return a(E);case Ar:t:{for(F=P.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===P.containerInfo&&w.stateNode.implementation===P.implementation){n(E,w.sibling),w=o(w,P.children||[]),w.return=E,E=w;break t}else{n(E,w);break}else t(E,w);w=w.sibling}w=vh(P,E.mode,x),w.return=E,E=w}return a(E);case ni:return F=P._init,R(E,w,F(P._payload),x)}if(Yo(P))return C(E,w,P,x);if(Fo(P))return S(E,w,P,x);Xa(E,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,w!==null&&w.tag===6?(n(E,w.sibling),w=o(w,P),w.return=E,E=w):(n(E,w),w=gh(P,E.mode,x),w.return=E,E=w),a(E)):n(E,w)}return R}var eo=t0(!0),e0=t0(!1),ra={},In=Ai(ra),Ms=Ai(ra),Os=Ai(ra);function Wi(e){if(e===ra)throw Error(N(174));return e}function Vd(e,t){switch(Pt(Os,t),Pt(Ms,e),Pt(In,ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zh(t,e)}Lt(In),Pt(In,t)}function no(){Lt(In),Lt(Ms),Lt(Os)}function n0(e){Wi(Os.current);var t=Wi(In.current),n=Zh(t,e.type);t!==n&&(Pt(Ms,e),Pt(In,n))}function zd(e){Ms.current===e&&(Lt(In),Lt(Ms))}var Rt=Ai(0);function Hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hh=[];function bd(){for(var e=0;e<hh.length;e++)hh[e]._workInProgressVersionPrimary=null;hh.length=0}var _u=Xn.ReactCurrentDispatcher,fh=Xn.ReactCurrentBatchConfig,nr=0,Mt=null,Zt=null,Yt=null,Zu=!1,hs=!1,Ds=0,oC=0;function fe(){throw Error(N(321))}function Bd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function Fd(e,t,n,i,o,s){if(nr=s,Mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_u.current=e===null||e.memoizedState===null?lC:cC,e=n(i,o),hs){s=0;do{if(hs=!1,Ds=0,25<=s)throw Error(N(301));s+=1,Yt=Zt=null,t.updateQueue=null,_u.current=hC,e=n(i,o)}while(hs)}if(_u.current=Wu,t=Zt!==null&&Zt.next!==null,nr=0,Yt=Zt=Mt=null,Zu=!1,t)throw Error(N(300));return e}function Ud(){var e=Ds!==0;return Ds=0,e}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Mt.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function en(){if(Zt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var t=Yt===null?Mt.memoizedState:Yt.next;if(t!==null)Yt=t,Zt=e;else{if(e===null)throw Error(N(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Yt===null?Mt.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function Ns(e,t){return typeof t=="function"?t(e):t}function dh(e){var t=en(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=Zt,o=i.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}i.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,i=i.baseState;var c=a=null,h=null,d=s;do{var m=d.lane;if((nr&m)===m)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var _={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(c=h=_,a=i):h=h.next=_,Mt.lanes|=m,ir|=m}d=d.next}while(d!==null&&d!==s);h===null?a=i:h.next=c,fn(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=h,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Mt.lanes|=s,ir|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ph(e){var t=en(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=e(s,a.action),a=a.next;while(a!==o);fn(s,t.memoizedState)||(Me=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function i0(){}function r0(e,t){var n=Mt,i=en(),o=t(),s=!fn(i.memoizedState,o);if(s&&(i.memoizedState=o,Me=!0),i=i.queue,$d(a0.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,Vs(9,s0.bind(null,n,i,o,t),void 0,null),Jt===null)throw Error(N(349));nr&30||o0(n,t,o)}return o}function o0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function s0(e,t,n,i){t.value=n,t.getSnapshot=i,u0(t)&&l0(e)}function a0(e,t,n){return n(function(){u0(t)&&l0(e)})}function u0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function l0(e){var t=Wn(e,1);t!==null&&cn(t,e,1,-1)}function cg(e){var t=yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=uC.bind(null,Mt,e),[t.memoizedState,e]}function Vs(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function c0(){return en().memoizedState}function gu(e,t,n,i){var o=yn();Mt.flags|=e,o.memoizedState=Vs(1|t,n,void 0,i===void 0?null:i)}function Cl(e,t,n,i){var o=en();i=i===void 0?null:i;var s=void 0;if(Zt!==null){var a=Zt.memoizedState;if(s=a.destroy,i!==null&&Bd(i,a.deps)){o.memoizedState=Vs(t,n,s,i);return}}Mt.flags|=e,o.memoizedState=Vs(1|t,n,s,i)}function hg(e,t){return gu(8390656,8,e,t)}function $d(e,t){return Cl(2048,8,e,t)}function h0(e,t){return Cl(4,2,e,t)}function f0(e,t){return Cl(4,4,e,t)}function d0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p0(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4,4,d0.bind(null,t,e),n)}function jd(){}function m0(e,t){var n=en();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Bd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _0(e,t){var n=en();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Bd(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function g0(e,t,n){return nr&21?(fn(n,t)||(n=wy(),Mt.lanes|=n,ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function sC(e,t){var n=gt;gt=n!==0&&4>n?n:4,e(!0);var i=fh.transition;fh.transition={};try{e(!1),t()}finally{gt=n,fh.transition=i}}function v0(){return en().memoizedState}function aC(e,t,n){var i=mi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},y0(e))w0(t,n);else if(n=Qy(e,t,n,i),n!==null){var o=Ce();cn(n,e,i,o),E0(n,t,i)}}function uC(e,t,n){var i=mi(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(y0(e))w0(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,c=s(a,n);if(o.hasEagerState=!0,o.eagerState=c,fn(c,a)){var h=t.interleaved;h===null?(o.next=o,Dd(t)):(o.next=h.next,h.next=o),t.interleaved=o;return}}catch{}finally{}n=Qy(e,t,o,i),n!==null&&(o=Ce(),cn(n,e,i,o),E0(n,t,i))}}function y0(e){var t=e.alternate;return e===Mt||t!==null&&t===Mt}function w0(e,t){hs=Zu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function E0(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,wd(e,n)}}var Wu={readContext:tn,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},lC={readContext:tn,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:hg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gu(4194308,4,d0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return gu(4,2,e,t)},useMemo:function(e,t){var n=yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=yn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=aC.bind(null,Mt,e),[i.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:cg,useDebugValue:jd,useDeferredValue:function(e){return yn().memoizedState=e},useTransition:function(){var e=cg(!1),t=e[0];return e=sC.bind(null,e[1]),yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Mt,o=yn();if(At){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Jt===null)throw Error(N(349));nr&30||o0(i,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,hg(a0.bind(null,i,s,e),[e]),i.flags|=2048,Vs(9,s0.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=yn(),t=Jt.identifierPrefix;if(At){var n=Un,i=Fn;n=(i&~(1<<32-ln(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ds++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cC={readContext:tn,useCallback:m0,useContext:tn,useEffect:$d,useImperativeHandle:p0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:_0,useReducer:dh,useRef:c0,useState:function(){return dh(Ns)},useDebugValue:jd,useDeferredValue:function(e){var t=en();return g0(t,Zt.memoizedState,e)},useTransition:function(){var e=dh(Ns)[0],t=en().memoizedState;return[e,t]},useMutableSource:i0,useSyncExternalStore:r0,useId:v0,unstable_isNewReconciler:!1},hC={readContext:tn,useCallback:m0,useContext:tn,useEffect:$d,useImperativeHandle:p0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:_0,useReducer:ph,useRef:c0,useState:function(){return ph(Ns)},useDebugValue:jd,useDeferredValue:function(e){var t=en();return Zt===null?t.memoizedState=e:g0(t,Zt.memoizedState,e)},useTransition:function(){var e=ph(Ns)[0],t=en().memoizedState;return[e,t]},useMutableSource:i0,useSyncExternalStore:r0,useId:v0,unstable_isNewReconciler:!1};function io(e,t){try{var n="",i=t;do n+=BP(i),i=i.return;while(i);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function mh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fC=typeof WeakMap=="function"?WeakMap:Map;function T0(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){qu||(qu=!0,Cf=i),mf(e,t)},n}function P0(e,t,n){n=jn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){mf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){mf(e,t),typeof i!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function fg(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new fC;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=IC.bind(null,e,t,n),t.then(e,e))}function dg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pg(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,di(n,t,1))),n.lanes|=1),e)}var dC=Xn.ReactCurrentOwner,Me=!1;function Pe(e,t,n,i){t.child=e===null?e0(t,null,n,i):eo(t,e.child,n,i)}function mg(e,t,n,i,o){n=n.render;var s=t.ref;return Wr(t,o),i=Fd(e,t,n,i,s,o),n=Ud(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gn(e,t,o)):(At&&n&&Ad(t),t.flags|=1,Pe(e,t,i,o),t.child)}function _g(e,t,n,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!Xd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,S0(e,t,s,i,o)):(e=Eu(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:As,n(a,i)&&e.ref===t.ref)return Gn(e,t,o)}return t.flags|=1,e=_i(s,i),e.ref=t.ref,e.return=t,t.child=e}function S0(e,t,n,i,o){if(e!==null){var s=e.memoizedProps;if(As(s,i)&&e.ref===t.ref)if(Me=!1,t.pendingProps=i=s,(e.lanes&o)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Gn(e,t,o)}return _f(e,t,n,i,o)}function C0(e,t,n){var i=t.pendingProps,o=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Br,Ve),Ve|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(Br,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Pt(Br,Ve),Ve|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,Pt(Br,Ve),Ve|=i;return Pe(e,t,o,n),t.child}function I0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _f(e,t,n,i,o){var s=De(n)?tr:we.current;return s=Jr(t,s),Wr(t,o),n=Fd(e,t,n,i,s,o),i=Ud(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gn(e,t,o)):(At&&i&&Ad(t),t.flags|=1,Pe(e,t,n,o),t.child)}function gg(e,t,n,i,o){if(De(n)){var s=!0;bu(t)}else s=!1;if(Wr(t,o),t.stateNode===null)vu(e,t),Jy(t,n,i),pf(t,n,i,o),i=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var h=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=tn(d):(d=De(n)?tr:we.current,d=Jr(t,d));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||h!==d)&&ug(t,a,i,d),ii=!1;var v=t.memoizedState;a.state=v,ju(t,i,a,o),h=t.memoizedState,c!==i||v!==h||Oe.current||ii?(typeof m=="function"&&(df(t,n,m,i),h=t.memoizedState),(c=ii||ag(t,n,c,i,v,h,d))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=d,i=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Xy(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:sn(t.type,c),a.props=d,_=t.pendingProps,v=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=tn(h):(h=De(n)?tr:we.current,h=Jr(t,h));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==_||v!==h)&&ug(t,a,i,h),ii=!1,v=t.memoizedState,a.state=v,ju(t,i,a,o);var C=t.memoizedState;c!==_||v!==C||Oe.current||ii?(typeof y=="function"&&(df(t,n,y,i),C=t.memoizedState),(d=ii||ag(t,n,d,i,v,C,h)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,C,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,C,h)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),a.props=i,a.state=C,a.context=h,i=d):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return gf(e,t,n,i,s,o)}function gf(e,t,n,i,o,s){I0(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return o&&ng(t,n,!1),Gn(e,t,s);i=t.stateNode,dC.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=eo(t,e.child,null,s),t.child=eo(t,null,c,s)):Pe(e,t,c,s),t.memoizedState=i.state,o&&ng(t,n,!0),t.child}function L0(e){var t=e.stateNode;t.pendingContext?eg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eg(e,t.context,!1),Vd(e,t.containerInfo)}function vg(e,t,n,i,o){return to(),kd(o),t.flags|=256,Pe(e,t,n,i),t.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function yf(e){return{baseLanes:e,cachePool:null,transitions:null}}function A0(e,t,n){var i=t.pendingProps,o=Rt.current,s=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Pt(Rt,o&1),e===null)return hf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Al(a,i,0,null),e=Yi(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=yf(n),t.memoizedState=vf,e):Hd(t,a));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return pC(e,t,a,i,c,o,n);if(s){s=i.fallback,a=t.mode,o=e.child,c=o.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=h,t.deletions=null):(i=_i(o,h),i.subtreeFlags=o.subtreeFlags&14680064),c!==null?s=_i(c,s):(s=Yi(s,a,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=e.child.memoizedState,a=a===null?yf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=vf,i}return s=e.child,e=s.sibling,i=_i(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Hd(e,t){return t=Al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ya(e,t,n,i){return i!==null&&kd(i),eo(t,e.child,null,n),e=Hd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pC(e,t,n,i,o,s,a){if(n)return t.flags&256?(t.flags&=-257,i=mh(Error(N(422))),Ya(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Al({mode:"visible",children:i.children},o,0,null),s=Yi(s,o,a,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&eo(t,e.child,null,a),t.child.memoizedState=yf(a),t.memoizedState=vf,s);if(!(t.mode&1))return Ya(e,t,a,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var c=i.dgst;return i=c,s=Error(N(419)),i=mh(s,i,void 0),Ya(e,t,a,i)}if(c=(a&e.childLanes)!==0,Me||c){if(i=Jt,i!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|a)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Wn(e,o),cn(i,e,o,-1))}return Qd(),i=mh(Error(N(421))),Ya(e,t,a,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=LC.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,ze=fi(o.nextSibling),Be=t,At=!0,un=null,e!==null&&(Ke[Qe++]=Fn,Ke[Qe++]=Un,Ke[Qe++]=er,Fn=e.id,Un=e.overflow,er=t),t=Hd(t,i.children),t.flags|=4096,t)}function yg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ff(e.return,t,n)}function _h(e,t,n,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o)}function x0(e,t,n){var i=t.pendingProps,o=i.revealOrder,s=i.tail;if(Pe(e,t,i.children,n),i=Rt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yg(e,n,t);else if(e.tag===19)yg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Pt(Rt,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Hu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),_h(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Hu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}_h(t,!0,n,null,s);break;case"together":_h(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=_i(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_i(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mC(e,t,n){switch(t.tag){case 3:L0(t),to();break;case 5:n0(t);break;case 1:De(t.type)&&bu(t);break;case 4:Vd(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;Pt(Uu,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Pt(Rt,Rt.current&1),t.flags|=128,null):n&t.child.childLanes?A0(e,t,n):(Pt(Rt,Rt.current&1),e=Gn(e,t,n),e!==null?e.sibling:null);Pt(Rt,Rt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return x0(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Pt(Rt,Rt.current),i)break;return null;case 22:case 23:return t.lanes=0,C0(e,t,n)}return Gn(e,t,n)}var k0,wf,R0,M0;k0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wf=function(){};R0=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Wi(In.current);var s=null;switch(n){case"input":o=Uh(e,o),i=Uh(e,i),s=[];break;case"select":o=Ot({},o,{value:void 0}),i=Ot({},i,{value:void 0}),s=[];break;case"textarea":o=Hh(e,o),i=Hh(e,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Vu)}Wh(n,i);var a;n=null;for(d in o)if(!i.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Es.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var h=i[d];if(c=o!=null?o[d]:void 0,i.hasOwnProperty(d)&&h!==c&&(h!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&c[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(s||(s=[]),s.push(d,n)),n=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(s=s||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Es.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&Ct("scroll",e),s||c===h||(s=[])):(s=s||[]).push(d,h))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};M0=function(e,t,n,i){n!==i&&(t.flags|=4)};function Wo(e,t){if(!At)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function de(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function _C(e,t,n){var i=t.pendingProps;switch(xd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(t),null;case 1:return De(t.type)&&zu(),de(t),null;case 3:return i=t.stateNode,no(),Lt(Oe),Lt(we),bd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(Af(un),un=null))),wf(e,t),de(t),null;case 5:zd(t);var o=Wi(Os.current);if(n=t.type,e!==null&&t.stateNode!=null)R0(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(N(166));return de(t),null}if(e=Wi(In.current),Qa(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[En]=t,i[Rs]=s,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(o=0;o<ts.length;o++)Ct(ts[o],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":A_(i,s),Ct("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ct("invalid",i);break;case"textarea":k_(i,s),Ct("invalid",i)}Wh(n,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?i.textContent!==c&&(s.suppressHydrationWarning!==!0&&Ka(i.textContent,c,e),o=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Ka(i.textContent,c,e),o=["children",""+c]):Es.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Ct("scroll",i)}switch(n){case"input":Ua(i),x_(i,s,!0);break;case"textarea":Ua(i),R_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Vu)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(n,{is:i.is}):(e=a.createElement(n),n==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,n),e[En]=t,e[Rs]=i,k0(e,t,!1,!1),t.stateNode=e;t:{switch(a=Gh(n,i),n){case"dialog":Ct("cancel",e),Ct("close",e),o=i;break;case"iframe":case"object":case"embed":Ct("load",e),o=i;break;case"video":case"audio":for(o=0;o<ts.length;o++)Ct(ts[o],e);o=i;break;case"source":Ct("error",e),o=i;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),o=i;break;case"details":Ct("toggle",e),o=i;break;case"input":A_(e,i),o=Uh(e,i),Ct("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Ot({},i,{value:void 0}),Ct("invalid",e);break;case"textarea":k_(e,i),o=Hh(e,i),Ct("invalid",e);break;default:o=i}Wh(n,o),c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];s==="style"?uy(e,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&sy(e,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Ts(e,h):typeof h=="number"&&Ts(e,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Es.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Ct("scroll",e):h!=null&&pd(e,s,h,a))}switch(n){case"input":Ua(e),x_(e,i,!1);break;case"textarea":Ua(e),R_(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ei(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?$r(e,!!i.multiple,s,!1):i.defaultValue!=null&&$r(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return de(t),null;case 6:if(e&&t.stateNode!=null)M0(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(N(166));if(n=Wi(Os.current),Wi(In.current),Qa(t)){if(i=t.stateNode,n=t.memoizedProps,i[En]=t,(s=i.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:Ka(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ka(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[En]=t,t.stateNode=i}return de(t),null;case 13:if(Lt(Rt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(At&&ze!==null&&t.mode&1&&!(t.flags&128))Ky(),to(),t.flags|=98560,s=!1;else if(s=Qa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[En]=t}else to(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),s=!1}else un!==null&&(Af(un),un=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Rt.current&1?Gt===0&&(Gt=3):Qd())),t.updateQueue!==null&&(t.flags|=4),de(t),null);case 4:return no(),wf(e,t),e===null&&xs(t.stateNode.containerInfo),de(t),null;case 10:return Od(t.type._context),de(t),null;case 17:return De(t.type)&&zu(),de(t),null;case 19:if(Lt(Rt),s=t.memoizedState,s===null)return de(t),null;if(i=(t.flags&128)!==0,a=s.rendering,a===null)if(i)Wo(s,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Hu(e),a!==null){for(t.flags|=128,Wo(s,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pt(Rt,Rt.current&1|2),t.child}e=e.sibling}s.tail!==null&&bt()>ro&&(t.flags|=128,i=!0,Wo(s,!1),t.lanes=4194304)}else{if(!i)if(e=Hu(a),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!At)return de(t),null}else 2*bt()-s.renderingStartTime>ro&&n!==1073741824&&(t.flags|=128,i=!0,Wo(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bt(),t.sibling=null,n=Rt.current,Pt(Rt,i?n&1|2:n&1),t):(de(t),null);case 22:case 23:return Kd(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ve&1073741824&&(de(t),t.subtreeFlags&6&&(t.flags|=8192)):de(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function gC(e,t){switch(xd(t),t.tag){case 1:return De(t.type)&&zu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return no(),Lt(Oe),Lt(we),bd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zd(t),null;case 13:if(Lt(Rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));to()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(Rt),null;case 4:return no(),null;case 10:return Od(t.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var Ja=!1,_e=!1,vC=typeof WeakSet=="function"?WeakSet:Set,$=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Nt(e,t,i)}else n.current=null}function Ef(e,t,n){try{n()}catch(i){Nt(e,t,i)}}var wg=!1;function yC(e,t){if(rf=Ou,e=Vy(),Ld(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,c=-1,h=-1,d=0,m=0,_=e,v=null;e:for(;;){for(var y;_!==n||o!==0&&_.nodeType!==3||(c=a+o),_!==s||i!==0&&_.nodeType!==3||(h=a+i),_.nodeType===3&&(a+=_.nodeValue.length),(y=_.firstChild)!==null;)v=_,_=y;for(;;){if(_===e)break e;if(v===n&&++d===o&&(c=a),v===s&&++m===i&&(h=a),(y=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=y}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(of={focusedElem:e,selectionRange:n},Ou=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var S=C.memoizedProps,R=C.memoizedState,E=t.stateNode,w=E.getSnapshotBeforeUpdate(t.elementType===t.type?S:sn(t.type,S),R);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){Nt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return C=wg,wg=!1,C}function fs(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Ef(t,n,s)}o=o.next}while(o!==i)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Tf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function O0(e){var t=e.alternate;t!==null&&(e.alternate=null,O0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[En],delete t[Rs],delete t[uf],delete t[eC],delete t[nC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D0(e){return e.tag===5||e.tag===3||e.tag===4}function Eg(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||D0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vu));else if(i!==4&&(e=e.child,e!==null))for(Pf(e,t,n),e=e.sibling;e!==null;)Pf(e,t,n),e=e.sibling}function Sf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Sf(e,t,n),e=e.sibling;e!==null;)Sf(e,t,n),e=e.sibling}var re=null,an=!1;function ei(e,t,n){for(n=n.child;n!==null;)N0(e,t,n),n=n.sibling}function N0(e,t,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 5:_e||br(n,t);case 6:var i=re,o=an;re=null,ei(e,t,n),re=i,an=o,re!==null&&(an?(e=re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):re.removeChild(n.stateNode));break;case 18:re!==null&&(an?(e=re,n=n.stateNode,e.nodeType===8?lh(e.parentNode,n):e.nodeType===1&&lh(e,n),Is(e)):lh(re,n.stateNode));break;case 4:i=re,o=an,re=n.stateNode.containerInfo,an=!0,ei(e,t,n),re=i,an=o;break;case 0:case 11:case 14:case 15:if(!_e&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Ef(n,t,a),o=o.next}while(o!==i)}ei(e,t,n);break;case 1:if(!_e&&(br(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Nt(n,t,c)}ei(e,t,n);break;case 21:ei(e,t,n);break;case 22:n.mode&1?(_e=(i=_e)||n.memoizedState!==null,ei(e,t,n),_e=i):ei(e,t,n);break;default:ei(e,t,n)}}function Tg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vC),t.forEach(function(i){var o=AC.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var s=e,a=t,c=a;t:for(;c!==null;){switch(c.tag){case 5:re=c.stateNode,an=!1;break t;case 3:re=c.stateNode.containerInfo,an=!0;break t;case 4:re=c.stateNode.containerInfo,an=!0;break t}c=c.return}if(re===null)throw Error(N(160));N0(s,a,o),re=null,an=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(d){Nt(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)V0(t,e),t=t.sibling}function V0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),vn(e),i&4){try{fs(3,e,e.return),Il(3,e)}catch(S){Nt(e,e.return,S)}try{fs(5,e,e.return)}catch(S){Nt(e,e.return,S)}}break;case 1:on(t,e),vn(e),i&512&&n!==null&&br(n,n.return);break;case 5:if(on(t,e),vn(e),i&512&&n!==null&&br(n,n.return),e.flags&32){var o=e.stateNode;try{Ts(o,"")}catch(S){Nt(e,e.return,S)}}if(i&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&iy(o,s),Gh(c,a);var d=Gh(c,s);for(a=0;a<h.length;a+=2){var m=h[a],_=h[a+1];m==="style"?uy(o,_):m==="dangerouslySetInnerHTML"?sy(o,_):m==="children"?Ts(o,_):pd(o,m,_,d)}switch(c){case"input":$h(o,s);break;case"textarea":ry(o,s);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?$r(o,!!s.multiple,y,!1):v!==!!s.multiple&&(s.defaultValue!=null?$r(o,!!s.multiple,s.defaultValue,!0):$r(o,!!s.multiple,s.multiple?[]:"",!1))}o[Rs]=s}catch(S){Nt(e,e.return,S)}}break;case 6:if(on(t,e),vn(e),i&4){if(e.stateNode===null)throw Error(N(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(S){Nt(e,e.return,S)}}break;case 3:if(on(t,e),vn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Is(t.containerInfo)}catch(S){Nt(e,e.return,S)}break;case 4:on(t,e),vn(e);break;case 13:on(t,e),vn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Gd=bt())),i&4&&Tg(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(d=_e)||m,on(t,e),_e=d):on(t,e),vn(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for($=e,m=e.child;m!==null;){for(_=$=m;$!==null;){switch(v=$,y=v.child,v.tag){case 0:case 11:case 14:case 15:fs(4,v,v.return);break;case 1:br(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){i=v,n=v.return;try{t=i,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(S){Nt(i,n,S)}}break;case 5:br(v,v.return);break;case 22:if(v.memoizedState!==null){Sg(_);continue}}y!==null?(y.return=v,$=y):Sg(_)}m=m.sibling}t:for(m=null,_=e;;){if(_.tag===5){if(m===null){m=_;try{o=_.stateNode,d?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=_.stateNode,h=_.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=ay("display",a))}catch(S){Nt(e,e.return,S)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(S){Nt(e,e.return,S)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break t;for(;_.sibling===null;){if(_.return===null||_.return===e)break t;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:on(t,e),vn(e),i&4&&Tg(e);break;case 21:break;default:on(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(D0(n)){var i=n;break t}n=n.return}throw Error(N(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Ts(o,""),i.flags&=-33);var s=Eg(e);Sf(e,s,o);break;case 3:case 4:var a=i.stateNode.containerInfo,c=Eg(e);Pf(e,c,a);break;default:throw Error(N(161))}}catch(h){Nt(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wC(e,t,n){$=e,z0(e)}function z0(e,t,n){for(var i=(e.mode&1)!==0;$!==null;){var o=$,s=o.child;if(o.tag===22&&i){var a=o.memoizedState!==null||Ja;if(!a){var c=o.alternate,h=c!==null&&c.memoizedState!==null||_e;c=Ja;var d=_e;if(Ja=a,(_e=h)&&!d)for($=o;$!==null;)a=$,h=a.child,a.tag===22&&a.memoizedState!==null?Cg(o):h!==null?(h.return=a,$=h):Cg(o);for(;s!==null;)$=s,z0(s),s=s.sibling;$=o,Ja=c,_e=d}Pg(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,$=s):Pg(e)}}function Pg(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Il(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!_e)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:sn(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sg(t,s,i);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sg(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&Is(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}_e||t.flags&512&&Tf(t)}catch(v){Nt(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Sg(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Cg(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(h){Nt(t,n,h)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(h){Nt(t,o,h)}}var s=t.return;try{Tf(t)}catch(h){Nt(t,s,h)}break;case 5:var a=t.return;try{Tf(t)}catch(h){Nt(t,a,h)}}}catch(h){Nt(t,t.return,h)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var EC=Math.ceil,Gu=Xn.ReactCurrentDispatcher,Zd=Xn.ReactCurrentOwner,Je=Xn.ReactCurrentBatchConfig,dt=0,Jt=null,jt=null,ue=0,Ve=0,Br=Ai(0),Gt=0,zs=null,ir=0,Ll=0,Wd=0,ds=null,ke=null,Gd=0,ro=1/0,bn=null,qu=!1,Cf=null,pi=null,tu=!1,ai=null,Ku=0,ps=0,If=null,yu=-1,wu=0;function Ce(){return dt&6?bt():yu!==-1?yu:yu=bt()}function mi(e){return e.mode&1?dt&2&&ue!==0?ue&-ue:rC.transition!==null?(wu===0&&(wu=wy()),wu):(e=gt,e!==0||(e=window.event,e=e===void 0?16:Ly(e.type)),e):1}function cn(e,t,n,i){if(50<ps)throw ps=0,If=null,Error(N(185));ea(e,n,i),(!(dt&2)||e!==Jt)&&(e===Jt&&(!(dt&2)&&(Ll|=n),Gt===4&&oi(e,ue)),Ne(e,i),n===1&&dt===0&&!(t.mode&1)&&(ro=bt()+500,Pl&&xi()))}function Ne(e,t){var n=e.callbackNode;rS(e,t);var i=Mu(e,e===Jt?ue:0);if(i===0)n!==null&&D_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&D_(n),t===1)e.tag===0?iC(Ig.bind(null,e)):Wy(Ig.bind(null,e)),JS(function(){!(dt&6)&&xi()}),n=null;else{switch(Ey(i)){case 1:n=yd;break;case 4:n=vy;break;case 16:n=Ru;break;case 536870912:n=yy;break;default:n=Ru}n=Z0(n,b0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function b0(e,t){if(yu=-1,wu=0,dt&6)throw Error(N(327));var n=e.callbackNode;if(Gr()&&e.callbackNode!==n)return null;var i=Mu(e,e===Jt?ue:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Qu(e,i);else{t=i;var o=dt;dt|=2;var s=F0();(Jt!==e||ue!==t)&&(bn=null,ro=bt()+500,Xi(e,t));do try{SC();break}catch(c){B0(e,c)}while(!0);Md(),Gu.current=s,dt=o,jt!==null?t=0:(Jt=null,ue=0,t=Gt)}if(t!==0){if(t===2&&(o=Yh(e),o!==0&&(i=o,t=Lf(e,o))),t===1)throw n=zs,Xi(e,0),oi(e,i),Ne(e,bt()),n;if(t===6)oi(e,i);else{if(o=e.current.alternate,!(i&30)&&!TC(o)&&(t=Qu(e,i),t===2&&(s=Yh(e),s!==0&&(i=s,t=Lf(e,s))),t===1))throw n=zs,Xi(e,0),oi(e,i),Ne(e,bt()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(N(345));case 2:Ui(e,ke,bn);break;case 3:if(oi(e,i),(i&130023424)===i&&(t=Gd+500-bt(),10<t)){if(Mu(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Ce(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=af(Ui.bind(null,e,ke,bn),t);break}Ui(e,ke,bn);break;case 4:if(oi(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var a=31-ln(i);s=1<<a,a=t[a],a>o&&(o=a),i&=~s}if(i=o,i=bt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*EC(i/1960))-i,10<i){e.timeoutHandle=af(Ui.bind(null,e,ke,bn),i);break}Ui(e,ke,bn);break;case 5:Ui(e,ke,bn);break;default:throw Error(N(329))}}}return Ne(e,bt()),e.callbackNode===n?b0.bind(null,e):null}function Lf(e,t){var n=ds;return e.current.memoizedState.isDehydrated&&(Xi(e,t).flags|=256),e=Qu(e,t),e!==2&&(t=ke,ke=n,t!==null&&Af(t)),e}function Af(e){ke===null?ke=e:ke.push.apply(ke,e)}function TC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!fn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t){for(t&=~Wd,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ln(t),i=1<<n;e[n]=-1,t&=~i}}function Ig(e){if(dt&6)throw Error(N(327));Gr();var t=Mu(e,0);if(!(t&1))return Ne(e,bt()),null;var n=Qu(e,t);if(e.tag!==0&&n===2){var i=Yh(e);i!==0&&(t=i,n=Lf(e,i))}if(n===1)throw n=zs,Xi(e,0),oi(e,t),Ne(e,bt()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ui(e,ke,bn),Ne(e,bt()),null}function qd(e,t){var n=dt;dt|=1;try{return e(t)}finally{dt=n,dt===0&&(ro=bt()+500,Pl&&xi())}}function rr(e){ai!==null&&ai.tag===0&&!(dt&6)&&Gr();var t=dt;dt|=1;var n=Je.transition,i=gt;try{if(Je.transition=null,gt=1,e)return e()}finally{gt=i,Je.transition=n,dt=t,!(dt&6)&&xi()}}function Kd(){Ve=Br.current,Lt(Br)}function Xi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YS(n)),jt!==null)for(n=jt.return;n!==null;){var i=n;switch(xd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zu();break;case 3:no(),Lt(Oe),Lt(we),bd();break;case 5:zd(i);break;case 4:no();break;case 13:Lt(Rt);break;case 19:Lt(Rt);break;case 10:Od(i.type._context);break;case 22:case 23:Kd()}n=n.return}if(Jt=e,jt=e=_i(e.current,null),ue=Ve=t,Gt=0,zs=null,Wd=Ll=ir=0,ke=ds=null,Zi!==null){for(t=0;t<Zi.length;t++)if(n=Zi[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=o,i.next=a}n.pending=i}Zi=null}return e}function B0(e,t){do{var n=jt;try{if(Md(),_u.current=Wu,Zu){for(var i=Mt.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Zu=!1}if(nr=0,Yt=Zt=Mt=null,hs=!1,Ds=0,Zd.current=null,n===null||n.return===null){Gt=1,zs=t,jt=null;break}t:{var s=e,a=n.return,c=n,h=t;if(t=ue,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,m=c,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=dg(a);if(y!==null){y.flags&=-257,pg(y,a,c,s,t),y.mode&1&&fg(s,d,t),t=y,h=d;var C=t.updateQueue;if(C===null){var S=new Set;S.add(h),t.updateQueue=S}else C.add(h);break t}else{if(!(t&1)){fg(s,d,t),Qd();break t}h=Error(N(426))}}else if(At&&c.mode&1){var R=dg(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),pg(R,a,c,s,t),kd(io(h,c));break t}}s=h=io(h,c),Gt!==4&&(Gt=2),ds===null?ds=[s]:ds.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=T0(s,h,t);og(s,E);break t;case 1:c=h;var w=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(pi===null||!pi.has(P)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=P0(s,c,t);og(s,x);break t}}s=s.return}while(s!==null)}$0(n)}catch(V){t=V,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(!0)}function F0(){var e=Gu.current;return Gu.current=Wu,e===null?Wu:e}function Qd(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Jt===null||!(ir&268435455)&&!(Ll&268435455)||oi(Jt,ue)}function Qu(e,t){var n=dt;dt|=2;var i=F0();(Jt!==e||ue!==t)&&(bn=null,Xi(e,t));do try{PC();break}catch(o){B0(e,o)}while(!0);if(Md(),dt=n,Gu.current=i,jt!==null)throw Error(N(261));return Jt=null,ue=0,Gt}function PC(){for(;jt!==null;)U0(jt)}function SC(){for(;jt!==null&&!KP();)U0(jt)}function U0(e){var t=H0(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?$0(e):jt=t,Zd.current=null}function $0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gC(n,t),n!==null){n.flags&=32767,jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,jt=null;return}}else if(n=_C(n,t,Ve),n!==null){jt=n;return}if(t=t.sibling,t!==null){jt=t;return}jt=t=e}while(t!==null);Gt===0&&(Gt=5)}function Ui(e,t,n){var i=gt,o=Je.transition;try{Je.transition=null,gt=1,CC(e,t,n,i)}finally{Je.transition=o,gt=i}return null}function CC(e,t,n,i){do Gr();while(ai!==null);if(dt&6)throw Error(N(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(oS(e,s),e===Jt&&(jt=Jt=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tu||(tu=!0,Z0(Ru,function(){return Gr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Je.transition,Je.transition=null;var a=gt;gt=1;var c=dt;dt|=4,Zd.current=null,yC(e,n),V0(n,e),ZS(of),Ou=!!rf,of=rf=null,e.current=n,wC(n),QP(),dt=c,gt=a,Je.transition=s}else e.current=n;if(tu&&(tu=!1,ai=e,Ku=o),s=e.pendingLanes,s===0&&(pi=null),JP(n.stateNode),Ne(e,bt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(qu)throw qu=!1,e=Cf,Cf=null,e;return Ku&1&&e.tag!==0&&Gr(),s=e.pendingLanes,s&1?e===If?ps++:(ps=0,If=e):ps=0,xi(),null}function Gr(){if(ai!==null){var e=Ey(Ku),t=Je.transition,n=gt;try{if(Je.transition=null,gt=16>e?16:e,ai===null)var i=!1;else{if(e=ai,ai=null,Ku=0,dt&6)throw Error(N(331));var o=dt;for(dt|=4,$=e.current;$!==null;){var s=$,a=s.child;if($.flags&16){var c=s.deletions;if(c!==null){for(var h=0;h<c.length;h++){var d=c[h];for($=d;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:fs(8,m,s)}var _=m.child;if(_!==null)_.return=m,$=_;else for(;$!==null;){m=$;var v=m.sibling,y=m.return;if(O0(m),m===d){$=null;break}if(v!==null){v.return=y,$=v;break}$=y}}}var C=s.alternate;if(C!==null){var S=C.child;if(S!==null){C.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}$=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,$=a;else t:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fs(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,$=E;break t}$=s.return}}var w=e.current;for($=w;$!==null;){a=$;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,$=P;else t:for(a=w;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Il(9,c)}}catch(V){Nt(c,c.return,V)}if(c===a){$=null;break t}var x=c.sibling;if(x!==null){x.return=c.return,$=x;break t}$=c.return}}if(dt=o,xi(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(vl,e)}catch{}i=!0}return i}finally{gt=n,Je.transition=t}}return!1}function Lg(e,t,n){t=io(n,t),t=T0(e,t,1),e=di(e,t,1),t=Ce(),e!==null&&(ea(e,1,t),Ne(e,t))}function Nt(e,t,n){if(e.tag===3)Lg(e,e,n);else for(;t!==null;){if(t.tag===3){Lg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(pi===null||!pi.has(i))){e=io(n,e),e=P0(t,e,1),t=di(t,e,1),e=Ce(),t!==null&&(ea(t,1,e),Ne(t,e));break}}t=t.return}}function IC(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,Jt===e&&(ue&n)===n&&(Gt===4||Gt===3&&(ue&130023424)===ue&&500>bt()-Gd?Xi(e,0):Wd|=n),Ne(e,t)}function j0(e,t){t===0&&(e.mode&1?(t=Ha,Ha<<=1,!(Ha&130023424)&&(Ha=4194304)):t=1);var n=Ce();e=Wn(e,t),e!==null&&(ea(e,t,n),Ne(e,n))}function LC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),j0(e,n)}function AC(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(N(314))}i!==null&&i.delete(t),j0(e,n)}var H0;H0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,mC(e,t,n);Me=!!(e.flags&131072)}else Me=!1,At&&t.flags&1048576&&Gy(t,Fu,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;vu(e,t),e=t.pendingProps;var o=Jr(t,we.current);Wr(t,n),o=Fd(null,t,i,e,o,n);var s=Ud();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(i)?(s=!0,bu(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Nd(t),o.updater=Sl,t.stateNode=o,o._reactInternals=t,pf(t,i,e,n),t=gf(null,t,i,!0,s,n)):(t.tag=0,At&&s&&Ad(t),Pe(null,t,o,n),t=t.child),t;case 16:i=t.elementType;t:{switch(vu(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=kC(i),e=sn(i,e),o){case 0:t=_f(null,t,i,e,n);break t;case 1:t=gg(null,t,i,e,n);break t;case 11:t=mg(null,t,i,e,n);break t;case 14:t=_g(null,t,i,sn(i.type,e),n);break t}throw Error(N(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:sn(i,o),_f(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:sn(i,o),gg(e,t,i,o,n);case 3:t:{if(L0(t),e===null)throw Error(N(387));i=t.pendingProps,s=t.memoizedState,o=s.element,Xy(e,t),ju(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=io(Error(N(423)),t),t=vg(e,t,i,n,o);break t}else if(i!==o){o=io(Error(N(424)),t),t=vg(e,t,i,n,o);break t}else for(ze=fi(t.stateNode.containerInfo.firstChild),Be=t,At=!0,un=null,n=e0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),i===o){t=Gn(e,t,n);break t}Pe(e,t,i,n)}t=t.child}return t;case 5:return n0(t),e===null&&hf(t),i=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,sf(i,o)?a=null:s!==null&&sf(i,s)&&(t.flags|=32),I0(e,t),Pe(e,t,a,n),t.child;case 6:return e===null&&hf(t),null;case 13:return A0(e,t,n);case 4:return Vd(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=eo(t,null,i,n):Pe(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:sn(i,o),mg(e,t,i,o,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Pt(Uu,i._currentValue),i._currentValue=a,s!==null)if(fn(s.value,a)){if(s.children===o.children&&!Oe.current){t=Gn(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(s.tag===1){h=jn(-1,n&-n),h.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?h.next=h:(h.next=m.next,m.next=h),d.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),ff(s.return,n,t),c.lanes|=n;break}h=h.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(N(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ff(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Pe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Wr(t,n),o=tn(o),i=i(o),t.flags|=1,Pe(e,t,i,n),t.child;case 14:return i=t.type,o=sn(i,t.pendingProps),o=sn(i.type,o),_g(e,t,i,o,n);case 15:return S0(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:sn(i,o),vu(e,t),t.tag=1,De(i)?(e=!0,bu(t)):e=!1,Wr(t,n),Jy(t,i,o),pf(t,i,o,n),gf(null,t,i,!0,e,n);case 19:return x0(e,t,n);case 22:return C0(e,t,n)}throw Error(N(156,t.tag))};function Z0(e,t){return gy(e,t)}function xC(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,n,i){return new xC(e,t,n,i)}function Xd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kC(e){if(typeof e=="function")return Xd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_d)return 11;if(e===gd)return 14}return 2}function _i(e,t){var n=e.alternate;return n===null?(n=Ye(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eu(e,t,n,i,o,s){var a=2;if(i=e,typeof e=="function")Xd(e)&&(a=1);else if(typeof e=="string")a=5;else t:switch(e){case xr:return Yi(n.children,o,s,t);case md:a=8,o|=8;break;case zh:return e=Ye(12,n,t,o|2),e.elementType=zh,e.lanes=s,e;case bh:return e=Ye(13,n,t,o),e.elementType=bh,e.lanes=s,e;case Bh:return e=Ye(19,n,t,o),e.elementType=Bh,e.lanes=s,e;case ty:return Al(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yv:a=10;break t;case Jv:a=9;break t;case _d:a=11;break t;case gd:a=14;break t;case ni:a=16,i=null;break t}throw Error(N(130,e==null?e:typeof e,""))}return t=Ye(a,n,t,o),t.elementType=e,t.type=i,t.lanes=s,t}function Yi(e,t,n,i){return e=Ye(7,e,i,t),e.lanes=n,e}function Al(e,t,n,i){return e=Ye(22,e,i,t),e.elementType=ty,e.lanes=n,e.stateNode={isHidden:!1},e}function gh(e,t,n){return e=Ye(6,e,null,t),e.lanes=n,e}function vh(e,t,n){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RC(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Yd(e,t,n,i,o,s,a,c,h){return e=new RC(e,t,n,c,h),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ye(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nd(s),e}function MC(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function W0(e){if(!e)return Ti;e=e._reactInternals;t:{if(cr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(De(n))return Zy(e,n,t)}return t}function G0(e,t,n,i,o,s,a,c,h){return e=Yd(n,i,!0,e,o,s,a,c,h),e.context=W0(null),n=e.current,i=Ce(),o=mi(n),s=jn(i,o),s.callback=t??null,di(n,s,o),e.current.lanes=o,ea(e,o,i),Ne(e,i),e}function xl(e,t,n,i){var o=t.current,s=Ce(),a=mi(o);return n=W0(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(s,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=di(o,t,a),e!==null&&(cn(e,o,a,s),mu(e,o,a)),a}function Xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jd(e,t){Ag(e,t),(e=e.alternate)&&Ag(e,t)}function OC(){return null}var q0=typeof reportError=="function"?reportError:function(e){console.error(e)};function tp(e){this._internalRoot=e}kl.prototype.render=tp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));xl(e,t,null,null)};kl.prototype.unmount=tp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){xl(null,e,null,null)}),t[Zn]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ri.length&&t!==0&&t<ri[n].priority;n++);ri.splice(n,0,e),n===0&&Iy(e)}};function ep(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xg(){}function DC(e,t,n,i,o){if(o){if(typeof i=="function"){var s=i;i=function(){var d=Xu(a);s.call(d)}}var a=G0(t,i,e,0,null,!1,!1,"",xg);return e._reactRootContainer=a,e[Zn]=a.current,xs(e.nodeType===8?e.parentNode:e),rr(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var c=i;i=function(){var d=Xu(h);c.call(d)}}var h=Yd(e,0,!1,null,null,!1,!1,"",xg);return e._reactRootContainer=h,e[Zn]=h.current,xs(e.nodeType===8?e.parentNode:e),rr(function(){xl(t,h,n,i)}),h}function Ml(e,t,n,i,o){var s=n._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var c=o;o=function(){var h=Xu(a);c.call(h)}}xl(t,a,e,o)}else a=DC(n,t,e,o,i);return Xu(a)}Ty=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jo(t.pendingLanes);n!==0&&(wd(t,n|1),Ne(t,bt()),!(dt&6)&&(ro=bt()+500,xi()))}break;case 13:rr(function(){var i=Wn(e,1);if(i!==null){var o=Ce();cn(i,e,1,o)}}),Jd(e,1)}};Ed=function(e){if(e.tag===13){var t=Wn(e,134217728);if(t!==null){var n=Ce();cn(t,e,134217728,n)}Jd(e,134217728)}};Py=function(e){if(e.tag===13){var t=mi(e),n=Wn(e,t);if(n!==null){var i=Ce();cn(n,e,t,i)}Jd(e,t)}};Sy=function(){return gt};Cy=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}};Kh=function(e,t,n){switch(t){case"input":if($h(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Tl(i);if(!o)throw Error(N(90));ny(i),$h(i,o)}}}break;case"textarea":ry(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}};hy=qd;fy=rr;var NC={usingClientEntryPoint:!1,Events:[ia,Or,Tl,ly,cy,qd]},Go={findFiberByHostInstance:Hi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VC={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=my(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||OC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{vl=eu.inject(VC),Cn=eu}catch{}}je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ep(t))throw Error(N(200));return MC(e,t,null,n)};je.createRoot=function(e,t){if(!ep(e))throw Error(N(299));var n=!1,i="",o=q0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Yd(e,1,!1,null,null,n,!1,i,o),e[Zn]=t.current,xs(e.nodeType===8?e.parentNode:e),new tp(t)};je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=my(t),e=e===null?null:e.stateNode,e};je.flushSync=function(e){return rr(e)};je.hydrate=function(e,t,n){if(!Rl(t))throw Error(N(200));return Ml(null,e,t,!0,n)};je.hydrateRoot=function(e,t,n){if(!ep(e))throw Error(N(405));var i=n!=null&&n.hydratedSources||null,o=!1,s="",a=q0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=G0(t,null,e,1,n??null,o,!1,s,a),e[Zn]=t.current,xs(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new kl(t)};je.render=function(e,t,n){if(!Rl(t))throw Error(N(200));return Ml(null,e,t,!1,n)};je.unmountComponentAtNode=function(e){if(!Rl(e))throw Error(N(40));return e._reactRootContainer?(rr(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[Zn]=null})}),!0):!1};je.unstable_batchedUpdates=qd;je.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Rl(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Ml(e,t,n,!1,i)};je.version="18.2.0-next-9e3b772b8-20220608";function K0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K0)}catch(e){console.error(e)}}K0(),Gv.exports=je;var Q0=Gv.exports,kg=Q0;Nh.createRoot=kg.createRoot,Nh.hydrateRoot=kg.hydrateRoot;function np(e,t){const n=at.useRef(t);at.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function zC(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const X0=1;function Y0(e){return Object.freeze({__version:X0,map:e})}function J0(e,t){return Object.freeze({...e,...t})}const ip=at.createContext(null),rp=ip.Provider;function go(){const e=at.useContext(ip);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function op(e){function t(n,i){const{instance:o,context:s}=e(n).current;return at.useImperativeHandle(i,()=>o),n.children==null?null:Lu.createElement(rp,{value:s},n.children)}return at.forwardRef(t)}function tw(e){function t(n,i){const[o,s]=at.useState(!1),{instance:a}=e(n,s).current;at.useImperativeHandle(i,()=>a),at.useEffect(function(){o&&a.update()},[a,o,n.children]);const c=a._contentNode;return c?Q0.createPortal(n.children,c):null}return at.forwardRef(t)}function sp(e){function t(n,i){const{instance:o}=e(n).current;return at.useImperativeHandle(i,()=>o),null}return at.forwardRef(t)}function ew(e){return function(n){const i=go(),o=e(n,i),{instance:s}=o.current,a=at.useRef(n.position),{position:c}=n;return at.useEffect(function(){return s.addTo(i.map),function(){s.remove()}},[i.map,s]),at.useEffect(function(){c!=null&&c!==a.current&&(s.setPosition(c),a.current=c)},[s,c]),o}}function Ol(e,t){const n=at.useRef();at.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function oa(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function nw(e,t){return function(i,o){const s=go(),a=e(oa(i,s),s);return np(s.map,i.attribution),Ol(a.current,i.eventHandlers),t(a.current,s,i,o),a}}var xf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(wi,function(n){var i="1.9.4";function o(r){var u,l,f,p;for(l=1,f=arguments.length;l<f;l++){p=arguments[l];for(u in p)r[u]=p[u]}return r}var s=Object.create||function(){function r(){}return function(u){return r.prototype=u,new r}}();function a(r,u){var l=Array.prototype.slice;if(r.bind)return r.bind.apply(r,l.call(arguments,1));var f=l.call(arguments,2);return function(){return r.apply(u,f.length?f.concat(l.call(arguments)):arguments)}}var c=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function d(r,u,l){var f,p,g,T;return T=function(){f=!1,p&&(g.apply(l,p),p=!1)},g=function(){f?p=arguments:(r.apply(l,arguments),setTimeout(T,u),f=!0)},g}function m(r,u,l){var f=u[1],p=u[0],g=f-p;return r===f&&l?r:((r-p)%g+g)%g+p}function _(){return!1}function v(r,u){if(u===!1)return r;var l=Math.pow(10,u===void 0?6:u);return Math.round(r*l)/l}function y(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function C(r){return y(r).split(/\s+/)}function S(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?s(r.options):{});for(var l in u)r.options[l]=u[l];return r.options}function R(r,u,l){var f=[];for(var p in r)f.push(encodeURIComponent(l?p.toUpperCase():p)+"="+encodeURIComponent(r[p]));return(!u||u.indexOf("?")===-1?"?":"&")+f.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function w(r,u){return r.replace(E,function(l,f){var p=u[f];if(p===void 0)throw new Error("No value provided for variable "+l);return typeof p=="function"&&(p=p(u)),p})}var P=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function x(r,u){for(var l=0;l<r.length;l++)if(r[l]===u)return l;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var j=0;function Z(r){var u=+new Date,l=Math.max(0,16-(u-j));return j=u+l,window.setTimeout(r,l)}var wt=window.requestAnimationFrame||F("RequestAnimationFrame")||Z,it=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Et(r,u,l){if(l&&wt===Z)r.call(u);else return wt.call(window,a(r,u))}function Kt(r){r&&it.call(window,r)}var Di={__proto__:null,extend:o,create:s,bind:a,get lastId(){return c},stamp:h,throttle:d,wrapNum:m,falseFn:_,formatNum:v,trim:y,splitWords:C,setOptions:S,getParamString:R,template:w,isArray:P,indexOf:x,emptyImageUrl:V,requestFn:wt,cancelFn:it,requestAnimFrame:Et,cancelAnimFrame:Kt};function Ze(){}Ze.extend=function(r){var u=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=u.__super__=this.prototype,f=s(l);f.constructor=u,u.prototype=f;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(u[p]=this[p]);return r.statics&&o(u,r.statics),r.includes&&(fc(r.includes),o.apply(null,[f].concat(r.includes))),o(f,r),delete f.statics,delete f.includes,f.options&&(f.options=l.options?s(l.options):{},o(f.options,r.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,T=f._initHooks.length;g<T;g++)f._initHooks[g].call(this)}},u},Ze.include=function(r){var u=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},Ze.mergeOptions=function(r){return o(this.prototype.options,r),this},Ze.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),l=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function fc(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=P(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(r,u,l){if(typeof r=="object")for(var f in r)this._on(f,r[f],u);else{r=C(r);for(var p=0,g=r.length;p<g;p++)this._on(r[p],u,l)}return this},off:function(r,u,l){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var f in r)this._off(f,r[f],u);else{r=C(r);for(var p=arguments.length===1,g=0,T=r.length;g<T;g++)p?this._off(r[g]):this._off(r[g],u,l)}return this},_on:function(r,u,l,f){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,l)===!1){l===this&&(l=void 0);var p={fn:u,ctx:l};f&&(p.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(p)}},_off:function(r,u,l){var f,p,g;if(this._events&&(f=this._events[r],!!f)){if(arguments.length===1){if(this._firingCount)for(p=0,g=f.length;p<g;p++)f[p].fn=_;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var T=this._listens(r,u,l);if(T!==!1){var I=f[T];this._firingCount&&(I.fn=_,this._events[r]=f=f.slice()),f.splice(T,1)}}},fire:function(r,u,l){if(!this.listens(r,l))return this;var f=o({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var p=this._events[r];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,T=p.length;g<T;g++){var I=p[g],A=I.fn;I.once&&this.off(r,A,I.ctx),A.call(I.ctx||this,f)}this._firingCount--}}return l&&this._propagateEvent(f),this},listens:function(r,u,l,f){typeof r!="string"&&console.warn('"string" type argument expected');var p=u;typeof u!="function"&&(f=!!u,p=void 0,l=void 0);var g=this._events&&this._events[r];if(g&&g.length&&this._listens(r,p,l)!==!1)return!0;if(f){for(var T in this._eventParents)if(this._eventParents[T].listens(r,u,l,f))return!0}return!1},_listens:function(r,u,l){if(!this._events)return!1;var f=this._events[r]||[];if(!u)return!!f.length;l===this&&(l=void 0);for(var p=0,g=f.length;p<g;p++)if(f[p].fn===u&&f[p].ctx===l)return p;return!1},once:function(r,u,l){if(typeof r=="object")for(var f in r)this._on(f,r[f],u,!0);else{r=C(r);for(var p=0,g=r.length;p<g;p++)this._on(r[p],u,l,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var On=Ze.extend(ne);function k(r,u,l){this.x=l?Math.round(r):r,this.y=l?Math.round(u):u}var Y=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};k.prototype={clone:function(){return new k(this.x,this.y)},add:function(r){return this.clone()._add(z(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(z(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new k(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new k(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(r){r=z(r);var u=r.x-this.x,l=r.y-this.y;return Math.sqrt(u*u+l*l)},equals:function(r){return r=z(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=z(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function z(r,u,l){return r instanceof k?r:P(r)?new k(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new k(r.x,r.y):new k(r,u,l)}function Q(r,u){if(r)for(var l=u?[r,u]:r,f=0,p=l.length;f<p;f++)this.extend(l[f])}Q.prototype={extend:function(r){var u,l;if(!r)return this;if(r instanceof k||typeof r[0]=="number"||"x"in r)u=l=z(r);else if(r=ht(r),u=r.min,l=r.max,!u||!l)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=l.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(r){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,l;return typeof r[0]=="number"||r instanceof k?r=z(r):r=ht(r),r instanceof Q?(u=r.min,l=r.max):u=l=r,u.x>=this.min.x&&l.x<=this.max.x&&u.y>=this.min.y&&l.y<=this.max.y},intersects:function(r){r=ht(r);var u=this.min,l=this.max,f=r.min,p=r.max,g=p.x>=u.x&&f.x<=l.x,T=p.y>=u.y&&f.y<=l.y;return g&&T},overlaps:function(r){r=ht(r);var u=this.min,l=this.max,f=r.min,p=r.max,g=p.x>u.x&&f.x<l.x,T=p.y>u.y&&f.y<l.y;return g&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,l=this.max,f=Math.abs(u.x-l.x)*r,p=Math.abs(u.y-l.y)*r;return ht(z(u.x-f,u.y-p),z(l.x+f,l.y+p))},equals:function(r){return r?(r=ht(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ht(r,u){return!r||r instanceof Q?r:new Q(r,u)}function Ht(r,u){if(r)for(var l=u?[r,u]:r,f=0,p=l.length;f<p;f++)this.extend(l[f])}Ht.prototype={extend:function(r){var u=this._southWest,l=this._northEast,f,p;if(r instanceof pt)f=r,p=r;else if(r instanceof Ht){if(f=r._southWest,p=r._northEast,!f||!p)return this}else return r?this.extend(tt(r)||yt(r)):this;return!u&&!l?(this._southWest=new pt(f.lat,f.lng),this._northEast=new pt(p.lat,p.lng)):(u.lat=Math.min(f.lat,u.lat),u.lng=Math.min(f.lng,u.lng),l.lat=Math.max(p.lat,l.lat),l.lng=Math.max(p.lng,l.lng)),this},pad:function(r){var u=this._southWest,l=this._northEast,f=Math.abs(u.lat-l.lat)*r,p=Math.abs(u.lng-l.lng)*r;return new Ht(new pt(u.lat-f,u.lng-p),new pt(l.lat+f,l.lng+p))},getCenter:function(){return new pt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pt(this.getNorth(),this.getWest())},getSouthEast:function(){return new pt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof pt||"lat"in r?r=tt(r):r=yt(r);var u=this._southWest,l=this._northEast,f,p;return r instanceof Ht?(f=r.getSouthWest(),p=r.getNorthEast()):f=p=r,f.lat>=u.lat&&p.lat<=l.lat&&f.lng>=u.lng&&p.lng<=l.lng},intersects:function(r){r=yt(r);var u=this._southWest,l=this._northEast,f=r.getSouthWest(),p=r.getNorthEast(),g=p.lat>=u.lat&&f.lat<=l.lat,T=p.lng>=u.lng&&f.lng<=l.lng;return g&&T},overlaps:function(r){r=yt(r);var u=this._southWest,l=this._northEast,f=r.getSouthWest(),p=r.getNorthEast(),g=p.lat>u.lat&&f.lat<l.lat,T=p.lng>u.lng&&f.lng<l.lng;return g&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=yt(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function yt(r,u){return r instanceof Ht?r:new Ht(r,u)}function pt(r,u,l){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,l!==void 0&&(this.alt=+l)}pt.prototype={equals:function(r,u){if(!r)return!1;r=tt(r);var l=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return l<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+v(this.lat,r)+", "+v(this.lng,r)+")"},distanceTo:function(r){return Yn.distance(this,tt(r))},wrap:function(){return Yn.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,l=u/Math.cos(Math.PI/180*this.lat);return yt([this.lat-u,this.lng-l],[this.lat+u,this.lng+l])},clone:function(){return new pt(this.lat,this.lng,this.alt)}};function tt(r,u,l){return r instanceof pt?r:P(r)&&typeof r[0]!="object"?r.length===3?new pt(r[0],r[1],r[2]):r.length===2?new pt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new pt(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new pt(r,u,l)}var Ae={latLngToPoint:function(r,u){var l=this.projection.project(r),f=this.scale(u);return this.transformation._transform(l,f)},pointToLatLng:function(r,u){var l=this.scale(u),f=this.transformation.untransform(r,l);return this.projection.unproject(f)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,l=this.scale(r),f=this.transformation.transform(u.min,l),p=this.transformation.transform(u.max,l);return new Q(f,p)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?m(r.lng,this.wrapLng,!0):r.lng,l=this.wrapLat?m(r.lat,this.wrapLat,!0):r.lat,f=r.alt;return new pt(l,u,f)},wrapLatLngBounds:function(r){var u=r.getCenter(),l=this.wrapLatLng(u),f=u.lat-l.lat,p=u.lng-l.lng;if(f===0&&p===0)return r;var g=r.getSouthWest(),T=r.getNorthEast(),I=new pt(g.lat-f,g.lng-p),A=new pt(T.lat-f,T.lng-p);return new Ht(I,A)}},Yn=o({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var l=Math.PI/180,f=r.lat*l,p=u.lat*l,g=Math.sin((u.lat-r.lat)*l/2),T=Math.sin((u.lng-r.lng)*l/2),I=g*g+Math.cos(f)*Math.cos(p)*T*T,A=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*A}}),fm=6378137,dc={R:fm,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,l=this.MAX_LATITUDE,f=Math.max(Math.min(l,r.lat),-l),p=Math.sin(f*u);return new k(this.R*r.lng*u,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(r){var u=180/Math.PI;return new pt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:function(){var r=fm*Math.PI;return new Q([-r,-r],[r,r])}()};function pc(r,u,l,f){if(P(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=l,this._d=f}pc.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new k((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function Io(r,u,l,f){return new pc(r,u,l,f)}var mc=o({},Yn,{code:"EPSG:3857",projection:dc,transformation:function(){var r=.5/(Math.PI*dc.R);return Io(r,.5,-r,.5)}()}),$E=o({},mc,{code:"EPSG:900913"});function dm(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function pm(r,u){var l="",f,p,g,T,I,A;for(f=0,g=r.length;f<g;f++){for(I=r[f],p=0,T=I.length;p<T;p++)A=I[p],l+=(p?"L":"M")+A.x+" "+A.y;l+=u?W.svg?"z":"x":""}return l||"M0 0"}var _c=document.documentElement.style,wa="ActiveXObject"in window,jE=wa&&!document.addEventListener,mm="msLaunchUri"in navigator&&!("documentMode"in document),gc=pn("webkit"),_m=pn("android"),gm=pn("android 2")||pn("android 3"),HE=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ZE=_m&&pn("Google")&&HE<537&&!("AudioNode"in window),vc=!!window.opera,vm=!mm&&pn("chrome"),ym=pn("gecko")&&!gc&&!vc&&!wa,WE=!vm&&pn("safari"),wm=pn("phantom"),Em="OTransition"in _c,GE=navigator.platform.indexOf("Win")===0,Tm=wa&&"transition"in _c,yc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gm,Pm="MozPerspective"in _c,qE=!window.L_DISABLE_3D&&(Tm||yc||Pm)&&!Em&&!wm,Lo=typeof orientation<"u"||pn("mobile"),KE=Lo&&gc,QE=Lo&&yc,Sm=!window.PointerEvent&&window.MSPointerEvent,Cm=!!(window.PointerEvent||Sm),Im="ontouchstart"in window||!!window.TouchEvent,XE=!window.L_NO_TOUCH&&(Im||Cm),YE=Lo&&vc,JE=Lo&&ym,tT=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,eT=function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",_,u),window.removeEventListener("testPassiveEventSupport",_,u)}catch{}return r}(),nT=function(){return!!document.createElement("canvas").getContext}(),wc=!!(document.createElementNS&&dm("svg").createSVGRect),iT=!!wc&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),rT=!wc&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),oT=navigator.platform.indexOf("Mac")===0,sT=navigator.platform.indexOf("Linux")===0;function pn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var W={ie:wa,ielt9:jE,edge:mm,webkit:gc,android:_m,android23:gm,androidStock:ZE,opera:vc,chrome:vm,gecko:ym,safari:WE,phantom:wm,opera12:Em,win:GE,ie3d:Tm,webkit3d:yc,gecko3d:Pm,any3d:qE,mobile:Lo,mobileWebkit:KE,mobileWebkit3d:QE,msPointer:Sm,pointer:Cm,touch:XE,touchNative:Im,mobileOpera:YE,mobileGecko:JE,retina:tT,passiveEvents:eT,canvas:nT,svg:wc,vml:rT,inlineSvg:iT,mac:oT,linux:sT},Lm=W.msPointer?"MSPointerDown":"pointerdown",Am=W.msPointer?"MSPointerMove":"pointermove",xm=W.msPointer?"MSPointerUp":"pointerup",km=W.msPointer?"MSPointerCancel":"pointercancel",Ec={touchstart:Lm,touchmove:Am,touchend:xm,touchcancel:km},Rm={touchstart:fT,touchmove:Ea,touchend:Ea,touchcancel:Ea},pr={},Mm=!1;function aT(r,u,l){return u==="touchstart"&&hT(),Rm[u]?(l=Rm[u].bind(this,l),r.addEventListener(Ec[u],l,!1),l):(console.warn("wrong event specified:",u),_)}function uT(r,u,l){if(!Ec[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(Ec[u],l,!1)}function lT(r){pr[r.pointerId]=r}function cT(r){pr[r.pointerId]&&(pr[r.pointerId]=r)}function Om(r){delete pr[r.pointerId]}function hT(){Mm||(document.addEventListener(Lm,lT,!0),document.addEventListener(Am,cT,!0),document.addEventListener(xm,Om,!0),document.addEventListener(km,Om,!0),Mm=!0)}function Ea(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var l in pr)u.touches.push(pr[l]);u.changedTouches=[u],r(u)}}function fT(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ie(u),Ea(r,u)}function dT(r){var u={},l,f;for(f in r)l=r[f],u[f]=l&&l.bind?l.bind(r):l;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var pT=200;function mT(r,u){r.addEventListener("dblclick",u);var l=0,f;function p(g){if(g.detail!==1){f=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var T=bm(g);if(!(T.some(function(A){return A instanceof HTMLLabelElement&&A.attributes.for})&&!T.some(function(A){return A instanceof HTMLInputElement||A instanceof HTMLSelectElement}))){var I=Date.now();I-l<=pT?(f++,f===2&&u(dT(g))):f=1,l=I}}}return r.addEventListener("click",p),{dblclick:u,simDblclick:p}}function _T(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var Tc=Sa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ao=Sa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Dm=Ao==="webkitTransition"||Ao==="OTransition"?Ao+"End":"transitionend";function Nm(r){return typeof r=="string"?document.getElementById(r):r}function xo(r,u){var l=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!l||l==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(r,null);l=f?f[u]:null}return l==="auto"?null:l}function mt(r,u,l){var f=document.createElement(r);return f.className=u||"",l&&l.appendChild(f),f}function kt(r){var u=r.parentNode;u&&u.removeChild(r)}function Ta(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function mr(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function _r(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function Pc(r,u){if(r.classList!==void 0)return r.classList.contains(u);var l=Pa(r);return l.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(l)}function rt(r,u){if(r.classList!==void 0)for(var l=C(u),f=0,p=l.length;f<p;f++)r.classList.add(l[f]);else if(!Pc(r,u)){var g=Pa(r);Sc(r,(g?g+" ":"")+u)}}function zt(r,u){r.classList!==void 0?r.classList.remove(u):Sc(r,y((" "+Pa(r)+" ").replace(" "+u+" "," ")))}function Sc(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Pa(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function We(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&gT(r,u)}function gT(r,u){var l=!1,f="DXImageTransform.Microsoft.Alpha";try{l=r.filters.item(f)}catch{if(u===1)return}u=Math.round(u*100),l?(l.Enabled=u!==100,l.Opacity=u):r.style.filter+=" progid:"+f+"(opacity="+u+")"}function Sa(r){for(var u=document.documentElement.style,l=0;l<r.length;l++)if(r[l]in u)return r[l];return!1}function Ni(r,u,l){var f=u||new k(0,0);r.style[Tc]=(W.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(l?" scale("+l+")":"")}function Bt(r,u){r._leaflet_pos=u,W.any3d?Ni(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Vi(r){return r._leaflet_pos||new k(0,0)}var ko,Ro,Cc;if("onselectstart"in document)ko=function(){et(window,"selectstart",ie)},Ro=function(){Tt(window,"selectstart",ie)};else{var Mo=Sa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ko=function(){if(Mo){var r=document.documentElement.style;Cc=r[Mo],r[Mo]="none"}},Ro=function(){Mo&&(document.documentElement.style[Mo]=Cc,Cc=void 0)}}function Ic(){et(window,"dragstart",ie)}function Lc(){Tt(window,"dragstart",ie)}var Ca,Ac;function xc(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Ia(),Ca=r,Ac=r.style.outlineStyle,r.style.outlineStyle="none",et(window,"keydown",Ia))}function Ia(){Ca&&(Ca.style.outlineStyle=Ac,Ca=void 0,Ac=void 0,Tt(window,"keydown",Ia))}function Vm(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function kc(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var vT={__proto__:null,TRANSFORM:Tc,TRANSITION:Ao,TRANSITION_END:Dm,get:Nm,getStyle:xo,create:mt,remove:kt,empty:Ta,toFront:mr,toBack:_r,hasClass:Pc,addClass:rt,removeClass:zt,setClass:Sc,getClass:Pa,setOpacity:We,testProp:Sa,setTransform:Ni,setPosition:Bt,getPosition:Vi,get disableTextSelection(){return ko},get enableTextSelection(){return Ro},disableImageDrag:Ic,enableImageDrag:Lc,preventOutline:xc,restoreOutline:Ia,getSizedParentNode:Vm,getScale:kc};function et(r,u,l,f){if(u&&typeof u=="object")for(var p in u)Mc(r,p,u[p],l);else{u=C(u);for(var g=0,T=u.length;g<T;g++)Mc(r,u[g],l,f)}return this}var mn="_leaflet_events";function Tt(r,u,l,f){if(arguments.length===1)zm(r),delete r[mn];else if(u&&typeof u=="object")for(var p in u)Oc(r,p,u[p],l);else if(u=C(u),arguments.length===2)zm(r,function(I){return x(u,I)!==-1});else for(var g=0,T=u.length;g<T;g++)Oc(r,u[g],l,f);return this}function zm(r,u){for(var l in r[mn]){var f=l.split(/\d/)[0];(!u||u(f))&&Oc(r,f,null,null,l)}}var Rc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mc(r,u,l,f){var p=u+h(l)+(f?"_"+h(f):"");if(r[mn]&&r[mn][p])return this;var g=function(I){return l.call(f||r,I||window.event)},T=g;!W.touchNative&&W.pointer&&u.indexOf("touch")===0?g=aT(r,u,g):W.touch&&u==="dblclick"?g=mT(r,g):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(Rc[u]||u,g,W.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(g=function(I){I=I||window.event,Nc(r,I)&&T(I)},r.addEventListener(Rc[u],g,!1)):r.addEventListener(u,T,!1):r.attachEvent("on"+u,g),r[mn]=r[mn]||{},r[mn][p]=g}function Oc(r,u,l,f,p){p=p||u+h(l)+(f?"_"+h(f):"");var g=r[mn]&&r[mn][p];if(!g)return this;!W.touchNative&&W.pointer&&u.indexOf("touch")===0?uT(r,u,g):W.touch&&u==="dblclick"?_T(r,g):"removeEventListener"in r?r.removeEventListener(Rc[u]||u,g,!1):r.detachEvent("on"+u,g),r[mn][p]=null}function zi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Dc(r){return Mc(r,"wheel",zi),this}function Oo(r){return et(r,"mousedown touchstart dblclick contextmenu",zi),r._leaflet_disable_click=!0,this}function ie(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function bi(r){return ie(r),zi(r),this}function bm(r){if(r.composedPath)return r.composedPath();for(var u=[],l=r.target;l;)u.push(l),l=l.parentNode;return u}function Bm(r,u){if(!u)return new k(r.clientX,r.clientY);var l=kc(u),f=l.boundingClientRect;return new k((r.clientX-f.left)/l.x-u.clientLeft,(r.clientY-f.top)/l.y-u.clientTop)}var yT=W.linux&&W.chrome?window.devicePixelRatio:W.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fm(r){return W.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/yT:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Nc(r,u){var l=u.relatedTarget;if(!l)return!0;try{for(;l&&l!==r;)l=l.parentNode}catch{return!1}return l!==r}var wT={__proto__:null,on:et,off:Tt,stopPropagation:zi,disableScrollPropagation:Dc,disableClickPropagation:Oo,preventDefault:ie,stop:bi,getPropagationPath:bm,getMousePosition:Bm,getWheelDelta:Fm,isExternalTarget:Nc,addListener:et,removeListener:Tt},Um=On.extend({run:function(r,u,l,f){this.stop(),this._el=r,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Vi(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Et(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,l=this._duration*1e3;u<l?this._runFrame(this._easeOut(u/l),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var l=this._startPos.add(this._offset.multiplyBy(r));u&&l._round(),Bt(this._el,l),this.fire("step")},_complete:function(){Kt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),lt=On.extend({options:{crs:mc,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=S(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(tt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ao&&W.any3d&&!W.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),et(this._proxy,Dm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,l){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(tt(r),u,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var f=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,l.zoom):this._tryAnimatedPan(r,l.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,l.pan&&l.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,l){var f=this.getZoomScale(u),p=this.getSize().divideBy(2),g=r instanceof k?r:this.latLngToContainerPoint(r),T=g.subtract(p).multiplyBy(1-1/f),I=this.containerPointToLatLng(p.add(T));return this.setView(I,u,{zoom:l})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():yt(r);var l=z(u.paddingTopLeft||u.padding||[0,0]),f=z(u.paddingBottomRight||u.padding||[0,0]),p=this.getBoundsZoom(r,!1,l.add(f));if(p=typeof u.maxZoom=="number"?Math.min(u.maxZoom,p):p,p===1/0)return{center:r.getCenter(),zoom:p};var g=f.subtract(l).divideBy(2),T=this.project(r.getSouthWest(),p),I=this.project(r.getNorthEast(),p),A=this.unproject(T.add(I).divideBy(2).add(g),p);return{center:A,zoom:p}},fitBounds:function(r,u){if(r=yt(r),!r.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(r,u);return this.setView(l.center,l.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=z(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Um,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,l,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,l){if(l=l||{},l.animate===!1||!W.any3d)return this.setView(r,u,l);this._stop();var f=this.project(this.getCenter()),p=this.project(r),g=this.getSize(),T=this._zoom;r=tt(r),u=u===void 0?T:u;var I=Math.max(g.x,g.y),A=I*this.getZoomScale(T,u),O=p.distanceTo(f)||1,U=1.42,q=U*U;function ot(Ft){var ba=Ft?-1:1,uP=Ft?A:I,lP=A*A-I*I+ba*q*q*O*O,cP=2*uP*q*O,Wc=lP/cP,E_=Math.sqrt(Wc*Wc+1)-Wc,hP=E_<1e-9?-18:Math.log(E_);return hP}function Te(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function Qt(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}function qe(Ft){return Te(Ft)/Qt(Ft)}var xe=ot(0);function Tr(Ft){return I*(Qt(xe)/Qt(xe+U*Ft))}function rP(Ft){return I*(Qt(xe)*qe(xe+U*Ft)-Te(xe))/q}function oP(Ft){return 1-Math.pow(1-Ft,1.5)}var sP=Date.now(),y_=(ot(1)-xe)/U,aP=l.duration?1e3*l.duration:1e3*y_*.8;function w_(){var Ft=(Date.now()-sP)/aP,ba=oP(Ft)*y_;Ft<=1?(this._flyToFrame=Et(w_,this),this._move(this.unproject(f.add(p.subtract(f).multiplyBy(rP(ba)/O)),T),this.getScaleZoom(I/Tr(ba),T),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),w_.call(this),this},flyToBounds:function(r,u){var l=this._getBoundsCenterZoom(r,u);return this.flyTo(l.center,l.zoom,u)},setMaxBounds:function(r){return r=yt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var l=this.getCenter(),f=this._limitCenter(l,this._zoom,yt(r));return l.equals(f)||this.panTo(f,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var l=z(u.paddingTopLeft||u.padding||[0,0]),f=z(u.paddingBottomRight||u.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(r),T=this.getPixelBounds(),I=ht([T.min.add(l),T.max.subtract(f)]),A=I.getSize();if(!I.contains(g)){this._enforcingBounds=!0;var O=g.subtract(I.getCenter()),U=I.extend(g).getSize().subtract(A);p.x+=O.x<0?-U.x:U.x,p.y+=O.y<0?-U.y:U.y,this.panTo(this.unproject(p),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),f=u.divideBy(2).round(),p=l.divideBy(2).round(),g=f.subtract(p);return!g.x&&!g.y?this:(r.animate&&r.pan?this.panBy(g):(r.pan&&this._rawPanBy(g),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=a(this._handleGeolocationResponse,this),l=a(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,l,r):navigator.geolocation.getCurrentPosition(u,l,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,l=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,l=r.coords.longitude,f=new pt(u,l),p=f.toBounds(r.coords.accuracy*2),g=this._locateOptions;if(g.setView){var T=this.getBoundsZoom(p);this.setView(f,g.maxZoom?Math.min(T,g.maxZoom):T)}var I={latlng:f,bounds:p,timestamp:r.timestamp};for(var A in r.coords)typeof r.coords[A]=="number"&&(I[A]=r.coords[A]);this.fire("locationfound",I)}},addHandler:function(r,u){if(!u)return this;var l=this[r]=new u(this);return this._handlers.push(l),this.options[r]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Kt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)kt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var l="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),f=mt("div",l,u||this._mapPane);return r&&(this._panes[r]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),l=this.unproject(r.getTopRight());return new Ht(u,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,l){r=yt(r),l=z(l||[0,0]);var f=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),T=r.getNorthWest(),I=r.getSouthEast(),A=this.getSize().subtract(l),O=ht(this.project(I,f),this.project(T,f)).getSize(),U=W.any3d?this.options.zoomSnap:1,q=A.x/O.x,ot=A.y/O.y,Te=u?Math.max(q,ot):Math.min(q,ot);return f=this.getScaleZoom(Te,f),U&&(f=Math.round(f/(U/100))*(U/100),f=u?Math.ceil(f/U)*U:Math.floor(f/U)*U),Math.max(p,Math.min(g,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var l=this._getTopLeftPoint(r,u);return new Q(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var l=this.options.crs;return u=u===void 0?this._zoom:u,l.scale(r)/l.scale(u)},getScaleZoom:function(r,u){var l=this.options.crs;u=u===void 0?this._zoom:u;var f=l.zoom(r*l.scale(u));return isNaN(f)?1/0:f},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(tt(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(z(r),u)},layerPointToLatLng:function(r){var u=z(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(tt(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(tt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(yt(r))},distance:function(r,u){return this.options.crs.distance(tt(r),tt(u))},containerPointToLayerPoint:function(r){return z(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return z(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(z(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(tt(r)))},mouseEventToContainerPoint:function(r){return Bm(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=Nm(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");et(u,"scroll",this._onScroll,this),this._containerId=h(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&W.any3d,rt(r,"leaflet-container"+(W.touch?" leaflet-touch":"")+(W.retina?" leaflet-retina":"")+(W.ielt9?" leaflet-oldie":"")+(W.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=xo(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Bt(this._mapPane,new k(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(r.markerPane,"leaflet-zoom-hide"),rt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,l){Bt(this._mapPane,new k(0,0));var f=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var p=this._zoom!==u;this._moveStart(p,l)._move(r,u)._moveEnd(p),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,l,f){u===void 0&&(u=this._zoom);var p=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),f?l&&l.pinch&&this.fire("zoom",l):((p||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Kt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Bt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var u=r?Tt:et;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),W.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Kt(this._resizeRequest),this._resizeRequest=Et(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var l=[],f,p=u==="mouseout"||u==="mouseover",g=r.target||r.srcElement,T=!1;g;){if(f=this._targets[h(g)],f&&(u==="click"||u==="preclick")&&this._draggableMoved(f)){T=!0;break}if(f&&f.listens(u,!0)&&(p&&!Nc(g,r)||(l.push(f),p))||g===this._container)break;g=g.parentNode}return!l.length&&!T&&!p&&this.listens(u,!0)&&(l=[this]),l},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var l=r.type;l==="mousedown"&&xc(u),this._fireDOMEvent(r,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,l){if(r.type==="click"){var f=o({},r);f.type="preclick",this._fireDOMEvent(f,f.type,l)}var p=this._findEventTargets(r,u);if(l){for(var g=[],T=0;T<l.length;T++)l[T].listens(u,!0)&&g.push(l[T]);p=g.concat(p)}if(p.length){u==="contextmenu"&&ie(r);var I=p[0],A={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var O=I.getLatLng&&(!I._radius||I._radius<=10);A.containerPoint=O?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(r),A.layerPoint=this.containerPointToLayerPoint(A.containerPoint),A.latlng=O?I.getLatLng():this.layerPointToLatLng(A.layerPoint)}for(T=0;T<p.length;T++)if(p[T].fire(u,A,!0),A.originalEvent._stopped||p[T].options.bubblingMouseEvents===!1&&x(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Vi(this._mapPane)||new k(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var l=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var l=this.getSize()._divideBy(2);return this.project(r,u)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,l){var f=this._getNewPixelOrigin(l,u);return this.project(r,u)._subtract(f)},_latLngBoundsToNewLayerBounds:function(r,u,l){var f=this._getNewPixelOrigin(l,u);return ht([this.project(r.getSouthWest(),u)._subtract(f),this.project(r.getNorthWest(),u)._subtract(f),this.project(r.getSouthEast(),u)._subtract(f),this.project(r.getNorthEast(),u)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,l){if(!l)return r;var f=this.project(r,u),p=this.getSize().divideBy(2),g=new Q(f.subtract(p),f.add(p)),T=this._getBoundsOffset(g,l,u);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?r:this.unproject(f.add(T),u)},_limitOffset:function(r,u){if(!u)return r;var l=this.getPixelBounds(),f=new Q(l.min.add(r),l.max.add(r));return r.add(this._getBoundsOffset(f,u))},_getBoundsOffset:function(r,u,l){var f=ht(this.project(u.getNorthEast(),l),this.project(u.getSouthWest(),l)),p=f.min.subtract(r.min),g=f.max.subtract(r.max),T=this._rebound(p.x,-g.x),I=this._rebound(p.y,-g.y);return new k(T,I)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),l=this.getMaxZoom(),f=W.any3d?this.options.zoomSnap:1;return f&&(r=Math.round(r/f)*f),Math.max(u,Math.min(l,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var l=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,u),!0)},_createAnimProxy:function(){var r=this._proxy=mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var l=Tc,f=this._proxy.style[l];Ni(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),f===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();Ni(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(u),p=this._getCenterOffset(r)._divideBy(1-1/f);return l.animate!==!0&&!this.getSize().contains(p)?!1:(Et(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,l,f){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ET(r,u){return new lt(r,u)}var nn=Ze.extend({options:{position:"topright"},initialize:function(r){S(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),l=this.getPosition(),f=r._controlCorners[l];return rt(u,"leaflet-control"),l.indexOf("bottom")!==-1?f.insertBefore(u,f.firstChild):f.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Do=function(r){return new nn(r)};lt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",l=this._controlContainer=mt("div",u+"control-container",this._container);function f(p,g){var T=u+p+" "+u+g;r[p+g]=mt("div",T,l)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)kt(this._controlCorners[r]);kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $m=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,l,f){return l<f?-1:f<l?1:0}},initialize:function(r,u,l){S(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in r)this._addLayer(r[f],f);for(f in u)this._addLayer(u[f],f,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return nn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(h(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=mt("div",r),l=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Oo(u),Dc(u);var f=this._section=mt("section",r+"-list");l&&(this._map.on("click",this.collapse,this),et(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=mt("a",r+"-toggle",u);p.href="#",p.title="Layers",p.setAttribute("role","button"),et(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){ie(g),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=mt("div",r+"-base",f),this._separator=mt("div",r+"-separator",f),this._overlaysList=mt("div",r+"-overlays",f),u.appendChild(f)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&h(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,l){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:l}),this.options.sortLayers&&this._layers.sort(a(function(f,p){return this.options.sortFunction(f.layer,p.layer,f.name,p.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ta(this._baseLayersList),Ta(this._overlaysList),this._layerControlInputs=[];var r,u,l,f,p=0;for(l=0;l<this._layers.length;l++)f=this._layers[l],this._addItem(f),u=u||f.overlay,r=r||!f.overlay,p+=f.overlay?0:1;return this.options.hideSingleBase&&(r=r&&p>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(h(r.target)),l=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;l&&this._map.fire(l,u)},_createRadioElement:function(r,u){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=l,f.firstChild},_addItem:function(r){var u=document.createElement("label"),l=this._map.hasLayer(r.layer),f;r.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=l):f=this._createRadioElement("leaflet-base-layers_"+h(this),l),this._layerControlInputs.push(f),f.layerId=h(r.layer),et(f,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+r.name;var g=document.createElement("span");u.appendChild(g),g.appendChild(f),g.appendChild(p);var T=r.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,l,f=[],p=[];this._handlingClick=!0;for(var g=r.length-1;g>=0;g--)u=r[g],l=this._getLayer(u.layerId).layer,u.checked?f.push(l):u.checked||p.push(l);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<f.length;g++)this._map.hasLayer(f[g])||this._map.addLayer(f[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,l,f=this._map.getZoom(),p=r.length-1;p>=0;p--)u=r[p],l=this._getLayer(u.layerId).layer,u.disabled=l.options.minZoom!==void 0&&f<l.options.minZoom||l.options.maxZoom!==void 0&&f>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,et(r,"click",ie),this.expand();var u=this;setTimeout(function(){Tt(r,"click",ie),u._preventClick=!1})}}),TT=function(r,u,l){return new $m(r,u,l)},Vc=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",l=mt("div",u+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,u+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,u+"-out",l,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,l,f,p){var g=mt("a",l,f);return g.innerHTML=r,g.href="#",g.title=u,g.setAttribute("role","button"),g.setAttribute("aria-label",u),Oo(g),et(g,"click",bi),et(g,"click",p,this),et(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";zt(this._zoomInButton,u),zt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(rt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(rt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});lt.mergeOptions({zoomControl:!0}),lt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vc,this.addControl(this.zoomControl))});var PT=function(r){return new Vc(r)},jm=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",l=mt("div",u),f=this.options;return this._addScales(f,u+"-line",l),r.on(f.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),l},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,l){r.metric&&(this._mScale=mt("div",u,l)),r.imperial&&(this._iScale=mt("div",u,l))},_update:function(){var r=this._map,u=r.getSize().y/2,l=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(l)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),l=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,l,u/r)},_updateImperial:function(r){var u=r*3.2808399,l,f,p;u>5280?(l=u/5280,f=this._getRoundNum(l),this._updateScale(this._iScale,f+" mi",f/l)):(p=this._getRoundNum(u),this._updateScale(this._iScale,p+" ft",p/u))},_updateScale:function(r,u,l){r.style.width=Math.round(this.options.maxWidth*l)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),l=r/u;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,u*l}}),ST=function(r){return new jm(r)},CT='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zc=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(W.inlineSvg?CT+" ":"")+"Leaflet</a>"},initialize:function(r){S(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=mt("div","leaflet-control-attribution"),Oo(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var l=[];this.options.prefix&&l.push(this.options.prefix),r.length&&l.push(r.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});lt.mergeOptions({attributionControl:!0}),lt.addInitHook(function(){this.options.attributionControl&&new zc().addTo(this)});var IT=function(r){return new zc(r)};nn.Layers=$m,nn.Zoom=Vc,nn.Scale=jm,nn.Attribution=zc,Do.layers=TT,Do.zoom=PT,Do.scale=ST,Do.attribution=IT;var _n=Ze.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_n.addTo=function(r,u){return r.addHandler(u,this),this};var LT={Events:ne},Hm=W.touch?"touchstart mousedown":"mousedown",Jn=On.extend({options:{clickTolerance:3},initialize:function(r,u,l,f){S(this,f),this._element=r,this._dragStartTarget=u||r,this._preventOutline=l},enable:function(){this._enabled||(et(this._dragStartTarget,Hm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Jn._dragging===this&&this.finishDrag(!0),Tt(this._dragStartTarget,Hm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Pc(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Jn._dragging===this&&this.finishDrag();return}if(!(Jn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Jn._dragging=this,this._preventOutline&&xc(this._element),Ic(),ko(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,l=Vm(this._element);this._startPoint=new k(u.clientX,u.clientY),this._startPos=Vi(this._element),this._parentScale=kc(l);var f=r.type==="mousedown";et(document,f?"mousemove":"touchmove",this._onMove,this),et(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,l=new k(u.clientX,u.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,ie(r),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Bt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){zt(document.body,"leaflet-dragging"),this._lastTarget&&(zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Tt(document,"mousemove touchmove",this._onMove,this),Tt(document,"mouseup touchend touchcancel",this._onUp,this),Lc(),Ro();var u=this._moved&&this._moving;this._moving=!1,Jn._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Zm(r,u,l){var f,p=[1,4,2,8],g,T,I,A,O,U,q,ot;for(g=0,U=r.length;g<U;g++)r[g]._code=Bi(r[g],u);for(I=0;I<4;I++){for(q=p[I],f=[],g=0,U=r.length,T=U-1;g<U;T=g++)A=r[g],O=r[T],A._code&q?O._code&q||(ot=La(O,A,q,u,l),ot._code=Bi(ot,u),f.push(ot)):(O._code&q&&(ot=La(O,A,q,u,l),ot._code=Bi(ot,u),f.push(ot)),f.push(A));r=f}return r}function Wm(r,u){var l,f,p,g,T,I,A,O,U;if(!r||r.length===0)throw new Error("latlngs not passed");Ge(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var q=tt([0,0]),ot=yt(r),Te=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());Te<1700&&(q=bc(r));var Qt=r.length,qe=[];for(l=0;l<Qt;l++){var xe=tt(r[l]);qe.push(u.project(tt([xe.lat-q.lat,xe.lng-q.lng])))}for(I=A=O=0,l=0,f=Qt-1;l<Qt;f=l++)p=qe[l],g=qe[f],T=p.y*g.x-g.y*p.x,A+=(p.x+g.x)*T,O+=(p.y+g.y)*T,I+=T*3;I===0?U=qe[0]:U=[A/I,O/I];var Tr=u.unproject(z(U));return tt([Tr.lat+q.lat,Tr.lng+q.lng])}function bc(r){for(var u=0,l=0,f=0,p=0;p<r.length;p++){var g=tt(r[p]);u+=g.lat,l+=g.lng,f++}return tt([u/f,l/f])}var AT={__proto__:null,clipPolygon:Zm,polygonCenter:Wm,centroid:bc};function Gm(r,u){if(!u||!r.length)return r.slice();var l=u*u;return r=RT(r,l),r=kT(r,l),r}function qm(r,u,l){return Math.sqrt(No(r,u,l,!0))}function xT(r,u,l){return No(r,u,l)}function kT(r,u){var l=r.length,f=typeof Uint8Array<"u"?Uint8Array:Array,p=new f(l);p[0]=p[l-1]=1,Bc(r,p,u,0,l-1);var g,T=[];for(g=0;g<l;g++)p[g]&&T.push(r[g]);return T}function Bc(r,u,l,f,p){var g=0,T,I,A;for(I=f+1;I<=p-1;I++)A=No(r[I],r[f],r[p],!0),A>g&&(T=I,g=A);g>l&&(u[T]=1,Bc(r,u,l,f,T),Bc(r,u,l,T,p))}function RT(r,u){for(var l=[r[0]],f=1,p=0,g=r.length;f<g;f++)MT(r[f],r[p])>u&&(l.push(r[f]),p=f);return p<g-1&&l.push(r[g-1]),l}var Km;function Qm(r,u,l,f,p){var g=f?Km:Bi(r,l),T=Bi(u,l),I,A,O;for(Km=T;;){if(!(g|T))return[r,u];if(g&T)return!1;I=g||T,A=La(r,u,I,l,p),O=Bi(A,l),I===g?(r=A,g=O):(u=A,T=O)}}function La(r,u,l,f,p){var g=u.x-r.x,T=u.y-r.y,I=f.min,A=f.max,O,U;return l&8?(O=r.x+g*(A.y-r.y)/T,U=A.y):l&4?(O=r.x+g*(I.y-r.y)/T,U=I.y):l&2?(O=A.x,U=r.y+T*(A.x-r.x)/g):l&1&&(O=I.x,U=r.y+T*(I.x-r.x)/g),new k(O,U,p)}function Bi(r,u){var l=0;return r.x<u.min.x?l|=1:r.x>u.max.x&&(l|=2),r.y<u.min.y?l|=4:r.y>u.max.y&&(l|=8),l}function MT(r,u){var l=u.x-r.x,f=u.y-r.y;return l*l+f*f}function No(r,u,l,f){var p=u.x,g=u.y,T=l.x-p,I=l.y-g,A=T*T+I*I,O;return A>0&&(O=((r.x-p)*T+(r.y-g)*I)/A,O>1?(p=l.x,g=l.y):O>0&&(p+=T*O,g+=I*O)),T=r.x-p,I=r.y-g,f?T*T+I*I:new k(p,g)}function Ge(r){return!P(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Xm(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ge(r)}function Ym(r,u){var l,f,p,g,T,I,A,O;if(!r||r.length===0)throw new Error("latlngs not passed");Ge(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var U=tt([0,0]),q=yt(r),ot=q.getNorthWest().distanceTo(q.getSouthWest())*q.getNorthEast().distanceTo(q.getNorthWest());ot<1700&&(U=bc(r));var Te=r.length,Qt=[];for(l=0;l<Te;l++){var qe=tt(r[l]);Qt.push(u.project(tt([qe.lat-U.lat,qe.lng-U.lng])))}for(l=0,f=0;l<Te-1;l++)f+=Qt[l].distanceTo(Qt[l+1])/2;if(f===0)O=Qt[0];else for(l=0,g=0;l<Te-1;l++)if(T=Qt[l],I=Qt[l+1],p=T.distanceTo(I),g+=p,g>f){A=(g-f)/p,O=[I.x-A*(I.x-T.x),I.y-A*(I.y-T.y)];break}var xe=u.unproject(z(O));return tt([xe.lat+U.lat,xe.lng+U.lng])}var OT={__proto__:null,simplify:Gm,pointToSegmentDistance:qm,closestPointOnSegment:xT,clipSegment:Qm,_getEdgeIntersection:La,_getBitCode:Bi,_sqClosestPointOnSegment:No,isFlat:Ge,_flat:Xm,polylineCenter:Ym},Fc={project:function(r){return new k(r.lng,r.lat)},unproject:function(r){return new pt(r.y,r.x)},bounds:new Q([-180,-90],[180,90])},Uc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,l=this.R,f=r.lat*u,p=this.R_MINOR/l,g=Math.sqrt(1-p*p),T=g*Math.sin(f),I=Math.tan(Math.PI/4-f/2)/Math.pow((1-T)/(1+T),g/2);return f=-l*Math.log(Math.max(I,1e-10)),new k(r.lng*u*l,f)},unproject:function(r){for(var u=180/Math.PI,l=this.R,f=this.R_MINOR/l,p=Math.sqrt(1-f*f),g=Math.exp(-r.y/l),T=Math.PI/2-2*Math.atan(g),I=0,A=.1,O;I<15&&Math.abs(A)>1e-7;I++)O=p*Math.sin(T),O=Math.pow((1-O)/(1+O),p/2),A=Math.PI/2-2*Math.atan(g*O)-T,T+=A;return new pt(T*u,r.x*u/l)}},DT={__proto__:null,LonLat:Fc,Mercator:Uc,SphericalMercator:dc},NT=o({},Yn,{code:"EPSG:3395",projection:Uc,transformation:function(){var r=.5/(Math.PI*Uc.R);return Io(r,.5,-r,.5)}()}),Jm=o({},Yn,{code:"EPSG:4326",projection:Fc,transformation:Io(1/180,1,-1/180,.5)}),VT=o({},Ae,{projection:Fc,transformation:Io(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var l=u.lng-r.lng,f=u.lat-r.lat;return Math.sqrt(l*l+f*f)},infinite:!0});Ae.Earth=Yn,Ae.EPSG3395=NT,Ae.EPSG3857=mc,Ae.EPSG900913=$E,Ae.EPSG4326=Jm,Ae.Simple=VT;var rn=On.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var l=this.getEvents();u.on(l,this),this.once("remove",function(){u.off(l,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});lt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=h(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=h(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,u){for(var l in this._layers)r.call(u,this._layers[l]);return this},_addLayers:function(r){r=r?P(r)?r:[r]:[];for(var u=0,l=r.length;u<l;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=h(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,l=this._getZoomSpan();for(var f in this._zoomBoundLayers){var p=this._zoomBoundLayers[f].options;r=p.minZoom===void 0?r:Math.min(r,p.minZoom),u=p.maxZoom===void 0?u:Math.max(u,p.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gr=rn.extend({initialize:function(r,u){S(this,u),this._layers={};var l,f;if(r)for(l=0,f=r.length;l<f;l++)this.addLayer(r[l])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),l,f;for(l in this._layers)f=this._layers[l],f[r]&&f[r].apply(f,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var l in this._layers)r.call(u,this._layers[l]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),zT=function(r,u){return new gr(r,u)},Dn=gr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),gr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),gr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ht;for(var u in this._layers){var l=this._layers[u];r.extend(l.getBounds?l.getBounds():l.getLatLng())}return r}}),bT=function(r,u){return new Dn(r,u)},vr=Ze.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){S(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var l=this._getIconUrl(r);if(!l){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(l,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(f,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(r,u){var l=this.options,f=l[u+"Size"];typeof f=="number"&&(f=[f,f]);var p=z(f),g=z(u==="shadow"&&l.shadowAnchor||l.iconAnchor||p&&p.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(l.className||""),g&&(r.style.marginLeft=-g.x+"px",r.style.marginTop=-g.y+"px"),p&&(r.style.width=p.x+"px",r.style.height=p.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return W.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function BT(r){return new vr(r)}var Vo=vr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Vo.imagePath!="string"&&(Vo.imagePath=this._detectIconPath()),(this.options.imagePath||Vo.imagePath)+vr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(l,f,p){var g=f.exec(l);return g&&g[p]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=mt("div","leaflet-default-icon-path",document.body),u=xo(r,"background-image")||xo(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),t_=_n.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Jn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,l=u._map,f=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=Vi(u._icon),T=l.getPixelBounds(),I=l.getPixelOrigin(),A=ht(T.min._subtract(I).add(p),T.max._subtract(I).subtract(p));if(!A.contains(g)){var O=z((Math.max(A.max.x,g.x)-A.max.x)/(T.max.x-A.max.x)-(Math.min(A.min.x,g.x)-A.min.x)/(T.min.x-A.min.x),(Math.max(A.max.y,g.y)-A.max.y)/(T.max.y-A.max.y)-(Math.min(A.min.y,g.y)-A.min.y)/(T.min.y-A.min.y)).multiplyBy(f);l.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),Bt(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Et(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Kt(this._panRequest),this._panRequest=Et(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,l=u._shadow,f=Vi(u._icon),p=u._map.layerPointToLatLng(f);l&&Bt(l,f),u._latlng=p,r.latlng=p,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Kt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Aa=rn.extend({options:{icon:new Vo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){S(this,u),this._latlng=tt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=tt(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=r.icon.createIcon(this._icon),f=!1;l!==this._icon&&(this._icon&&this._removeIcon(),f=!0,r.title&&(l.title=r.title),l.tagName==="IMG"&&(l.alt=r.alt||"")),rt(l,u),r.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(l,"focus",this._panOnFocus,this);var p=r.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(rt(p,u),p.alt=""),this._shadow=p,r.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Tt(this._icon,"focus",this._panOnFocus,this),kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Bt(this._icon,r),this._shadow&&Bt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),t_)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new t_(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&We(this._icon,r),this._shadow&&We(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,l=u.iconSize?z(u.iconSize):z(0,0),f=u.iconAnchor?z(u.iconAnchor):z(0,0);r.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:l.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function FT(r,u){return new Aa(r,u)}var ti=rn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return S(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xa=ti.extend({options:{fill:!0,radius:10},initialize:function(r,u){S(this,u),this._latlng=tt(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=tt(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return ti.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,l=this._clickTolerance(),f=[r+l,u+l];this._pxBounds=new Q(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function UT(r,u){return new xa(r,u)}var $c=xa.extend({initialize:function(r,u,l){if(typeof u=="number"&&(u=o({},l,{radius:u})),S(this,u),this._latlng=tt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ht(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ti.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,l=this._map,f=l.options.crs;if(f.distance===Yn.distance){var p=Math.PI/180,g=this._mRadius/Yn.R/p,T=l.project([u+g,r]),I=l.project([u-g,r]),A=T.add(I).divideBy(2),O=l.unproject(A).lat,U=Math.acos((Math.cos(g*p)-Math.sin(u*p)*Math.sin(O*p))/(Math.cos(u*p)*Math.cos(O*p)))/p;(isNaN(U)||U===0)&&(U=g/Math.cos(Math.PI/180*u)),this._point=A.subtract(l.getPixelOrigin()),this._radius=isNaN(U)?0:A.x-l.project([O,r-U]).x,this._radiusY=A.y-T.y}else{var q=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(q).x}this._updateBounds()}});function $T(r,u,l){return new $c(r,u,l)}var Nn=ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){S(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,l=null,f=No,p,g,T=0,I=this._parts.length;T<I;T++)for(var A=this._parts[T],O=1,U=A.length;O<U;O++){p=A[O-1],g=A[O];var q=f(r,p,g,!0);q<u&&(u=q,l=f(r,p,g))}return l&&(l.distance=Math.sqrt(u)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ym(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=tt(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ht,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ge(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],l=Ge(r),f=0,p=r.length;f<p;f++)l?(u[f]=tt(r[f]),this._bounds.extend(u[f])):u[f]=this._convertLatLngs(r[f]);return u},_project:function(){var r=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new k(r,r);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,l){var f=r[0]instanceof pt,p=r.length,g,T;if(f){for(T=[],g=0;g<p;g++)T[g]=this._map.latLngToLayerPoint(r[g]),l.extend(T[g]);u.push(T)}else for(g=0;g<p;g++)this._projectLatlngs(r[g],u,l)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,l,f,p,g,T,I,A;for(l=0,p=0,g=this._rings.length;l<g;l++)for(A=this._rings[l],f=0,T=A.length;f<T-1;f++)I=Qm(A[f],A[f+1],r,f,!0),I&&(u[p]=u[p]||[],u[p].push(I[0]),(I[1]!==A[f+1]||f===T-2)&&(u[p].push(I[1]),p++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,l=0,f=r.length;l<f;l++)r[l]=Gm(r[l],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var l,f,p,g,T,I,A=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(l=0,g=this._parts.length;l<g;l++)for(I=this._parts[l],f=0,T=I.length,p=T-1;f<T;p=f++)if(!(!u&&f===0)&&qm(r,I[p],I[f])<=A)return!0;return!1}});function jT(r,u){return new Nn(r,u)}Nn._flat=Xm;var yr=Nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=Nn.prototype._convertLatLngs.call(this,r),l=u.length;return l>=2&&u[0]instanceof pt&&u[0].equals(u[l-1])&&u.pop(),u},_setLatLngs:function(r){Nn.prototype._setLatLngs.call(this,r),Ge(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ge(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,l=new k(u,u);if(r=new Q(r.min.subtract(l),r.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,p=this._rings.length,g;f<p;f++)g=Zm(this._rings[f],r,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,l,f,p,g,T,I,A,O;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(g=0,A=this._parts.length;g<A;g++)for(l=this._parts[g],T=0,O=l.length,I=O-1;T<O;I=T++)f=l[T],p=l[I],f.y>r.y!=p.y>r.y&&r.x<(p.x-f.x)*(r.y-f.y)/(p.y-f.y)+f.x&&(u=!u);return u||Nn.prototype._containsPoint.call(this,r,!0)}});function HT(r,u){return new yr(r,u)}var Vn=Dn.extend({initialize:function(r,u){S(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=P(r)?r:r.features,l,f,p;if(u){for(l=0,f=u.length;l<f;l++)p=u[l],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(r))return this;var T=ka(r,g);return T?(T.feature=Oa(r),T.defaultOptions=T.options,this.resetStyle(T),g.onEachFeature&&g.onEachFeature(r,T),this.addLayer(T)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function ka(r,u){var l=r.type==="Feature"?r.geometry:r,f=l?l.coordinates:null,p=[],g=u&&u.pointToLayer,T=u&&u.coordsToLatLng||jc,I,A,O,U;if(!f&&!l)return null;switch(l.type){case"Point":return I=T(f),e_(g,r,I,u);case"MultiPoint":for(O=0,U=f.length;O<U;O++)I=T(f[O]),p.push(e_(g,r,I,u));return new Dn(p);case"LineString":case"MultiLineString":return A=Ra(f,l.type==="LineString"?0:1,T),new Nn(A,u);case"Polygon":case"MultiPolygon":return A=Ra(f,l.type==="Polygon"?1:2,T),new yr(A,u);case"GeometryCollection":for(O=0,U=l.geometries.length;O<U;O++){var q=ka({geometry:l.geometries[O],type:"Feature",properties:r.properties},u);q&&p.push(q)}return new Dn(p);case"FeatureCollection":for(O=0,U=l.features.length;O<U;O++){var ot=ka(l.features[O],u);ot&&p.push(ot)}return new Dn(p);default:throw new Error("Invalid GeoJSON object.")}}function e_(r,u,l,f){return r?r(u,l):new Aa(l,f&&f.markersInheritOptions&&f)}function jc(r){return new pt(r[1],r[0],r[2])}function Ra(r,u,l){for(var f=[],p=0,g=r.length,T;p<g;p++)T=u?Ra(r[p],u-1,l):(l||jc)(r[p]),f.push(T);return f}function Hc(r,u){return r=tt(r),r.alt!==void 0?[v(r.lng,u),v(r.lat,u),v(r.alt,u)]:[v(r.lng,u),v(r.lat,u)]}function Ma(r,u,l,f){for(var p=[],g=0,T=r.length;g<T;g++)p.push(u?Ma(r[g],Ge(r[g])?0:u-1,l,f):Hc(r[g],f));return!u&&l&&p.length>0&&p.push(p[0].slice()),p}function wr(r,u){return r.feature?o({},r.feature,{geometry:u}):Oa(u)}function Oa(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Zc={toGeoJSON:function(r){return wr(this,{type:"Point",coordinates:Hc(this.getLatLng(),r)})}};Aa.include(Zc),$c.include(Zc),xa.include(Zc),Nn.include({toGeoJSON:function(r){var u=!Ge(this._latlngs),l=Ma(this._latlngs,u?1:0,!1,r);return wr(this,{type:(u?"Multi":"")+"LineString",coordinates:l})}}),yr.include({toGeoJSON:function(r){var u=!Ge(this._latlngs),l=u&&!Ge(this._latlngs[0]),f=Ma(this._latlngs,l?2:u?1:0,!0,r);return u||(f=[f]),wr(this,{type:(l?"Multi":"")+"Polygon",coordinates:f})}}),gr.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(l){u.push(l.toGeoJSON(r).geometry.coordinates)}),wr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var l=u==="GeometryCollection",f=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(r);if(l)f.push(g.geometry);else{var T=Oa(g);T.type==="FeatureCollection"?f.push.apply(f,T.features):f.push(T)}}}),l?wr(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function n_(r,u){return new Vn(r,u)}var ZT=n_,Da=rn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,l){this._url=r,this._bounds=yt(u),S(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&mr(this._image),this},bringToBack:function(){return this._map&&_r(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=yt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:mt("img");if(rt(u,"leaflet-image-layer"),this._zoomAnimated&&rt(u,"leaflet-zoom-animated"),this.options.className&&rt(u,this.options.className),u.onselectstart=_,u.onmousemove=_,u.onload=a(this.fire,this,"load"),u.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Ni(this._image,l,u)},_reset:function(){var r=this._image,u=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=u.getSize();Bt(r,u.min),r.style.width=l.x+"px",r.style.height=l.y+"px"},_updateOpacity:function(){We(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),WT=function(r,u,l){return new Da(r,u,l)},i_=Da.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:mt("video");if(rt(u,"leaflet-image-layer"),this._zoomAnimated&&rt(u,"leaflet-zoom-animated"),this.options.className&&rt(u,this.options.className),u.onselectstart=_,u.onmousemove=_,u.onloadeddata=a(this.fire,this,"load"),r){for(var l=u.getElementsByTagName("source"),f=[],p=0;p<l.length;p++)f.push(l[p].src);this._url=l.length>0?f:[u.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var T=mt("source");T.src=this._url[g],u.appendChild(T)}}});function GT(r,u,l){return new i_(r,u,l)}var r_=Da.extend({_initImage:function(){var r=this._image=this._url;rt(r,"leaflet-image-layer"),this._zoomAnimated&&rt(r,"leaflet-zoom-animated"),this.options.className&&rt(r,this.options.className),r.onselectstart=_,r.onmousemove=_}});function qT(r,u,l){return new r_(r,u,l)}var gn=rn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof pt||P(r))?(this._latlng=tt(r),S(this,u)):(S(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&We(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&We(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(We(this._container,0),this._removeTimeout=setTimeout(a(kt,void 0,this._container),200)):kt(this._container),this.options.interactive&&(zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=tt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mr(this._container),this},bringToBack:function(){return this._map&&_r(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof Dn){u=null;var l=this._source._layers;for(var f in l)if(l[f]._map){u=l[f];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=z(this.options.offset),l=this._getAnchor();this._zoomAnimated?Bt(this._container,r.add(l)):u=u.add(r).add(l);var f=this._containerBottom=-u.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=f+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});lt.include({_initOverlay:function(r,u,l,f){var p=u;return p instanceof r||(p=new r(f).setContent(u)),l&&p.setLatLng(l),p}}),rn.include({_initOverlay:function(r,u,l,f){var p=l;return p instanceof r?(S(p,f),p._source=this):(p=u&&!f?u:new r(f,this),p.setContent(l)),p}});var Na=gn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,gn.prototype.openOn.call(this,r)},onAdd:function(r){gn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ti||this._source.on("preclick",zi))},onRemove:function(r){gn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ti||this._source.off("preclick",zi))},getEvents:function(){var r=gn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=mt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=mt("div",r+"-content-wrapper",u);if(this._contentNode=mt("div",r+"-content",l),Oo(u),Dc(this._contentNode),et(u,"contextmenu",zi),this._tipContainer=mt("div",r+"-tip-container",u),this._tip=mt("div",r+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=mt("a",r+"-close-button",u);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',et(f,"click",function(p){ie(p),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var l=r.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),u.width=l+1+"px",u.whiteSpace="",u.height="";var f=r.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&f>p?(u.height=p+"px",rt(r,g)):zt(r,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),l=this._getAnchor();Bt(this._container,u.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(xo(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+u,f=this._containerWidth,p=new k(this._containerLeft,-l-this._containerBottom);p._add(Vi(this._container));var g=r.layerPointToContainerPoint(p),T=z(this.options.autoPanPadding),I=z(this.options.autoPanPaddingTopLeft||T),A=z(this.options.autoPanPaddingBottomRight||T),O=r.getSize(),U=0,q=0;g.x+f+A.x>O.x&&(U=g.x+f-O.x+A.x),g.x-U-I.x<0&&(U=g.x-I.x),g.y+l+A.y>O.y&&(q=g.y+l-O.y+A.y),g.y-q-I.y<0&&(q=g.y-I.y),(U||q)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([U,q]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),KT=function(r,u){return new Na(r,u)};lt.mergeOptions({closePopupOnClick:!0}),lt.include({openPopup:function(r,u,l){return this._initOverlay(Na,r,u,l).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),rn.include({bindPopup:function(r,u){return this._popup=this._initOverlay(Na,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Dn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){bi(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof ti)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Va=gn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){gn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){gn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=gn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,l,f=this._map,p=this._container,g=f.latLngToContainerPoint(f.getCenter()),T=f.layerPointToContainerPoint(r),I=this.options.direction,A=p.offsetWidth,O=p.offsetHeight,U=z(this.options.offset),q=this._getAnchor();I==="top"?(u=A/2,l=O):I==="bottom"?(u=A/2,l=0):I==="center"?(u=A/2,l=O/2):I==="right"?(u=0,l=O/2):I==="left"?(u=A,l=O/2):T.x<g.x?(I="right",u=0,l=O/2):(I="left",u=A+(U.x+q.x)*2,l=O/2),r=r.subtract(z(u,l,!0)).add(U).add(q),zt(p,"leaflet-tooltip-right"),zt(p,"leaflet-tooltip-left"),zt(p,"leaflet-tooltip-top"),zt(p,"leaflet-tooltip-bottom"),rt(p,"leaflet-tooltip-"+I),Bt(p,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&We(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),QT=function(r,u){return new Va(r,u)};lt.include({openTooltip:function(r,u,l){return this._initOverlay(Va,r,u,l).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),rn.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Va,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[u](l),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Dn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(et(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),et(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,l,f;this._tooltip.options.sticky&&r.originalEvent&&(l=this._map.mouseEventToContainerPoint(r.originalEvent),f=this._map.containerPointToLayerPoint(l),u=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(u)}});var o_=vr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Ta(u),u.appendChild(l.html)):u.innerHTML=l.html!==!1?l.html:"",l.bgPos){var f=z(l.bgPos);u.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function XT(r){return new o_(r)}vr.Default=Vo;var zo=rn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:W.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){S(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),kt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_r(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof k?r:new k(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,l=-r(-1/0,1/0),f=0,p=u.length,g;f<p;f++)g=u[f].style.zIndex,u[f]!==this._container&&g&&(l=r(l,+g));isFinite(l)&&(this.options.zIndex=l+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!W.ielt9){We(this._container,this.options.opacity);var r=+new Date,u=!1,l=!1;for(var f in this._tiles){var p=this._tiles[f];if(!(!p.current||!p.loaded)){var g=Math.min(1,(r-p.loaded)/200);We(p.el,g),g<1?u=!0:(p.active?l=!0:this._onOpaqueTile(p),p.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),u&&(Kt(this._fadeFrame),this._fadeFrame=Et(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===r?(this._levels[l].el.style.zIndex=u-Math.abs(r-l),this._onUpdateLevel(l)):(kt(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var f=this._levels[r],p=this._map;return f||(f=this._levels[r]={},f.el=mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=u,f.origin=p.project(p.unproject(p.getPixelOrigin()),r).round(),f.zoom=r,this._setZoomTransform(f,p.getCenter(),p.getZoom()),_(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var r,u,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var f=u.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)kt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,l,f){var p=Math.floor(r/2),g=Math.floor(u/2),T=l-1,I=new k(+p,+g);I.z=+T;var A=this._tileCoordsToKey(I),O=this._tiles[A];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),T>f?this._retainParent(p,g,T,f):!1)},_retainChildren:function(r,u,l,f){for(var p=2*r;p<2*r+2;p++)for(var g=2*u;g<2*u+2;g++){var T=new k(p,g);T.z=l+1;var I=this._tileCoordsToKey(T),A=this._tiles[I];if(A&&A.active){A.retain=!0;continue}else A&&A.loaded&&(A.retain=!0);l+1<f&&this._retainChildren(p,g,l+1,f)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,l,f){var p=Math.round(u);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!f||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(r),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var l in this._levels)this._setZoomTransform(this._levels[l],r,u)},_setZoomTransform:function(r,u,l){var f=this._map.getZoomScale(l,r.zoom),p=r.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(u,l)).round();W.any3d?Ni(r.el,p,f):Bt(r.el,p)},_resetGrid:function(){var r=this._map,u=r.options.crs,l=this._tileSize=this.getTileSize(),f=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],f).x/l.x),Math.ceil(r.project([0,u.wrapLng[1]],f).x/l.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],f).y/l.x),Math.ceil(r.project([u.wrapLat[1],0],f).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,l=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),f=u.getZoomScale(l,this._tileZoom),p=u.project(r,this._tileZoom).floor(),g=u.getSize().divideBy(f*2);return new Q(p.subtract(g),p.add(g))},_update:function(r){var u=this._map;if(u){var l=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(r),p=this._pxBoundsToTileRange(f),g=p.getCenter(),T=[],I=this.options.keepBuffer,A=new Q(p.getBottomLeft().subtract([I,-I]),p.getTopRight().add([I,-I]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var U=this._tiles[O].coords;(U.z!==this._tileZoom||!A.contains(new k(U.x,U.y)))&&(this._tiles[O].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(r,l);return}for(var q=p.min.y;q<=p.max.y;q++)for(var ot=p.min.x;ot<=p.max.x;ot++){var Te=new k(ot,q);if(Te.z=this._tileZoom,!!this._isValidTile(Te)){var Qt=this._tiles[this._tileCoordsToKey(Te)];Qt?Qt.current=!0:T.push(Te)}}if(T.sort(function(xe,Tr){return xe.distanceTo(g)-Tr.distanceTo(g)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qe=document.createDocumentFragment();for(ot=0;ot<T.length;ot++)this._addTile(T[ot],qe);this._level.el.appendChild(qe)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var l=this._globalTileRange;if(!u.wrapLng&&(r.x<l.min.x||r.x>l.max.x)||!u.wrapLat&&(r.y<l.min.y||r.y>l.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(r);return yt(this.options.bounds).overlaps(f)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,l=this.getTileSize(),f=r.scaleBy(l),p=f.add(l),g=u.unproject(f,r.z),T=u.unproject(p,r.z);return[g,T]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),l=new Ht(u[0],u[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),l=new k(+u[0],+u[1]);return l.z=+u[2],l},_removeTile:function(r){var u=this._tiles[r];u&&(kt(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){rt(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=_,r.onmousemove=_,W.ielt9&&this.options.opacity<1&&We(r,this.options.opacity)},_addTile:function(r,u){var l=this._getTilePos(r),f=this._tileCoordsToKey(r),p=this.createTile(this._wrapCoords(r),a(this._tileReady,this,r));this._initTile(p),this.createTile.length<2&&Et(a(this._tileReady,this,r,null,p)),Bt(p,l),this._tiles[f]={el:p,coords:r,current:!0},u.appendChild(p),this.fire("tileloadstart",{tile:p,coords:r})},_tileReady:function(r,u,l){u&&this.fire("tileerror",{error:u,tile:l,coords:r});var f=this._tileCoordsToKey(r);l=this._tiles[f],l&&(l.loaded=+new Date,this._map._fadeAnimated?(We(l.el,0),Kt(this._fadeFrame),this._fadeFrame=Et(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),u||(rt(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),W.ielt9||!this._map._fadeAnimated?Et(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new k(this._wrapX?m(r.x,this._wrapX):r.x,this._wrapY?m(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new Q(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function YT(r){return new zo(r)}var Er=zo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=S(this,u),u.detectRetina&&W.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var l=document.createElement("img");return et(l,"load",a(this._tileOnLoad,this,u,l)),et(l,"error",a(this._tileOnError,this,u,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(r),l},getTileUrl:function(r){var u={r:W.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=l),u["-y"]=l}return w(this._url,o(u,this.options))},_tileOnLoad:function(r,u){W.ielt9?setTimeout(a(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,l){var f=this.options.errorTileUrl;f&&u.getAttribute("src")!==f&&(u.src=f),r(l,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,l=this.options.zoomReverse,f=this.options.zoomOffset;return l&&(r=u-r),r+f},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=_,u.onerror=_,!u.complete)){u.src=V;var l=this._tiles[r].coords;kt(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:l})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",V),zo.prototype._removeTile.call(this,r)},_tileReady:function(r,u,l){if(!(!this._map||l&&l.getAttribute("src")===V))return zo.prototype._tileReady.call(this,r,u,l)}});function s_(r,u){return new Er(r,u)}var a_=Er.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var l=o({},this.defaultWmsParams);for(var f in u)f in this.options||(l[f]=u[f]);u=S(this,u);var p=u.detectRetina&&W.retina?2:1,g=this.getTileSize();l.width=g.x*p,l.height=g.y*p,this.wmsParams=l},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Er.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),l=this._crs,f=ht(l.project(u[0]),l.project(u[1])),p=f.min,g=f.max,T=(this._wmsVersion>=1.3&&this._crs===Jm?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),I=Er.prototype.getTileUrl.call(this,r);return I+R(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(r,u){return o(this.wmsParams,r),u||this.redraw(),this}});function JT(r,u){return new a_(r,u)}Er.WMS=a_,s_.wms=JT;var zn=rn.extend({options:{padding:.1},initialize:function(r){S(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var l=this._map.getZoomScale(u,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,u),g=f.multiplyBy(-l).add(p).subtract(this._map._getNewPixelOrigin(r,u));W.any3d?Ni(this._container,g,l):Bt(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),l=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new Q(l,l.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),u_=zn.extend({options:{tolerance:0},getEvents:function(){var r=zn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");et(r,"mousemove",this._onMouseMove,this),et(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),et(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Kt(this._redrawRequest),delete this._ctx,kt(this._container),Tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zn.prototype._update.call(this);var r=this._bounds,u=this._container,l=r.getSize(),f=W.retina?2:1;Bt(u,r.min),u.width=f*l.x,u.height=f*l.y,u.style.width=l.x+"px",u.style.height=l.y+"px",W.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,l=u.next,f=u.prev;l?l.prev=f:this._drawLast=f,f?f.next=l:this._drawFirst=l,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),l=[],f,p;for(p=0;p<u.length;p++){if(f=Number(u[p]),isNaN(f))return;l.push(f)}r.options._dashArray=l}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Et(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var l=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)r=f.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var l,f,p,g,T=r._parts,I=T.length,A=this._ctx;if(I){for(A.beginPath(),l=0;l<I;l++){for(f=0,p=T[l].length;f<p;f++)g=T[l][f],A[f?"lineTo":"moveTo"](g.x,g.y);u&&A.closePath()}this._fillStroke(A,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,l=this._ctx,f=Math.max(Math.round(r._radius),1),p=(Math.max(Math.round(r._radiusY),1)||f)/f;p!==1&&(l.save(),l.scale(1,p)),l.beginPath(),l.arc(u.x,u.y/p,f,0,Math.PI*2,!1),p!==1&&l.restore(),this._fillStroke(l,r)}},_fillStroke:function(r,u){var l=u.options;l.fill&&(r.globalAlpha=l.fillOpacity,r.fillStyle=l.fillColor||l.color,r.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=l.opacity,r.lineWidth=l.weight,r.strokeStyle=l.color,r.lineCap=l.lineCap,r.lineJoin=l.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),l,f,p=this._drawFirst;p;p=p.next)l=p.layer,l.options.interactive&&l._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(l))&&(f=l);this._fireEvent(f?[f]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(zt(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var l,f,p=this._drawFirst;p;p=p.next)l=p.layer,l.options.interactive&&l._containsPoint(u)&&(f=l);f!==this._hoveredLayer&&(this._handleMouseOut(r),f&&(rt(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,l){this._map._fireDOMEvent(u,l||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var l=u.next,f=u.prev;if(l)l.prev=f;else return;f?f.next=l:l&&(this._drawFirst=l),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var l=u.next,f=u.prev;if(f)f.next=l;else return;l?l.prev=f:f&&(this._drawLast=f),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function l_(r){return W.canvas?new u_(r):null}var bo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),tP={_initContainer:function(){this._container=mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=bo("shape");rt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=bo("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;kt(u),r.removeInteractiveTarget(u),delete this._layers[h(r)]},_updateStyle:function(r){var u=r._stroke,l=r._fill,f=r.options,p=r._container;p.stroked=!!f.stroke,p.filled=!!f.fill,f.stroke?(u||(u=r._stroke=bo("stroke")),p.appendChild(u),u.weight=f.weight+"px",u.color=f.color,u.opacity=f.opacity,f.dashArray?u.dashStyle=P(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=f.lineCap.replace("butt","flat"),u.joinstyle=f.lineJoin):u&&(p.removeChild(u),r._stroke=null),f.fill?(l||(l=r._fill=bo("fill")),p.appendChild(l),l.color=f.fillColor||f.color,l.opacity=f.fillOpacity):l&&(p.removeChild(l),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),l=Math.round(r._radius),f=Math.round(r._radiusY||l);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+l+","+f+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){mr(r._container)},_bringToBack:function(r){_r(r._container)}},za=W.vml?bo:dm,Bo=zn.extend({_initContainer:function(){this._container=za("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=za("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kt(this._container),Tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zn.prototype._update.call(this);var r=this._bounds,u=r.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,l.setAttribute("width",u.x),l.setAttribute("height",u.y)),Bt(l,r.min),l.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=za("path");r.options.className&&rt(u,r.options.className),r.options.interactive&&rt(u,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){kt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,l=r.options;u&&(l.stroke?(u.setAttribute("stroke",l.color),u.setAttribute("stroke-opacity",l.opacity),u.setAttribute("stroke-width",l.weight),u.setAttribute("stroke-linecap",l.lineCap),u.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?u.setAttribute("stroke-dasharray",l.dashArray):u.removeAttribute("stroke-dasharray"),l.dashOffset?u.setAttribute("stroke-dashoffset",l.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),l.fill?(u.setAttribute("fill",l.fillColor||l.color),u.setAttribute("fill-opacity",l.fillOpacity),u.setAttribute("fill-rule",l.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,pm(r._parts,u))},_updateCircle:function(r){var u=r._point,l=Math.max(Math.round(r._radius),1),f=Math.max(Math.round(r._radiusY),1)||l,p="a"+l+","+f+" 0 1,0 ",g=r._empty()?"M0 0":"M"+(u.x-l)+","+u.y+p+l*2+",0 "+p+-l*2+",0 ";this._setPath(r,g)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){mr(r._path)},_bringToBack:function(r){_r(r._path)}});W.vml&&Bo.include(tP);function c_(r){return W.svg||W.vml?new Bo(r):null}lt.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&l_(r)||c_(r)}});var h_=yr.extend({initialize:function(r,u){yr.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=yt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function eP(r,u){return new h_(r,u)}Bo.create=za,Bo.pointsToPath=pm,Vn.geometryToLayer=ka,Vn.coordsToLatLng=jc,Vn.coordsToLatLngs=Ra,Vn.latLngToCoords=Hc,Vn.latLngsToCoords=Ma,Vn.getFeature=wr,Vn.asFeature=Oa,lt.mergeOptions({boxZoom:!0});var f_=_n.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ko(),Ic(),this._startPoint=this._map.mouseEventToContainerPoint(r),et(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=mt("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new Q(this._point,this._startPoint),l=u.getSize();Bt(this._box,u.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(kt(this._box),zt(this._container,"leaflet-crosshair")),Ro(),Lc(),Tt(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var u=new Ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});lt.addInitHook("addHandler","boxZoom",f_),lt.mergeOptions({doubleClickZoom:!0});var d_=_n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,l=u.getZoom(),f=u.options.zoomDelta,p=r.originalEvent.shiftKey?l-f:l+f;u.options.doubleClickZoom==="center"?u.setZoom(p):u.setZoomAround(r.containerPoint,p)}});lt.addInitHook("addHandler","doubleClickZoom",d_),lt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var p_=_n.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Jn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){zt(this._map._container,"leaflet-grab"),zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=yt(this._map.options.maxBounds);this._offsetLimit=ht(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),l=this._initialWorldOffset,f=this._draggable._newPos.x,p=(f-u+l)%r+u-l,g=(f+u+l)%r-u-l,T=Math.abs(p+l)<Math.abs(g+l)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(r){var u=this._map,l=u.options,f=!l.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),f)u.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,T=l.easeLinearity,I=p.multiplyBy(T/g),A=I.distanceTo([0,0]),O=Math.min(l.inertiaMaxSpeed,A),U=I.multiplyBy(O/A),q=O/(l.inertiaDeceleration*T),ot=U.multiplyBy(-q/2).round();!ot.x&&!ot.y?u.fire("moveend"):(ot=u._limitOffset(ot,u.options.maxBounds),Et(function(){u.panBy(ot,{duration:q,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});lt.addInitHook("addHandler","dragging",p_),lt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var m_=_n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),et(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,l=r.scrollTop||u.scrollTop,f=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(f,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},l=this.keyCodes,f,p;for(f=0,p=l.left.length;f<p;f++)u[l.left[f]]=[-1*r,0];for(f=0,p=l.right.length;f<p;f++)u[l.right[f]]=[r,0];for(f=0,p=l.down.length;f<p;f++)u[l.down[f]]=[0,r];for(f=0,p=l.up.length;f<p;f++)u[l.up[f]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},l=this.keyCodes,f,p;for(f=0,p=l.zoomIn.length;f<p;f++)u[l.zoomIn[f]]=r;for(f=0,p=l.zoomOut.length;f<p;f++)u[l.zoomOut[f]]=-r},_addHooks:function(){et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,l=this._map,f;if(u in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(f=this._panKeys[u],r.shiftKey&&(f=z(f).multiplyBy(3)),l.options.maxBounds&&(f=l._limitOffset(z(f),l.options.maxBounds)),l.options.worldCopyJump){var p=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(f)));l.panTo(p)}else l.panBy(f)}else if(u in this._zoomKeys)l.setZoom(l.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;bi(r)}}});lt.addInitHook("addHandler","keyboard",m_),lt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var __=_n.extend({addHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=Fm(r),l=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var f=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),bi(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),l=this._map.options.zoomSnap||0;r._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,g=l?Math.ceil(p/l)*l:p,T=r._limitZoom(u+(this._delta>0?g:-g))-u;this._delta=0,this._startTime=null,T&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+T):r.setZoomAround(this._lastMousePos,u+T))}});lt.addInitHook("addHandler","scrollWheelZoom",__);var nP=600;lt.mergeOptions({tapHold:W.touchNative&&W.safari&&W.mobile,tapTolerance:15});var g_=_n.extend({addHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new k(u.clientX,u.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(et(document,"touchend",ie),et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),nP),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Tt(document,"touchend",ie),Tt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Tt(document,"touchend touchcancel contextmenu",this._cancel,this),Tt(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new k(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var l=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});l._simulated=!0,u.target.dispatchEvent(l)}});lt.addInitHook("addHandler","tapHold",g_),lt.mergeOptions({touchZoom:W.touch,bounceAtZoomLimits:!0});var v_=_n.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){zt(this._map._container,"leaflet-touch-zoom"),Tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var l=u.mouseEventToContainerPoint(r.touches[0]),f=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(l.add(f)._divideBy(2))),this._startDist=l.distanceTo(f),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),ie(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,l=u.mouseEventToContainerPoint(r.touches[0]),f=u.mouseEventToContainerPoint(r.touches[1]),p=l.distanceTo(f)/this._startDist;if(this._zoom=u.getScaleZoom(p,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&p<1||this._zoom>u.getMaxZoom()&&p>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=l._add(f)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Kt(this._animRequest);var T=a(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Et(T,this,!0),ie(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Kt(this._animRequest),Tt(document,"touchmove",this._onTouchMove,this),Tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});lt.addInitHook("addHandler","touchZoom",v_),lt.BoxZoom=f_,lt.DoubleClickZoom=d_,lt.Drag=p_,lt.Keyboard=m_,lt.ScrollWheelZoom=__,lt.TapHold=g_,lt.TouchZoom=v_,n.Bounds=Q,n.Browser=W,n.CRS=Ae,n.Canvas=u_,n.Circle=$c,n.CircleMarker=xa,n.Class=Ze,n.Control=nn,n.DivIcon=o_,n.DivOverlay=gn,n.DomEvent=wT,n.DomUtil=vT,n.Draggable=Jn,n.Evented=On,n.FeatureGroup=Dn,n.GeoJSON=Vn,n.GridLayer=zo,n.Handler=_n,n.Icon=vr,n.ImageOverlay=Da,n.LatLng=pt,n.LatLngBounds=Ht,n.Layer=rn,n.LayerGroup=gr,n.LineUtil=OT,n.Map=lt,n.Marker=Aa,n.Mixin=LT,n.Path=ti,n.Point=k,n.PolyUtil=AT,n.Polygon=yr,n.Polyline=Nn,n.Popup=Na,n.PosAnimation=Um,n.Projection=DT,n.Rectangle=h_,n.Renderer=zn,n.SVG=Bo,n.SVGOverlay=r_,n.TileLayer=Er,n.Tooltip=Va,n.Transformation=pc,n.Util=Di,n.VideoOverlay=i_,n.bind=a,n.bounds=ht,n.canvas=l_,n.circle=$T,n.circleMarker=UT,n.control=Do,n.divIcon=XT,n.extend=o,n.featureGroup=bT,n.geoJSON=n_,n.geoJson=ZT,n.gridLayer=YT,n.icon=BT,n.imageOverlay=WT,n.latLng=tt,n.latLngBounds=yt,n.layerGroup=zT,n.map=ET,n.marker=FT,n.point=z,n.polygon=HT,n.polyline=jT,n.popup=KT,n.rectangle=eP,n.setOptions=S,n.stamp=h,n.svg=c_,n.svgOverlay=qT,n.tileLayer=s_,n.tooltip=QT,n.transformation=Io,n.version=i,n.videoOverlay=GT;var iP=window.L;n.noConflict=function(){return window.L=iP,this},window.L=n})})(xf,xf.exports);var ki=xf.exports;function iw(e){return e.split(" ").filter(Boolean)}function rw(e,t){iw(t).forEach(n=>{ki.DomUtil.addClass(e,n)})}function ow(e,t){iw(t).forEach(n=>{ki.DomUtil.removeClass(e,n)})}function bC(e,t,n){e!=null&&n!==t&&(t!=null&&t.length>0&&ow(e,t),n!=null&&n.length>0&&rw(e,n))}function Dl(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function vo(e,t){return t==null?function(i,o){const s=at.useRef();return s.current||(s.current=e(i,o)),s}:function(i,o){const s=at.useRef();s.current||(s.current=e(i,o));const a=at.useRef(i),{instance:c}=s.current;return at.useEffect(function(){a.current!==i&&(t(c,i,a.current),a.current=i)},[c,i,o]),s}}function ap(e,t){at.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var s;(s=t.layerContainer)==null||s.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function up(e){return function(n){const i=go(),o=e(oa(n,i),i);return np(i.map,n.attribution),Ol(o.current,n.eventHandlers),ap(o.current,i),o}}function sw(e,t){const n=at.useRef();at.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function aw(e){return function(n){const i=go(),o=e(oa(n,i),i);return Ol(o.current,n.eventHandlers),ap(o.current,i),sw(o.current,n),o}}function BC(e){function t(o,s){return Dl(e(o),s)}const n=vo(t),i=ew(n);return sp(i)}function uw(e,t){const n=vo(e,t),i=up(n);return op(i)}function FC(e,t){const n=vo(e),i=nw(n,t);return tw(i)}function UC(e,t){const n=vo(e,t),i=aw(n);return op(i)}function lw(e,t){const n=vo(e,t),i=up(n);return sp(i)}function cw(e,t,n){const{opacity:i,zIndex:o}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function $C(e,t,n){t.bounds instanceof ki.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}const jC=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:X0,LeafletContext:ip,LeafletProvider:rp,addClassName:rw,createContainerComponent:op,createControlComponent:BC,createControlHook:ew,createDivOverlayComponent:tw,createDivOverlayHook:nw,createElementHook:vo,createElementObject:Dl,createLayerComponent:uw,createLayerHook:up,createLeafComponent:sp,createLeafletContext:Y0,createOverlayComponent:FC,createPathComponent:UC,createPathHook:aw,createTileLayerComponent:lw,extendContext:J0,removeClassName:ow,updateCircle:zC,updateClassName:bC,updateGridLayer:cw,updateMediaOverlay:$C,useAttribution:np,useEventHandlers:Ol,useLayerLifecycle:ap,useLeafletContext:go,usePathOptions:sw,withPane:oa},Symbol.toStringTag,{value:"Module"}));function HC(){return go().map}function ZC(e,t){const n=HC();return at.useEffect(function(){return n.on(e,t),function(){n.off(e,t)}},[n,e,t]),n}function kf(){return kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kf.apply(this,arguments)}function WC({bounds:e,boundsOptions:t,center:n,children:i,className:o,id:s,placeholder:a,style:c,whenReady:h,zoom:d,...m},_){const[v]=at.useState({className:o,id:s,style:c}),[y,C]=at.useState(null);at.useImperativeHandle(_,()=>(y==null?void 0:y.map)??null,[y]);const S=at.useCallback(E=>{if(E!==null&&y===null){const w=new ki.Map(E,m);n!=null&&d!=null?w.setView(n,d):e!=null&&w.fitBounds(e,t),h!=null&&w.whenReady(h),C(Y0(w))}},[]);at.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const R=y?Lu.createElement(rp,{value:y},i):a??null;return Lu.createElement("div",kf({},v,{ref:S}),R)}const GC=at.forwardRef(WC),qC=uw(function({position:t,...n},i){const o=new ki.Marker(t,n);return Dl(o,J0(i,{overlayContainer:o}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),KC=lw(function({url:t,...n},i){const o=new ki.TileLayer(t,oa(n,i));return Dl(o,i)},function(t,n,i){cw(t,n,i);const{url:o}=n;o!=null&&o!==i.url&&t.setUrl(o)});var hw={};const QC=_l(jC);var Rg={exports:{}};(function(e,t){(function(n,i){i(t)})(wi,function(n){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var a=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,a?this._withAnimation:this._noAnimation),this._markerCluster=a?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var a=s,c=this._zoom;if(s.__parent)for(;a.__parent._zoom>=c;)a=a.__parent;return this._currentShownBounds.contains(a.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,a):this._animationAddLayerNonAnimated(s,a)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):s.getLatLng?this._map?s.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s}),this):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s}),this)},addLayers:function(s,a){if(!L.Util.isArray(s))return this.addLayer(s);var c=this._featureGroup,h=this._nonPointGroup,d=this.options.chunkedLoading,m=this.options.chunkInterval,_=this.options.chunkProgress,v=s.length,y=0,C=!0,S;if(this._map){var R=new Date().getTime(),E=L.bind(function(){var P=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<v;y++){if(d&&y%200===0){var x=new Date().getTime()-P;if(x>m)break}if(S=s[y],S instanceof L.LayerGroup){C&&(s=s.slice(),C=!1),this._extractNonGroupLayers(S,s),v=s.length;continue}if(!S.getLatLng){h.addLayer(S),a||this.fire("layeradd",{layer:S});continue}if(!this.hasLayer(S)&&(this._addLayer(S,this._maxZoom),a||this.fire("layeradd",{layer:S}),S.__parent&&S.__parent.getChildCount()===2)){var V=S.__parent.getAllChildMarkers(),F=V[0]===S?V[1]:V[0];c.removeLayer(F)}}_&&_(y,v,new Date().getTime()-R),y===v?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(E,this.options.chunkDelay)},this);E()}else for(var w=this._needsClustering;y<v;y++){if(S=s[y],S instanceof L.LayerGroup){C&&(s=s.slice(),C=!1),this._extractNonGroupLayers(S,s),v=s.length;continue}if(!S.getLatLng){h.addLayer(S);continue}this.hasLayer(S)||w.push(S)}return this},removeLayers:function(s){var a,c,h=s.length,d=this._featureGroup,m=this._nonPointGroup,_=!0;if(!this._map){for(a=0;a<h;a++){if(c=s[a],c instanceof L.LayerGroup){_&&(s=s.slice(),_=!1),this._extractNonGroupLayers(c,s),h=s.length;continue}this._arraySplice(this._needsClustering,c),m.removeLayer(c),this.hasLayer(c)&&this._needsRemoving.push({layer:c,latlng:c._latlng}),this.fire("layerremove",{layer:c})}return this}if(this._unspiderfy){this._unspiderfy();var v=s.slice(),y=h;for(a=0;a<y;a++){if(c=v[a],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,v),y=v.length;continue}this._unspiderfyLayer(c)}}for(a=0;a<h;a++){if(c=s[a],c instanceof L.LayerGroup){_&&(s=s.slice(),_=!1),this._extractNonGroupLayers(c,s),h=s.length;continue}if(!c.__parent){m.removeLayer(c),this.fire("layerremove",{layer:c});continue}this._removeLayer(c,!0,!0),this.fire("layerremove",{layer:c}),d.hasLayer(c)&&(d.removeLayer(c),c.clusterShow&&c.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var a=this._needsClustering.length-1;a>=0;a--)s.extend(this._needsClustering[a].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,a){var c=this._needsClustering.slice(),h=this._needsRemoving,d,m,_;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(c),m=c.length-1;m>=0;m--){for(d=!0,_=h.length-1;_>=0;_--)if(h[_].layer===c[m]){d=!1;break}d&&s.call(a,c[m])}this._nonPointGroup.eachLayer(s,a)},getLayers:function(){var s=[];return this.eachLayer(function(a){s.push(a)}),s},getLayer:function(s){var a=null;return s=parseInt(s,10),this.eachLayer(function(c){L.stamp(c)===s&&(a=c)}),a},hasLayer:function(s){if(!s)return!1;var a,c=this._needsClustering;for(a=c.length-1;a>=0;a--)if(c[a]===s)return!0;for(c=this._needsRemoving,a=c.length-1;a>=0;a--)if(c[a].layer===s)return!1;return!!(s.__parent&&s.__parent._group===this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,a){var c=this._map;typeof a!="function"&&(a=function(){});var h=function(){(c.hasLayer(s)||c.hasLayer(s.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",h,this),this.off("animationend",h,this),c.hasLayer(s)?a():s.__parent._icon&&(this.once("spiderfied",a,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?a():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),s.__parent.zoomToBounds())},onAdd:function(s){this._map=s;var a,c,h;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,a=0,c=this._needsRemoving.length;a<c;a++)h=this._needsRemoving[a],h.newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(a=0,c=this._needsRemoving.length;a<c;a++)h=this._needsRemoving[a],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),c=this._needsClustering,this._needsClustering=[],this.addLayers(c,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var a=s;a&&!a._icon;)a=a.__parent;return a||null},_arraySplice:function(s,a){for(var c=s.length-1;c>=0;c--)if(s[c]===a)return s.splice(c,1),!0},_removeFromGridUnclustered:function(s,a){for(var c=this._map,h=this._gridUnclustered,d=Math.floor(this._map.getMinZoom());a>=d&&h[a].removeObject(s,c.project(s.getLatLng(),a));a--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var a=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),a&&s.target.openPopup()}},_moveChild:function(s,a,c){s._latlng=a,this.removeLayer(s),s._latlng=c,this.addLayer(s)},_childMarkerDragEnd:function(s){var a=s.target.__dragStart;delete s.target.__dragStart,a&&this._moveChild(s.target,a,s.target._latlng)},_removeLayer:function(s,a,c){var h=this._gridClusters,d=this._gridUnclustered,m=this._featureGroup,_=this._map,v=Math.floor(this._map.getMinZoom());a&&this._removeFromGridUnclustered(s,this._maxZoom);var y=s.__parent,C=y._markers,S;for(this._arraySplice(C,s);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<v));)a&&y._childCount<=1?(S=y._markers[0]===s?y._markers[1]:y._markers[0],h[y._zoom].removeObject(y,_.project(y._cLatLng,y._zoom)),d[y._zoom].addObject(S,_.project(S.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(S),S.__parent=y.__parent,y._icon&&(m.removeLayer(y),c||m.addLayer(S))):y._iconNeedsUpdate=!0,y=y.__parent;delete s.__parent},_isOrIsParent:function(s,a){for(;a;){if(s===a)return!0;a=a.parentNode}return!1},fire:function(s,a,c){if(a&&a.layer instanceof L.MarkerCluster){if(a.originalEvent&&this._isOrIsParent(a.layer._icon,a.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,a,c)},listens:function(s,a){return L.FeatureGroup.prototype.listens.call(this,s,a)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,a)},_defaultIconCreateFunction:function(s){var a=s.getChildCount(),c=" marker-cluster-";return a<10?c+="small":a<100?c+="medium":c+="large",new L.DivIcon({html:"<div><span>"+a+"</span></div>",className:"marker-cluster"+c,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,a=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom;(a||h||d)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var a=s.layer,c=a;if(!(s.type==="clusterkeypress"&&s.originalEvent&&s.originalEvent.keyCode!==13)){for(;c._childClusters.length===1;)c=c._childClusters[0];c._zoom===this._maxZoom&&c._childCount===a._childCount&&this.options.spiderfyOnMaxZoom?a.spiderfy():this.options.zoomToBoundsOnClick&&a.zoomToBounds(),this.options.spiderfyOnEveryZoom&&a.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var a=this._map;this._inZoomAnimation||(this._shownPolygon&&a.removeLayer(this._shownPolygon),s.layer.getChildCount()>2&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),a.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,a=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,d=this._map;(s||c||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),a&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),a=Math.floor(this._map.getMinZoom()),c=this.options.maxClusterRadius,h=c;typeof c!="function"&&(h=function(){return c}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var d=s;d>=a;d--)this._gridClusters[d]=new L.DistanceGrid(h(d)),this._gridUnclustered[d]=new L.DistanceGrid(h(d));this._topClusterLevel=new this._markerCluster(this,a-1)},_addLayer:function(s,a){var c=this._gridClusters,h=this._gridUnclustered,d=Math.floor(this._map.getMinZoom()),m,_;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);a>=d;a--){m=this._map.project(s.getLatLng(),a);var v=c[a].getNearObject(m);if(v){v._addChild(s),s.__parent=v;return}if(v=h[a].getNearObject(m),v){var y=v.__parent;y&&this._removeLayer(v,!1);var C=new this._markerCluster(this,a,v,s);c[a].addObject(C,this._map.project(C._cLatLng,a)),v.__parent=C,s.__parent=C;var S=C;for(_=a-1;_>y._zoom;_--)S=new this._markerCluster(this,_,S),c[_].addObject(S,this._map.project(v.getLatLng(),_));y._addChild(S),this._removeFromGridUnclustered(v,a);return}h[a].addObject(s,m)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(s){var a=this._maxLat;return a!==void 0&&(s.getNorth()>=a&&(s._northEast.lat=1/0),s.getSouth()<=-a&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,a){if(a===s)this._featureGroup.addLayer(s);else if(a._childCount===2){a._addToMap();var c=a.getAllChildMarkers();this._featureGroup.removeLayer(c[0]),this._featureGroup.removeLayer(c[1])}else a._updateIcon()},_extractNonGroupLayers:function(s,a){var c=s.getLayers(),h=0,d;for(a=a||[];h<c.length;h++){if(d=c[h],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,a);continue}a.push(d)}return a},_overrideMarkerIcon:function(s){var a=s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}});return a}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,a){this._animationAddLayerNonAnimated(s,a)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,a){var c=this._getExpandedVisibleBounds(),h=this._featureGroup,d=Math.floor(this._map.getMinZoom()),m;this._ignoreMove=!0,this._topClusterLevel._recursively(c,s,d,function(_){var v=_._latlng,y=_._markers,C;for(c.contains(v)||(v=null),_._isSingleParent()&&s+1===a?(h.removeLayer(_),_._recursivelyAddChildrenToMap(null,a,c)):(_.clusterHide(),_._recursivelyAddChildrenToMap(v,a,c)),m=y.length-1;m>=0;m--)C=y[m],c.contains(C._latlng)||h.removeLayer(C)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(c,a),h.eachLayer(function(_){!(_ instanceof L.MarkerCluster)&&_._icon&&_.clusterShow()}),this._topClusterLevel._recursively(c,s,a,function(_){_._recursivelyRestoreChildPositions(a)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(c,s,d,function(_){h.removeLayer(_),_.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,a){this._animationZoomOutSingle(this._topClusterLevel,s-1,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,a){var c=this,h=this._featureGroup;h.addLayer(s),a!==s&&(a._childCount>2?(a._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(a.getLatLng())),s.clusterHide(),this._enqueue(function(){h.removeLayer(s),s.clusterShow(),c._animationEnd()})):(this._forceLayout(),c._animationStart(),c._animationZoomOutSingle(a,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,a,c){var h=this._getExpandedVisibleBounds(),d=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(h,d,a+1,c);var m=this;this._forceLayout(),s._recursivelyBecomeVisible(h,c),this._enqueue(function(){if(s._childCount===1){var _=s._markers[0];this._ignoreMove=!0,_.setLatLng(_.getLatLng()),this._ignoreMove=!1,_.clusterShow&&_.clusterShow()}else s._recursively(h,c,d,function(v){v._recursivelyRemoveChildrenFromMap(h,d,a+1)});m._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,a,c,h){L.Marker.prototype.initialize.call(this,c?c._cLatLng||c.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=a,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,c&&this._addChild(c),h&&this._addChild(h)},getAllChildMarkers:function(s,a){s=s||[];for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c].getAllChildMarkers(s,a);for(var h=this._markers.length-1;h>=0;h--)a&&this._markers[h].__dragStart||s.push(this._markers[h]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var a=this._childClusters.slice(),c=this._group._map,h=c.getBoundsZoom(this._bounds),d=this._zoom+1,m=c.getZoom(),_;a.length>0&&h>d;){d++;var v=[];for(_=0;_<a.length;_++)v=v.concat(a[_]._childClusters);a=v}h>d?this._group._map.setView(this._latlng,d):h<=m?this._group._map.setView(this._latlng,m+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,a){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(a||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(a||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s=this._markers,a=this._childClusters,c=0,h=0,d=this._childCount,m,_,v,y;if(d!==0){for(this._resetBounds(),m=0;m<s.length;m++)v=s[m]._latlng,this._bounds.extend(v),c+=v.lat,h+=v.lng;for(m=0;m<a.length;m++)_=a[m],_._boundsNeedUpdate&&_._recalculateBounds(),this._bounds.extend(_._bounds),v=_._wLatLng,y=_._childCount,c+=v.lat*y,h+=v.lng*y;this._latlng=this._wLatLng=new L.LatLng(c/d,h/d),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,a,c){this._recursively(s,this._group._map.getMinZoom(),c-1,function(h){var d=h._markers,m,_;for(m=d.length-1;m>=0;m--)_=d[m],_._icon&&(_._setPos(a),_.clusterHide())},function(h){var d=h._childClusters,m,_;for(m=d.length-1;m>=0;m--)_=d[m],_._icon&&(_._setPos(a),_.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,a,c,h){this._recursively(s,h,a,function(d){d._recursivelyAnimateChildrenIn(s,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),c),d._isSingleParent()&&c-1===h?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(s,a,c)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(s,a){this._recursively(s,this._group._map.getMinZoom(),a,null,function(c){c.clusterShow()})},_recursivelyAddChildrenToMap:function(s,a,c){this._recursively(c,this._group._map.getMinZoom()-1,a,function(h){if(a!==h._zoom)for(var d=h._markers.length-1;d>=0;d--){var m=h._markers[d];c.contains(m._latlng)&&(s&&(m._backupLatlng=m.getLatLng(),m.setLatLng(s),m.clusterHide&&m.clusterHide()),h._group._featureGroup.addLayer(m))}},function(h){h._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var a=this._markers.length-1;a>=0;a--){var c=this._markers[a];c._backupLatlng&&(c.setLatLng(c._backupLatlng),delete c._backupLatlng)}if(s-1===this._zoom)for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._restorePosition();else for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,a,c,h){var d,m;this._recursively(s,a-1,c-1,function(_){for(m=_._markers.length-1;m>=0;m--)d=_._markers[m],(!h||!h.contains(d._latlng))&&(_._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(_){for(m=_._childClusters.length-1;m>=0;m--)d=_._childClusters[m],(!h||!h.contains(d._latlng))&&(_._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(s,a,c,h,d){var m=this._childClusters,_=this._zoom,v,y;if(a<=_&&(h&&h(this),d&&_===c&&d(this)),_<a||_<c)for(v=m.length-1;v>=0;v--)y=m[v],y._boundsNeedUpdate&&y._recalculateBounds(),s.intersects(y._bounds)&&y._recursively(s,a,c,h,d)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,a){var c=this._getCoord(a.x),h=this._getCoord(a.y),d=this._grid,m=d[h]=d[h]||{},_=m[c]=m[c]||[],v=L.Util.stamp(s);this._objectPoint[v]=a,_.push(s)},updateObject:function(s,a){this.removeObject(s),this.addObject(s,a)},removeObject:function(s,a){var c=this._getCoord(a.x),h=this._getCoord(a.y),d=this._grid,m=d[h]=d[h]||{},_=m[c]=m[c]||[],v,y;for(delete this._objectPoint[L.Util.stamp(s)],v=0,y=_.length;v<y;v++)if(_[v]===s)return _.splice(v,1),y===1&&delete m[c],!0},eachObject:function(s,a){var c,h,d,m,_,v,y,C=this._grid;for(c in C){_=C[c];for(h in _)for(v=_[h],d=0,m=v.length;d<m;d++)y=s.call(a,v[d]),y&&(d--,m--)}},getNearObject:function(s){var a=this._getCoord(s.x),c=this._getCoord(s.y),h,d,m,_,v,y,C,S,R=this._objectPoint,E=this._sqCellSize,w=null;for(h=c-1;h<=c+1;h++)if(_=this._grid[h],_){for(d=a-1;d<=a+1;d++)if(v=_[d],v)for(m=0,y=v.length;m<y;m++)C=v[m],S=this._sqDist(R[L.Util.stamp(C)],s),(S<E||S<=E&&w===null)&&(E=S,w=C)}return w},_getCoord:function(s){var a=Math.floor(s/this._cellSize);return isFinite(a)?a:s},_sqDist:function(s,a){var c=a.x-s.x,h=a.y-s.y;return c*c+h*h}},function(){L.QuickHull={getDistant:function(s,a){var c=a[1].lat-a[0].lat,h=a[0].lng-a[1].lng;return h*(s.lat-a[0].lat)+c*(s.lng-a[0].lng)},findMostDistantPointFromBaseLine:function(s,a){var c=0,h=null,d=[],m,_,v;for(m=a.length-1;m>=0;m--){if(_=a[m],v=this.getDistant(_,s),v>0)d.push(_);else continue;v>c&&(c=v,h=_)}return{maxPoint:h,newPoints:d}},buildConvexHull:function(s,a){var c=[],h=this.findMostDistantPointFromBaseLine(s,a);return h.maxPoint?(c=c.concat(this.buildConvexHull([s[0],h.maxPoint],h.newPoints)),c=c.concat(this.buildConvexHull([h.maxPoint,s[1]],h.newPoints)),c):[s[0]]},getConvexHull:function(s){var a=!1,c=!1,h=!1,d=!1,m=null,_=null,v=null,y=null,C=null,S=null,R;for(R=s.length-1;R>=0;R--){var E=s[R];(a===!1||E.lat>a)&&(m=E,a=E.lat),(c===!1||E.lat<c)&&(_=E,c=E.lat),(h===!1||E.lng>h)&&(v=E,h=E.lng),(d===!1||E.lng<d)&&(y=E,d=E.lng)}c!==a?(S=_,C=m):(S=y,C=v);var w=[].concat(this.buildConvexHull([S,C],s),this.buildConvexHull([C,S],s));return w}}}(),L.MarkerCluster.include({getConvexHull:function(){var s=this.getAllChildMarkers(),a=[],c,h;for(h=s.length-1;h>=0;h--)c=s[h].getLatLng(),a.push(c);return L.QuickHull.getConvexHull(a)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var s=this.getAllChildMarkers(null,!0),a=this._group,c=a._map,h=c.latLngToLayerPoint(this._latlng),d;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?d=this._group.options.spiderfyShapePositions(s.length,h):s.length>=this._circleSpiralSwitchover?d=this._generatePointsSpiral(s.length,h):(h.y+=10,d=this._generatePointsCircle(s.length,h)),this._animationSpiderfy(s,d)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,a){var c=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s),h=c/this._2PI,d=this._2PI/s,m=[],_,v;for(h=Math.max(h,35),m.length=s,_=0;_<s;_++)v=this._circleStartAngle+_*d,m[_]=new L.Point(a.x+h*Math.cos(v),a.y+h*Math.sin(v))._round();return m},_generatePointsSpiral:function(s,a){var c=this._group.options.spiderfyDistanceMultiplier,h=c*this._spiralLengthStart,d=c*this._spiralFootSeparation,m=c*this._spiralLengthFactor*this._2PI,_=0,v=[],y;for(v.length=s,y=s;y>=0;y--)y<s&&(v[y]=new L.Point(a.x+h*Math.cos(_),a.y+h*Math.sin(_))._round()),_+=d/h+y*5e-4,h+=m/_;return v},_noanimationUnspiderfy:function(){var s=this._group,a=s._map,c=s._featureGroup,h=this.getAllChildMarkers(null,!0),d,m;for(s._ignoreMove=!0,this.setOpacity(1),m=h.length-1;m>=0;m--)d=h[m],c.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(a.removeLayer(d._spiderLeg),delete d._spiderLeg);s.fire("unspiderfied",{cluster:this,markers:h}),s._ignoreMove=!1,s._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,a){var c=this._group,h=c._map,d=c._featureGroup,m=this._group.options.spiderLegPolylineOptions,_,v,y,C;for(c._ignoreMove=!0,_=0;_<s.length;_++)C=h.layerPointToLatLng(a[_]),v=s[_],y=new L.Polyline([this._latlng,C],m),h.addLayer(y),v._spiderLeg=y,v._preSpiderfyLatlng=v._latlng,v.setLatLng(C),v.setZIndexOffset&&v.setZIndexOffset(1e6),d.addLayer(v);this.setOpacity(.3),c._ignoreMove=!1,c.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,a){var c=this,h=this._group,d=h._map,m=h._featureGroup,_=this._latlng,v=d.latLngToLayerPoint(_),y=L.Path.SVG,C=L.extend({},this._group.options.spiderLegPolylineOptions),S=C.opacity,R,E,w,P,x,V;for(S===void 0&&(S=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(C.opacity=0,C.className=(C.className||"")+" leaflet-cluster-spider-leg"):C.opacity=S,h._ignoreMove=!0,R=0;R<s.length;R++)E=s[R],V=d.layerPointToLatLng(a[R]),w=new L.Polyline([_,V],C),d.addLayer(w),E._spiderLeg=w,y&&(P=w._path,x=P.getTotalLength()+.1,P.style.strokeDasharray=x,P.style.strokeDashoffset=x),E.setZIndexOffset&&E.setZIndexOffset(1e6),E.clusterHide&&E.clusterHide(),m.addLayer(E),E._setPos&&E._setPos(v);for(h._forceLayout(),h._animationStart(),R=s.length-1;R>=0;R--)V=d.layerPointToLatLng(a[R]),E=s[R],E._preSpiderfyLatlng=E._latlng,E.setLatLng(V),E.clusterShow&&E.clusterShow(),y&&(w=E._spiderLeg,P=w._path,P.style.strokeDashoffset=0,w.setStyle({opacity:S}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:c,markers:s})},200)},_animationUnspiderfy:function(s){var a=this,c=this._group,h=c._map,d=c._featureGroup,m=s?h._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):h.latLngToLayerPoint(this._latlng),_=this.getAllChildMarkers(null,!0),v=L.Path.SVG,y,C,S,R,E,w;for(c._ignoreMove=!0,c._animationStart(),this.setOpacity(1),C=_.length-1;C>=0;C--)y=_[C],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,w=!0,y._setPos&&(y._setPos(m),w=!1),y.clusterHide&&(y.clusterHide(),w=!1),w&&d.removeLayer(y),v&&(S=y._spiderLeg,R=S._path,E=R.getTotalLength()+.1,R.style.strokeDashoffset=E,S.setStyle({opacity:0})));c._ignoreMove=!1,setTimeout(function(){var P=0;for(C=_.length-1;C>=0;C--)y=_[C],y._spiderLeg&&P++;for(C=_.length-1;C>=0;C--)y=_[C],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),P>1&&d.removeLayer(y),h.removeLayer(y._spiderLeg),delete y._spiderLeg);c._animationEnd(),c.fire("unspiderfied",{cluster:a,markers:_})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var a,c;for(a in s)for(c=s[a].__parent;c;)c._iconNeedsUpdate=!0,c=c.__parent},_refreshSingleMarkerModeMarkers:function(s){var a,c;for(a in s)c=s[a],this.hasLayer(c)&&c.setIcon(this._overrideMarkerIcon(c))}}),L.Marker.include({refreshIconOptions:function(s,a){var c=this.options.icon;return L.setOptions(c,s),this.setIcon(c),a&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=i,n.MarkerCluster=o,Object.defineProperty(n,"__esModule",{value:!0})})})(Rg,Rg.exports);const XC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",YC=Object.freeze(Object.defineProperty({__proto__:null,default:XC},Symbol.toStringTag,{value:"Module"})),JC=_l(YC),tI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",eI=Object.freeze(Object.defineProperty({__proto__:null,default:tI},Symbol.toStringTag,{value:"Module"})),nI=_l(eI),iI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",rI=Object.freeze(Object.defineProperty({__proto__:null,default:iI},Symbol.toStringTag,{value:"Module"})),oI=_l(rI);var Fr=wi&&wi.__assign||function(){return Fr=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fr.apply(this,arguments)},sI=wi&&wi.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},aI=wi&&wi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hw,"__esModule",{value:!0});var Rf=QC,lp=aI(ki);delete lp.default.Icon.Default.prototype._getIconUrl;lp.default.Icon.Default.mergeOptions({iconRetinaUrl:JC.default,iconUrl:nI.default,shadowUrl:oI.default});function uI(e){var t={},n={};e.children;var i=sI(e,["children"]);return Object.entries(i).forEach(function(o){var s,a,c=o[0],h=o[1];c.startsWith("on")?n=Fr(Fr({},n),(s={},s[c]=h,s)):t=Fr(Fr({},t),(a={},a[c]=h,a))}),{clusterProps:t,clusterEvents:n}}function lI(e,t){var n=uI(e),i=n.clusterProps,o=n.clusterEvents,s=new lp.default.MarkerClusterGroup(i);return Object.entries(o).forEach(function(a){var c=a[0],h=a[1],d="cluster".concat(c.substring(2).toLowerCase());s.on(d,h)}),(0,Rf.createElementObject)(s,(0,Rf.extendContext)(t,{layerContainer:s}))}var cI=function(e,t,n){},hI=(0,Rf.createPathComponent)(lI,cI),fI=hw.default=hI,Mg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},dI=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=e[n++],a=e[n++],c=e[n++],h=((o&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<e.length;o+=3){const s=e[o],a=o+1<e.length,c=a?e[o+1]:0,h=o+2<e.length,d=h?e[o+2]:0,m=s>>2,_=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,y=d&63;h||(y=64,a||(v=64)),i.push(n[m],n[_],n[v],n[y])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<e.length;){const s=n[e.charAt(o++)],c=o<e.length?n[e.charAt(o)]:0;++o;const d=o<e.length?n[e.charAt(o)]:64;++o;const _=o<e.length?n[e.charAt(o)]:64;if(++o,s==null||c==null||d==null||_==null)throw new pI;const v=s<<2|c>>4;if(i.push(v),d!==64){const y=c<<4&240|d>>2;if(i.push(y),_!==64){const C=d<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mI=function(e){const t=fw(e);return dw.encodeByteArray(t,!0)},Yu=function(e){return mI(e).replace(/\./g,"")},_I=function(e){try{return dw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=()=>gI().__FIREBASE_DEFAULTS__,yI=()=>{if(typeof process>"u"||typeof Mg>"u")return;const e=Mg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_I(e[1]);return t&&JSON.parse(t)},cp=()=>{try{return vI()||yI()||wI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},EI=e=>{var t,n;return(n=(t=cp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},TI=e=>{const t=EI(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},pw=()=>{var e;return(e=cp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yu(JSON.stringify(n)),Yu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CI(){var e;const t=(e=cp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function II(){return!CI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mw(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="FirebaseError";class yo extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=AI,Object.setPrototypeOf(this,yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_w.prototype.create)}}class _w{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},o=`${this.service}/${t}`,s=this.errors[t],a=s?xI(s,i):"Error",c=`${this.serviceName}: ${a} (${o}).`;return new yo(o,c,i)}}function xI(e,t){return e.replace(kI,(n,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const kI=/\{\$([^}]+)}/g;function Mf(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const o of n){if(!i.includes(o))return!1;const s=e[o],a=t[o];if(Og(s)&&Og(a)){if(!Mf(s,a))return!1}else if(s!==a)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Og(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e){return e&&e._delegate?e._delegate:e}class bs{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new PI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OI(t))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});i.resolve(s)}catch{}}}}clearInstance(t=$i){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$i){return this.instances.has(t)}getOptions(t=$i){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&a.resolve(o)}return o}onInit(t,n){var i;const o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);const a=this.instances.get(o);return a&&t(a,o),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MI(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=$i){return this.component?this.component.multipleInstances?t:$i:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MI(e){return e===$i?void 0:e}function OI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new RI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ft||(ft={}));const NI={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},VI=ft.INFO,zI={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},bI=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),o=zI[t];if(o)console[o](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gw{constructor(t){this.name=t,this._logLevel=VI,this._logHandler=bI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...t),this._logHandler(this,ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...t),this._logHandler(this,ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...t),this._logHandler(this,ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...t),this._logHandler(this,ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...t),this._logHandler(this,ft.ERROR,...t)}}const BI=(e,t)=>t.some(n=>e instanceof n);let Dg,Ng;function FI(){return Dg||(Dg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UI(){return Ng||(Ng=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,Of=new WeakMap,yw=new WeakMap,yh=new WeakMap,hp=new WeakMap;function $I(e){const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(gi(e.result)),o()},a=()=>{i(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&vw.set(n,e)}).catch(()=>{}),hp.set(t,e),t}function jI(e){if(Of.has(e))return;const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),o()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Of.set(e,t)}let Df={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Of.get(e);if(t==="objectStoreNames")return e.objectStoreNames||yw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HI(e){Df=e(Df)}function ZI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(wh(this),t,...n);return yw.set(i,t.sort?t.sort():[t]),gi(i)}:UI().includes(e)?function(...t){return e.apply(wh(this),t),gi(vw.get(this))}:function(...t){return gi(e.apply(wh(this),t))}}function WI(e){return typeof e=="function"?ZI(e):(e instanceof IDBTransaction&&jI(e),BI(e,FI())?new Proxy(e,Df):e)}function gi(e){if(e instanceof IDBRequest)return $I(e);if(yh.has(e))return yh.get(e);const t=WI(e);return t!==e&&(yh.set(e,t),hp.set(t,e)),t}const wh=e=>hp.get(e);function GI(e,t,{blocked:n,upgrade:i,blocking:o,terminated:s}={}){const a=indexedDB.open(e,t),c=gi(a);return i&&a.addEventListener("upgradeneeded",h=>{i(gi(a.result),h.oldVersion,h.newVersion,gi(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),o&&h.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const qI=["get","getKey","getAll","getAllKeys","count"],KI=["put","add","delete","clear"],Eh=new Map;function Vg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Eh.get(t))return Eh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,o=KI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||qI.includes(n)))return;const s=async function(a,...c){const h=this.transaction(a,o?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),o&&h.done]))[0]};return Eh.set(t,s),s}HI(e=>({...e,get:(t,n,i)=>Vg(t,n)||e.get(t,n,i),has:(t,n)=>!!Vg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function XI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nf="@firebase/app",zg="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new gw("@firebase/app"),YI="@firebase/app-compat",JI="@firebase/analytics-compat",tL="@firebase/analytics",eL="@firebase/app-check-compat",nL="@firebase/app-check",iL="@firebase/auth",rL="@firebase/auth-compat",oL="@firebase/database",sL="@firebase/database-compat",aL="@firebase/functions",uL="@firebase/functions-compat",lL="@firebase/installations",cL="@firebase/installations-compat",hL="@firebase/messaging",fL="@firebase/messaging-compat",dL="@firebase/performance",pL="@firebase/performance-compat",mL="@firebase/remote-config",_L="@firebase/remote-config-compat",gL="@firebase/storage",vL="@firebase/storage-compat",yL="@firebase/firestore",wL="@firebase/firestore-compat",EL="firebase",TL="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",PL={[Nf]:"fire-core",[YI]:"fire-core-compat",[tL]:"fire-analytics",[JI]:"fire-analytics-compat",[nL]:"fire-app-check",[eL]:"fire-app-check-compat",[iL]:"fire-auth",[rL]:"fire-auth-compat",[oL]:"fire-rtdb",[sL]:"fire-rtdb-compat",[aL]:"fire-fn",[uL]:"fire-fn-compat",[lL]:"fire-iid",[cL]:"fire-iid-compat",[hL]:"fire-fcm",[fL]:"fire-fcm-compat",[dL]:"fire-perf",[pL]:"fire-perf-compat",[mL]:"fire-rc",[_L]:"fire-rc-compat",[gL]:"fire-gcs",[vL]:"fire-gcs-compat",[yL]:"fire-fst",[wL]:"fire-fst-compat","fire-js":"fire-js",[EL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new Map,zf=new Map;function SL(e,t){try{e.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function el(e){const t=e.name;if(zf.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;zf.set(t,e);for(const n of tl.values())SL(n,e);return!0}function CL(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vi=new _w("app","Firebase",IL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=TL;function ww(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Vf,automaticDataCollectionEnabled:!1},t),o=i.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(n||(n=pw()),!n)throw vi.create("no-options");const s=tl.get(o);if(s){if(Mf(n,s.options)&&Mf(i,s.config))return s;throw vi.create("duplicate-app",{appName:o})}const a=new DI(o);for(const h of zf.values())a.addComponent(h);const c=new LL(n,i,a);return tl.set(o,c),c}function xL(e=Vf){const t=tl.get(e);if(!t&&e===Vf&&pw())return ww();if(!t)throw vi.create("no-app",{appName:e});return t}function qr(e,t,n){var i;let o=(i=PL[e])!==null&&i!==void 0?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const c=[`Unable to register library "${o}" with version "${t}":`];s&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(c.join(" "));return}el(new bs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebase-heartbeat-database",RL=1,Bs="firebase-heartbeat-store";let Th=null;function Ew(){return Th||(Th=GI(kL,RL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bs)}catch(n){console.warn(n)}}}}).catch(e=>{throw vi.create("idb-open",{originalErrorMessage:e.message})})),Th}async function ML(e){try{const n=(await Ew()).transaction(Bs),i=await n.objectStore(Bs).get(Tw(e));return await n.done,i}catch(t){if(t instanceof yo)or.warn(t.message);else{const n=vi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}async function bg(e,t){try{const i=(await Ew()).transaction(Bs,"readwrite");await i.objectStore(Bs).put(t,Tw(e)),await i.done}catch(n){if(n instanceof yo)or.warn(n.message);else{const i=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(i.message)}}}function Tw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=1024,DL=30*24*60*60*1e3;class NL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bg();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=DL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bg(),{heartbeatsToSend:i,unsentEntries:o}=VL(this._heartbeatsCache.heartbeats),s=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Bg(){return new Date().toISOString().substring(0,10)}function VL(e,t=OL){const n=[];let i=e.slice();for(const o of e){const s=n.find(a=>a.agent===o.agent);if(s){if(s.dates.push(o.date),Fg(n)>t){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Fg(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mw()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ML(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return bg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return bg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Fg(e){return Yu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(e){el(new bs("platform-logger",t=>new QI(t),"PRIVATE")),el(new bs("heartbeat",t=>new NL(t),"PRIVATE")),qr(Nf,zg,e),qr(Nf,zg,"esm2017"),qr("fire-js","")}bL("");var BL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,fp=fp||{},X=BL||self;function Nl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function sa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function FL(e){return Object.prototype.hasOwnProperty.call(e,Ph)&&e[Ph]||(e[Ph]=++UL)}var Ph="closure_uid_"+(1e9*Math.random()>>>0),UL=0;function $L(e,t,n){return e.call.apply(e.bind,arguments)}function jL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function ve(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ve=$L:ve=jL,ve.apply(null,arguments)}function nu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function ee(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,o,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[o].apply(i,a)}}function Ri(){this.s=this.s,this.o=this.o}var HL=0;Ri.prototype.s=!1;Ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),HL!=0)&&FL(this)};Ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function dp(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Ug(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Nl(i)){const o=e.length||0,s=i.length||0;e.length=o+s;for(let a=0;a<s;a++)e[o+a]=i[a]}else e.push(i)}}function ye(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var ZL=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};X.addEventListener("test",n,t),X.removeEventListener("test",n,t)}catch{}return e}();function Fs(e){return/^[\s\xa0]*$/.test(e)}function Vl(){var e=X.navigator;return e&&(e=e.userAgent)?e:""}function Tn(e){return Vl().indexOf(e)!=-1}function pp(e){return pp[" "](e),e}pp[" "]=function(){};function WL(e,t){var n=bA;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var GL=Tn("Opera"),oo=Tn("Trident")||Tn("MSIE"),Sw=Tn("Edge"),bf=Sw||oo,Cw=Tn("Gecko")&&!(Vl().toLowerCase().indexOf("webkit")!=-1&&!Tn("Edge"))&&!(Tn("Trident")||Tn("MSIE"))&&!Tn("Edge"),qL=Vl().toLowerCase().indexOf("webkit")!=-1&&!Tn("Edge");function Iw(){var e=X.document;return e?e.documentMode:void 0}var Bf;t:{var Sh="",Ch=function(){var e=Vl();if(Cw)return/rv:([^\);]+)(\)|;)/.exec(e);if(Sw)return/Edge\/([\d\.]+)/.exec(e);if(oo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(qL)return/WebKit\/(\S+)/.exec(e);if(GL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ch&&(Sh=Ch?Ch[1]:""),oo){var Ih=Iw();if(Ih!=null&&Ih>parseFloat(Sh)){Bf=String(Ih);break t}}Bf=Sh}var Ff;if(X.document&&oo){var $g=Iw();Ff=$g||parseInt(Bf,10)||void 0}else Ff=void 0;var KL=Ff;function Us(e,t){if(ye.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Cw){t:{try{pp(t.nodeName);var o=!0;break t}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:QL[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Us.$.h.call(this)}}ee(Us,ye);var QL={2:"touch",3:"pen",4:"mouse"};Us.prototype.h=function(){Us.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var aa="closure_listenable_"+(1e6*Math.random()|0),XL=0;function YL(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=o,this.key=++XL,this.fa=this.ia=!1}function zl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function mp(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function JL(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Lw(e){const t={};for(const n in e)t[n]=e[n];return t}const jg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aw(e,t){let n,i;for(let o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(let s=0;s<jg.length;s++)n=jg[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function bl(e){this.src=e,this.g={},this.h=0}bl.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=$f(e,t,i,o);return-1<a?(t=e[a],n||(t.ia=!1)):(t=new YL(t,this.src,s,!!i,o),t.ia=n,e.push(t)),t};function Uf(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=Pw(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(zl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function $f(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return o}return-1}var _p="closure_lm_"+(1e6*Math.random()|0),Lh={};function xw(e,t,n,i,o){if(i&&i.once)return Rw(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)xw(e,t[s],n,i,o);return null}return n=yp(n),e&&e[aa]?e.O(t,n,sa(i)?!!i.capture:!!i,o):kw(e,t,n,!1,i,o)}function kw(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var a=sa(o)?!!o.capture:!!o,c=vp(e);if(c||(e[_p]=c=new bl(e)),n=c.add(t,n,i,a,s),n.proxy)return n;if(i=tA(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)ZL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(Ow(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function tA(){function e(n){return t.call(e.src,e.listener,n)}const t=eA;return e}function Rw(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Rw(e,t[s],n,i,o);return null}return n=yp(n),e&&e[aa]?e.P(t,n,sa(i)?!!i.capture:!!i,o):kw(e,t,n,!0,i,o)}function Mw(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)Mw(e,t[s],n,i,o);else i=sa(i)?!!i.capture:!!i,n=yp(n),e&&e[aa]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=$f(s,n,i,o),-1<n&&(zl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=vp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$f(t,n,i,o)),(n=-1<e?t[e]:null)&&gp(n))}function gp(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[aa])Uf(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Ow(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=vp(t))?(Uf(n,e),n.h==0&&(n.src=null,t[_p]=null)):zl(e)}}}function Ow(e){return e in Lh?Lh[e]:Lh[e]="on"+e}function eA(e,t){if(e.fa)e=!0;else{t=new Us(t,this);var n=e.listener,i=e.la||e.src;e.ia&&gp(e),e=n.call(i,t)}return e}function vp(e){return e=e[_p],e instanceof bl?e:null}var Ah="__closure_events_fn_"+(1e9*Math.random()>>>0);function yp(e){return typeof e=="function"?e:(e[Ah]||(e[Ah]=function(t){return e.handleEvent(t)}),e[Ah])}function te(){Ri.call(this),this.i=new bl(this),this.S=this,this.J=null}ee(te,Ri);te.prototype[aa]=!0;te.prototype.removeEventListener=function(e,t,n,i){Mw(this,e,t,n,i)};function le(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new ye(t,e);else if(t instanceof ye)t.target=t.target||e;else{var o=t;t=new ye(i,e),Aw(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=iu(a,i,!0,t)&&o}if(a=t.g=e,o=iu(a,i,!0,t)&&o,o=iu(a,i,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=iu(a,i,!1,t)&&o}te.prototype.N=function(){if(te.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)zl(n[i]);delete e.g[t],e.h--}}this.J=null};te.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};te.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function iu(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,h=a.la||a.src;a.ia&&Uf(e.i,a),o=c.call(h,i)!==!1&&o}}return o&&!i.defaultPrevented}var wp=X.JSON.stringify;class nA{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function iA(){var e=Ep;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rA{constructor(){this.h=this.g=null}add(t,n){const i=Dw.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var Dw=new nA(()=>new oA,e=>e.reset());class oA{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sA(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function aA(e){X.setTimeout(()=>{throw e},0)}let $s,js=!1,Ep=new rA,Nw=()=>{const e=X.Promise.resolve(void 0);$s=()=>{e.then(uA)}};var uA=()=>{for(var e;e=iA();){try{e.h.call(e.g)}catch(n){aA(n)}var t=Dw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}js=!1};function Bl(e,t){te.call(this),this.h=e||1,this.g=t||X,this.j=ve(this.qb,this),this.l=Date.now()}ee(Bl,te);B=Bl.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),le(this,"tick"),this.ga&&(Tp(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Tp(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}B.N=function(){Bl.$.N.call(this),Tp(this),delete this.g};function Pp(e,t,n){if(typeof e=="function")n&&(e=ve(e,n));else if(e&&typeof e.handleEvent=="function")e=ve(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:X.setTimeout(e,t||0)}function Vw(e){e.g=Pp(()=>{e.g=null,e.i&&(e.i=!1,Vw(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class lA extends Ri{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Vw(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(e){Ri.call(this),this.h=e,this.g={}}ee(Hs,Ri);var Hg=[];function zw(e,t,n,i){Array.isArray(n)||(n&&(Hg[0]=n.toString()),n=Hg);for(var o=0;o<n.length;o++){var s=xw(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function bw(e){mp(e.g,function(t,n){this.g.hasOwnProperty(n)&&gp(t)},e),e.g={}}Hs.prototype.N=function(){Hs.$.N.call(this),bw(this)};Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fl(){this.g=!0}Fl.prototype.Ea=function(){this.g=!1};function cA(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var a="",c=s.split("&"),h=0;h<c.length;h++){var d=c[h].split("=");if(1<d.length){var m=d[0];d=d[1];var _=m.split("_");a=2<=_.length&&_[1]=="type"?a+(m+"="+d+"&"):a+(m+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function hA(e,t,n,i,o,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Ur(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+dA(e,n)+(i?" "+i:"")})}function fA(e,t){e.info(function(){return"TIMEOUT: "+t})}Fl.prototype.info=function(){};function dA(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return wp(n)}catch{return t}}var hr={},Zg=null;function Ul(){return Zg=Zg||new te}hr.Ta="serverreachability";function Bw(e){ye.call(this,hr.Ta,e)}ee(Bw,ye);function Zs(e){const t=Ul();le(t,new Bw(t))}hr.STAT_EVENT="statevent";function Fw(e,t){ye.call(this,hr.STAT_EVENT,e),this.stat=t}ee(Fw,ye);function Se(e){const t=Ul();le(t,new Fw(t,e))}hr.Ua="timingevent";function Uw(e,t){ye.call(this,hr.Ua,e),this.size=t}ee(Uw,ye);function ua(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){e()},t)}var $l={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$w={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sp(){}Sp.prototype.h=null;function Wg(e){return e.h||(e.h=e.i())}function jw(){}var la={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cp(){ye.call(this,"d")}ee(Cp,ye);function Ip(){ye.call(this,"c")}ee(Ip,ye);var jf;function jl(){}ee(jl,Sp);jl.prototype.g=function(){return new XMLHttpRequest};jl.prototype.i=function(){return{}};jf=new jl;function ca(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Hs(this),this.P=pA,e=bf?125:void 0,this.V=new Bl(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Hw}function Hw(){this.i=null,this.g="",this.h=!1}var pA=45e3,Zw={},Hf={};B=ca.prototype;B.setTimeout=function(e){this.P=e};function Zf(e,t,n){e.L=1,e.A=Zl(qn(t)),e.u=n,e.S=!0,Ww(e,null)}function Ww(e,t){e.G=Date.now(),ha(e),e.B=qn(e.A);var n=e.B,i=e.W;Array.isArray(i)||(i=[String(i)]),t1(n.i,"t",i),e.o=0,n=e.l.J,e.h=new Hw,e.g=E1(e.l,n?t:null,!e.u),0<e.O&&(e.M=new lA(ve(e.Pa,e,e.g),e.O)),zw(e.U,e.g,"readystatechange",e.nb),t=e.I?Lw(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Zs(),cA(e.j,e.v,e.B,e.m,e.W,e.u)}B.nb=function(e){e=e.target;const t=this.M;t&&Pn(e)==3?t.l():this.Pa(e)};B.Pa=function(e){try{if(e==this.g)t:{const m=Pn(this.g);var t=this.g.Ia();const _=this.g.da();if(!(3>m)&&(m!=3||bf||this.g&&(this.h.h||this.g.ja()||Qg(this.g)))){this.J||m!=4||t==7||(t==8||0>=_?Zs(3):Zs(2)),Hl(this);var n=this.g.da();this.ca=n;e:if(Gw(this)){var i=Qg(this.g);e="";var o=i.length,s=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),ms(this);var a="";break e}this.h.i=new X.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==o-1});i.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,hA(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fs(c)){var d=c;break e}}d=null}if(n=d)Ur(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wf(this,n);else{this.i=!1,this.s=3,Se(12),Gi(this),ms(this);break t}}this.S?(qw(this,m,a),bf&&this.i&&m==3&&(zw(this.U,this.V,"tick",this.mb),this.V.start())):(Ur(this.j,this.m,a,null),Wf(this,a)),m==4&&Gi(this),this.i&&!this.J&&(m==4?g1(this.l,this):(this.i=!1,ha(this)))}else NA(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Gi(this),ms(this)}}}catch{}finally{}};function Gw(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function qw(e,t,n){let i=!0,o;for(;!e.J&&e.o<n.length;)if(o=mA(e,n),o==Hf){t==4&&(e.s=4,Se(14),i=!1),Ur(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Zw){e.s=4,Se(15),Ur(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ur(e.j,e.m,o,null),Wf(e,o);Gw(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Se(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mp(t),t.M=!0,Se(11))):(Ur(e.j,e.m,n,"[Invalid Chunked Response]"),Gi(e),ms(e))}B.mb=function(){if(this.g){var e=Pn(this.g),t=this.g.ja();this.o<t.length&&(Hl(this),qw(this,e,t),this.i&&e!=4&&ha(this))}};function mA(e,t){var n=e.o,i=t.indexOf(`
`,n);return i==-1?Hf:(n=Number(t.substring(n,i)),isNaN(n)?Zw:(i+=1,i+n>t.length?Hf:(t=t.slice(i,i+n),e.o=i+n,t)))}B.cancel=function(){this.J=!0,Gi(this)};function ha(e){e.Y=Date.now()+e.P,Kw(e,e.P)}function Kw(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=ua(ve(e.lb,e),t)}function Hl(e){e.C&&(X.clearTimeout(e.C),e.C=null)}B.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(fA(this.j,this.B),this.L!=2&&(Zs(),Se(17)),Gi(this),this.s=2,ms(this)):Kw(this,this.Y-e)};function ms(e){e.l.H==0||e.J||g1(e.l,e)}function Gi(e){Hl(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Tp(e.V),bw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Wf(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Gf(n.i,e))){if(!e.K&&Gf(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)rl(n),Kl(n);else break t;Rp(n),Se(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=ua(ve(n.ib,n),6e3));if(1>=i1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qi(n,11)}else if((e.K||n.g==e)&&rl(n),!Fs(t))for(o=n.Ja.g.parse(t),t=0;t<o.length;t++){let d=o[t];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const m=d[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const _=d[4];_!=null&&(n.Ga=_,n.l.info("SVER="+n.Ga));const v=d[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const y=e.g;if(y){const C=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=i.i;s.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Lp(s,s.h),s.h=null))}if(i.F){const S=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,It(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=e;if(i.wa=w1(i,i.J?i.pa:null,i.Y),a.K){r1(i.i,a);var c=a,h=i.L;h&&c.setTimeout(h),c.C&&(Hl(c),ha(c)),i.g=a}else m1(i);0<n.j.length&&Ql(n)}else d[0]!="stop"&&d[0]!="close"||qi(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?qi(n,7):kp(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}Zs(4)}catch{}}function _A(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Nl(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function gA(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Nl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function Qw(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Nl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=gA(e),i=_A(e),o=i.length,s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vA(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Ji(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ji){this.h=e.h,nl(this,e.j),this.s=e.s,this.g=e.g,il(this,e.m),this.l=e.l;var t=e.i,n=new Ws;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Gg(this,n),this.o=e.o}else e&&(t=String(e).match(Xw))?(this.h=!1,nl(this,t[1]||"",!0),this.s=es(t[2]||""),this.g=es(t[3]||"",!0),il(this,t[4]),this.l=es(t[5]||"",!0),Gg(this,t[6]||"",!0),this.o=es(t[7]||"")):(this.h=!1,this.i=new Ws(null,this.h))}Ji.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ns(t,qg,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ns(t,qg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ns(n,n.charAt(0)=="/"?EA:wA,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ns(n,PA)),e.join("")};function qn(e){return new Ji(e)}function nl(e,t,n){e.j=n?es(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function il(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gg(e,t,n){t instanceof Ws?(e.i=t,SA(e.i,e.h)):(n||(t=ns(t,TA)),e.i=new Ws(t,e.h))}function It(e,t,n){e.i.set(t,n)}function Zl(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function es(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ns(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,yA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var qg=/[#\/\?@]/g,wA=/[#\?:]/g,EA=/[#\?]/g,TA=/[#\?@]/g,PA=/#/g;function Ws(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mi(e){e.g||(e.g=new Map,e.h=0,e.i&&vA(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}B=Ws.prototype;B.add=function(e,t){Mi(this),this.i=null,e=wo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Yw(e,t){Mi(e),t=wo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Jw(e,t){return Mi(e),t=wo(e,t),e.g.has(t)}B.forEach=function(e,t){Mi(this),this.g.forEach(function(n,i){n.forEach(function(o){e.call(t,o,i,this)},this)},this)};B.ta=function(){Mi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const o=e[i];for(let s=0;s<o.length;s++)n.push(t[i])}return n};B.Z=function(e){Mi(this);let t=[];if(typeof e=="string")Jw(this,e)&&(t=t.concat(this.g.get(wo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};B.set=function(e,t){return Mi(this),this.i=null,e=wo(this,e),Jw(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};B.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function t1(e,t,n){Yw(e,t),0<n.length&&(e.i=null,e.g.set(wo(e,t),dp(n)),e.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var o=s;a[i]!==""&&(o+="="+encodeURIComponent(String(a[i]))),e.push(o)}}return this.i=e.join("&")};function wo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function SA(e,t){t&&!e.j&&(Mi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(Yw(this,i),t1(this,o,n))},e)),e.j=t}var CA=class{constructor(e,t){this.g=e,this.map=t}};function e1(e){this.l=e||IA,X.PerformanceNavigationTiming?(e=X.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var IA=10;function n1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function i1(e){return e.h?1:e.g?e.g.size:0}function Gf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Lp(e,t){e.g?e.g.add(t):e.h=t}function r1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}e1.prototype.cancel=function(){if(this.i=o1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function o1(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return dp(e.i)}var LA=class{stringify(e){return X.JSON.stringify(e,void 0)}parse(e){return X.JSON.parse(e,void 0)}};function AA(){this.g=new LA}function xA(e,t,n){const i=n||"";try{Qw(e,function(o,s){let a=o;sa(o)&&(a=wp(o)),t.push(i+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function kA(e,t){const n=new Fl;if(X.Image){const i=new Image;i.onload=nu(ru,n,i,"TestLoadImage: loaded",!0,t),i.onerror=nu(ru,n,i,"TestLoadImage: error",!1,t),i.onabort=nu(ru,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=nu(ru,n,i,"TestLoadImage: timeout",!1,t),X.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function ru(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function Wl(e){this.l=e.ec||null,this.j=e.ob||!1}ee(Wl,Sp);Wl.prototype.g=function(){return new Gl(this.l,this.j)};Wl.prototype.i=function(e){return function(){return e}}({});function Gl(e,t){te.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ap,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ee(Gl,te);var Ap=0;B=Gl.prototype;B.open=function(e,t){if(this.readyState!=Ap)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gs(this)};B.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||X).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=Ap};B.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;s1(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function s1(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}B.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fa(this):Gs(this),this.readyState==3&&s1(this)}};B.Za=function(e){this.g&&(this.response=this.responseText=e,fa(this))};B.Ya=function(e){this.g&&(this.response=e,fa(this))};B.ka=function(){this.g&&fa(this)};function fa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gs(e)}B.setRequestHeader=function(e,t){this.v.append(e,t)};B.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Gs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var RA=X.JSON.parse;function Vt(e){te.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=a1,this.L=this.M=!1}ee(Vt,te);var a1="",MA=/^https?$/i,OA=["POST","PUT"];B=Vt.prototype;B.Oa=function(e){this.M=e};B.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jf.g(),this.C=this.u?Wg(this.u):Wg(jf),this.g.onreadystatechange=ve(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Kg(this,s);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)n.set(o,i[o]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),o=X.FormData&&e instanceof X.FormData,!(0<=Pw(OA,t))||i||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{c1(this),0<this.B&&((this.L=DA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ve(this.ua,this)):this.A=Pp(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kg(this,s)}};function DA(e){return oo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}B.ua=function(){typeof fp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,le(this,"timeout"),this.abort(8))};function Kg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,u1(e),ql(e)}function u1(e){e.F||(e.F=!0,le(e,"complete"),le(e,"error"))}B.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,le(this,"complete"),le(this,"abort"),ql(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ql(this,!0)),Vt.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?l1(this):this.kb())};B.kb=function(){l1(this)};function l1(e){if(e.h&&typeof fp<"u"&&(!e.C[1]||Pn(e)!=4||e.da()!=2)){if(e.v&&Pn(e)==4)Pp(e.La,0,e);else if(le(e,"readystatechange"),Pn(e)==4){e.h=!1;try{const a=e.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=a===0){var o=String(e.I).match(Xw)[1]||null;!o&&X.self&&X.self.location&&(o=X.self.location.protocol.slice(0,-1)),i=!MA.test(o?o.toLowerCase():"")}n=i}if(n)le(e,"complete"),le(e,"success");else{e.m=6;try{var s=2<Pn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",u1(e)}}finally{ql(e)}}}}function ql(e,t){if(e.g){c1(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||le(e,"ready");try{n.onreadystatechange=i}catch{}}}function c1(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(X.clearTimeout(e.A),e.A=null)}B.isActive=function(){return!!this.g};function Pn(e){return e.g?e.g.readyState:0}B.da=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),RA(t)}};function Qg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case a1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function NA(e){const t={};e=(e.g&&2<=Pn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(Fs(e[i]))continue;var n=sA(e[i]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[o]||[];t[o]=s,s.push(n)}JL(t,function(i){return i.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function h1(e){let t="";return mp(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function xp(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=h1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):It(e,t,n))}function qo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function f1(e){this.Ga=0,this.j=[],this.l=new Fl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qo("baseRetryDelayMs",5e3,e),this.hb=qo("retryDelaySeedMs",1e4,e),this.eb=qo("forwardChannelMaxRetries",2,e),this.xa=qo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new e1(e&&e.concurrentRequestLimit),this.Ja=new AA,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=f1.prototype;B.ra=8;B.H=1;function kp(e){if(d1(e),e.H==3){var t=e.W++,n=qn(e.I);if(It(n,"SID",e.K),It(n,"RID",t),It(n,"TYPE","terminate"),da(e,n),t=new ca(e,e.l,t),t.L=2,t.A=Zl(qn(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&X.Image&&(new Image().src=t.A,n=!0),n||(t.g=E1(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ha(t)}y1(e)}function Kl(e){e.g&&(Mp(e),e.g.cancel(),e.g=null)}function d1(e){Kl(e),e.u&&(X.clearTimeout(e.u),e.u=null),rl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&X.clearTimeout(e.m),e.m=null)}function Ql(e){if(!n1(e.i)&&!e.m){e.m=!0;var t=e.Na;$s||Nw(),js||($s(),js=!0),Ep.add(t,e),e.C=0}}function VA(e,t){return i1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ua(ve(e.Na,e,t),v1(e,e.C)),e.C++,!0)}B.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new ca(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Lw(s),Aw(s,this.U)):s=this.U),this.o!==null||this.O||(o.I=s,s=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=p1(this,o,t),n=qn(this.I),It(n,"RID",e),It(n,"CVER",22),this.F&&It(n,"X-HTTP-Session-Id",this.F),da(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(h1(s)))+"&"+t:this.o&&xp(n,this.o,s)),Lp(this.i,o),this.bb&&It(n,"TYPE","init"),this.P?(It(n,"$req",t),It(n,"SID","null"),o.aa=!0,Zf(o,n,null)):Zf(o,n,t),this.H=2}}else this.H==3&&(e?Xg(this,e):this.j.length==0||n1(this.i)||Xg(this))};function Xg(e,t){var n;t?n=t.m:n=e.W++;const i=qn(e.I);It(i,"SID",e.K),It(i,"RID",n),It(i,"AID",e.V),da(e,i),e.o&&e.s&&xp(i,e.o,e.s),n=new ca(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=p1(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Lp(e.i,n),Zf(n,i,t)}function da(e,t){e.na&&mp(e.na,function(n,i){It(t,i,n)}),e.h&&Qw({},function(n,i){It(t,i,n)})}function p1(e,t,n){n=Math.min(e.j.length,n);var i=e.h?ve(e.h.Va,e.h,e):null;t:{var o=e.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=o[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let h=0;h<n;h++){let d=o[h].g;const m=o[h].map;if(d-=s,0>d)s=Math.max(0,o[h].g-100),c=!1;else try{xA(m,a,"req"+d+"_")}catch{i&&i(m)}}if(c){i=a.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function m1(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;$s||Nw(),js||($s(),js=!0),Ep.add(t,e),e.A=0}}function Rp(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ua(ve(e.Ma,e),v1(e,e.A)),e.A++,!0)}B.Ma=function(){if(this.u=null,_1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ua(ve(this.jb,this),e)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Se(10),Kl(this),_1(this))};function Mp(e){e.B!=null&&(X.clearTimeout(e.B),e.B=null)}function _1(e){e.g=new ca(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=qn(e.wa);It(t,"RID","rpc"),It(t,"SID",e.K),It(t,"AID",e.V),It(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&It(t,"TO",e.qa),It(t,"TYPE","xmlhttp"),da(e,t),e.o&&e.s&&xp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Zl(qn(t)),n.u=null,n.S=!0,Ww(n,e)}B.ib=function(){this.v!=null&&(this.v=null,Kl(this),Rp(this),Se(19))};function rl(e){e.v!=null&&(X.clearTimeout(e.v),e.v=null)}function g1(e,t){var n=null;if(e.g==t){rl(e),Mp(e),e.g=null;var i=2}else if(Gf(e.i,t))n=t.F,r1(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var o=e.C;i=Ul(),le(i,new Uw(i,n)),Ql(e)}else m1(e);else if(o=t.s,o==3||o==0&&0<t.ca||!(i==1&&VA(e,t)||i==2&&Rp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:qi(e,5);break;case 4:qi(e,10);break;case 3:qi(e,6);break;default:qi(e,2)}}}function v1(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function qi(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=ve(e.pb,e);n||(n=new Ji("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||nl(n,"https"),Zl(n)),kA(n.toString(),i)}else Se(2);e.H=0,e.h&&e.h.za(t),y1(e),d1(e)}B.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Se(2)):(this.l.info("Failed to ping google.com"),Se(1))};function y1(e){if(e.H=0,e.ma=[],e.h){const t=o1(e.i);(t.length!=0||e.j.length!=0)&&(Ug(e.ma,t),Ug(e.ma,e.j),e.i.i.length=0,dp(e.j),e.j.length=0),e.h.ya()}}function w1(e,t,n){var i=n instanceof Ji?qn(n):new Ji(n);if(i.g!="")t&&(i.g=t+"."+i.g),il(i,i.m);else{var o=X.location;i=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new Ji(null);i&&nl(s,i),t&&(s.g=t),o&&il(s,o),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&It(i,n,t),It(i,"VER",e.ra),da(e,i),i}function E1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Vt(new Wl({ob:n})):new Vt(e.va),t.Oa(e.J),t}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function T1(){}B=T1.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function ol(){if(oo&&!(10<=Number(KL)))throw Error("Environmental error: no available transport.")}ol.prototype.g=function(e,t){return new $e(e,t)};function $e(e,t){te.call(this),this.g=new f1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Fs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fs(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Eo(this)}ee($e,te);$e.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Se(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=w1(e,null,e.Y),Ql(e)};$e.prototype.close=function(){kp(this.g)};$e.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=wp(e),e=n);t.j.push(new CA(t.fb++,e)),t.H==3&&Ql(t)};$e.prototype.N=function(){this.g.h=null,delete this.j,kp(this.g),delete this.g,$e.$.N.call(this)};function P1(e){Cp.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ee(P1,Cp);function S1(){Ip.call(this),this.status=1}ee(S1,Ip);function Eo(e){this.g=e}ee(Eo,T1);Eo.prototype.Ba=function(){le(this.g,"a")};Eo.prototype.Aa=function(e){le(this.g,new P1(e))};Eo.prototype.za=function(e){le(this.g,new S1)};Eo.prototype.ya=function(){le(this.g,"b")};function zA(){this.blockSize=-1}function dn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ee(dn,zA);dn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function xh(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var o=0;16>o;++o)i[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)i[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var s=e.g[3],a=t+(s^n&(o^s))+i[0]+3614090360&4294967295;t=n+(a<<7&4294967295|a>>>25),a=s+(o^t&(n^o))+i[1]+3905402710&4294967295,s=t+(a<<12&4294967295|a>>>20),a=o+(n^s&(t^n))+i[2]+606105819&4294967295,o=s+(a<<17&4294967295|a>>>15),a=n+(t^o&(s^t))+i[3]+3250441966&4294967295,n=o+(a<<22&4294967295|a>>>10),a=t+(s^n&(o^s))+i[4]+4118548399&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(o^t&(n^o))+i[5]+1200080426&4294967295,s=t+(a<<12&4294967295|a>>>20),a=o+(n^s&(t^n))+i[6]+2821735955&4294967295,o=s+(a<<17&4294967295|a>>>15),a=n+(t^o&(s^t))+i[7]+4249261313&4294967295,n=o+(a<<22&4294967295|a>>>10),a=t+(s^n&(o^s))+i[8]+1770035416&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(o^t&(n^o))+i[9]+2336552879&4294967295,s=t+(a<<12&4294967295|a>>>20),a=o+(n^s&(t^n))+i[10]+4294925233&4294967295,o=s+(a<<17&4294967295|a>>>15),a=n+(t^o&(s^t))+i[11]+2304563134&4294967295,n=o+(a<<22&4294967295|a>>>10),a=t+(s^n&(o^s))+i[12]+1804603682&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(o^t&(n^o))+i[13]+4254626195&4294967295,s=t+(a<<12&4294967295|a>>>20),a=o+(n^s&(t^n))+i[14]+2792965006&4294967295,o=s+(a<<17&4294967295|a>>>15),a=n+(t^o&(s^t))+i[15]+1236535329&4294967295,n=o+(a<<22&4294967295|a>>>10),a=t+(o^s&(n^o))+i[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^o&(t^n))+i[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=o+(t^n&(s^t))+i[11]+643717713&4294967295,o=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(o^s))+i[0]+3921069994&4294967295,n=o+(a<<20&4294967295|a>>>12),a=t+(o^s&(n^o))+i[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^o&(t^n))+i[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=o+(t^n&(s^t))+i[15]+3634488961&4294967295,o=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(o^s))+i[4]+3889429448&4294967295,n=o+(a<<20&4294967295|a>>>12),a=t+(o^s&(n^o))+i[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^o&(t^n))+i[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=o+(t^n&(s^t))+i[3]+4107603335&4294967295,o=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(o^s))+i[8]+1163531501&4294967295,n=o+(a<<20&4294967295|a>>>12),a=t+(o^s&(n^o))+i[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^o&(t^n))+i[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=o+(t^n&(s^t))+i[7]+1735328473&4294967295,o=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(o^s))+i[12]+2368359562&4294967295,n=o+(a<<20&4294967295|a>>>12),a=t+(n^o^s)+i[5]+4294588738&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^o)+i[8]+2272392833&4294967295,s=t+(a<<11&4294967295|a>>>21),a=o+(s^t^n)+i[11]+1839030562&4294967295,o=s+(a<<16&4294967295|a>>>16),a=n+(o^s^t)+i[14]+4259657740&4294967295,n=o+(a<<23&4294967295|a>>>9),a=t+(n^o^s)+i[1]+2763975236&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^o)+i[4]+1272893353&4294967295,s=t+(a<<11&4294967295|a>>>21),a=o+(s^t^n)+i[7]+4139469664&4294967295,o=s+(a<<16&4294967295|a>>>16),a=n+(o^s^t)+i[10]+3200236656&4294967295,n=o+(a<<23&4294967295|a>>>9),a=t+(n^o^s)+i[13]+681279174&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^o)+i[0]+3936430074&4294967295,s=t+(a<<11&4294967295|a>>>21),a=o+(s^t^n)+i[3]+3572445317&4294967295,o=s+(a<<16&4294967295|a>>>16),a=n+(o^s^t)+i[6]+76029189&4294967295,n=o+(a<<23&4294967295|a>>>9),a=t+(n^o^s)+i[9]+3654602809&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^o)+i[12]+3873151461&4294967295,s=t+(a<<11&4294967295|a>>>21),a=o+(s^t^n)+i[15]+530742520&4294967295,o=s+(a<<16&4294967295|a>>>16),a=n+(o^s^t)+i[2]+3299628645&4294967295,n=o+(a<<23&4294967295|a>>>9),a=t+(o^(n|~s))+i[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~o))+i[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=o+(t^(s|~n))+i[14]+2878612391&4294967295,o=s+(a<<15&4294967295|a>>>17),a=n+(s^(o|~t))+i[5]+4237533241&4294967295,n=o+(a<<21&4294967295|a>>>11),a=t+(o^(n|~s))+i[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~o))+i[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=o+(t^(s|~n))+i[10]+4293915773&4294967295,o=s+(a<<15&4294967295|a>>>17),a=n+(s^(o|~t))+i[1]+2240044497&4294967295,n=o+(a<<21&4294967295|a>>>11),a=t+(o^(n|~s))+i[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~o))+i[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=o+(t^(s|~n))+i[6]+2734768916&4294967295,o=s+(a<<15&4294967295|a>>>17),a=n+(s^(o|~t))+i[13]+1309151649&4294967295,n=o+(a<<21&4294967295|a>>>11),a=t+(o^(n|~s))+i[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~o))+i[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=o+(t^(s|~n))+i[2]+718787259&4294967295,o=s+(a<<15&4294967295|a>>>17),a=n+(s^(o|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+s&4294967295}dn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,o=this.h,s=0;s<t;){if(o==0)for(;s<=n;)xh(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){xh(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){xh(this,i),o=0;break}}this.h=o,this.i+=t};dn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function vt(e,t){this.h=t;for(var n=[],i=!0,o=e.length-1;0<=o;o--){var s=e[o]|0;i&&s==t||(n[o]=s,i=!1)}this.g=n}var bA={};function Op(e){return-128<=e&&128>e?WL(e,function(t){return new vt([t|0],0>t?-1:0)}):new vt([e|0],0>e?-1:0)}function Sn(e){if(isNaN(e)||!isFinite(e))return Kr;if(0>e)return se(Sn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=qf;return new vt(t,0)}function C1(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return se(C1(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sn(Math.pow(t,8)),i=Kr,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),a=parseInt(e.substring(o,o+s),t);8>s?(s=Sn(Math.pow(t,s)),i=i.R(s).add(Sn(a))):(i=i.R(n),i=i.add(Sn(a)))}return i}var qf=4294967296,Kr=Op(0),Kf=Op(1),Yg=Op(16777216);B=vt.prototype;B.ea=function(){if(Xe(this))return-se(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:qf+i)*t,t*=qf}return e};B.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if($n(this))return"0";if(Xe(this))return"-"+se(this).toString(e);for(var t=Sn(Math.pow(e,6)),n=this,i="";;){var o=al(n,t).g;n=sl(n,o.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=o,$n(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};B.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function $n(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Xe(e){return e.h==-1}B.X=function(e){return e=sl(this,e),Xe(e)?-1:$n(e)?0:1};function se(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new vt(n,~e.h).add(Kf)}B.abs=function(){return Xe(this)?se(this):this};B.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(this.D(o)&65535)+(e.D(o)&65535),a=(s>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function sl(e,t){return e.add(se(t))}B.R=function(e){if($n(this)||$n(e))return Kr;if(Xe(this))return Xe(e)?se(this).R(se(e)):se(se(this).R(e));if(Xe(e))return se(this.R(se(e)));if(0>this.X(Yg)&&0>e.X(Yg))return Sn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var s=this.D(i)>>>16,a=this.D(i)&65535,c=e.D(o)>>>16,h=e.D(o)&65535;n[2*i+2*o]+=a*h,ou(n,2*i+2*o),n[2*i+2*o+1]+=s*h,ou(n,2*i+2*o+1),n[2*i+2*o+1]+=a*c,ou(n,2*i+2*o+1),n[2*i+2*o+2]+=s*c,ou(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new vt(n,0)};function ou(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ko(e,t){this.g=e,this.h=t}function al(e,t){if($n(t))throw Error("division by zero");if($n(e))return new Ko(Kr,Kr);if(Xe(e))return t=al(se(e),t),new Ko(se(t.g),se(t.h));if(Xe(t))return t=al(e,se(t)),new Ko(se(t.g),t.h);if(30<e.g.length){if(Xe(e)||Xe(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Kf,i=t;0>=i.X(e);)n=Jg(n),i=Jg(i);var o=Sr(n,1),s=Sr(i,1);for(i=Sr(i,2),n=Sr(n,2);!$n(i);){var a=s.add(i);0>=a.X(e)&&(o=o.add(n),s=a),i=Sr(i,1),n=Sr(n,1)}return t=sl(e,o.R(t)),new Ko(o,t)}for(o=Kr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Sn(n),a=s.R(t);Xe(a)||0<a.X(e);)n-=i,s=Sn(n),a=s.R(t);$n(s)&&(s=Kf),o=o.add(s),e=sl(e,a)}return new Ko(o,e)}B.gb=function(e){return al(this,e).h};B.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new vt(n,this.h&e.h)};B.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new vt(n,this.h|e.h)};B.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new vt(n,this.h^e.h)};function Jg(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new vt(n,e.h)}function Sr(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new vt(o,e.h)}ol.prototype.createWebChannel=ol.prototype.g;$e.prototype.send=$e.prototype.u;$e.prototype.open=$e.prototype.m;$e.prototype.close=$e.prototype.close;$l.NO_ERROR=0;$l.TIMEOUT=8;$l.HTTP_ERROR=6;$w.COMPLETE="complete";jw.EventType=la;la.OPEN="a";la.CLOSE="b";la.ERROR="c";la.MESSAGE="d";te.prototype.listen=te.prototype.O;Vt.prototype.listenOnce=Vt.prototype.P;Vt.prototype.getLastError=Vt.prototype.Sa;Vt.prototype.getLastErrorCode=Vt.prototype.Ia;Vt.prototype.getStatus=Vt.prototype.da;Vt.prototype.getResponseJson=Vt.prototype.Wa;Vt.prototype.getResponseText=Vt.prototype.ja;Vt.prototype.send=Vt.prototype.ha;Vt.prototype.setWithCredentials=Vt.prototype.Oa;dn.prototype.digest=dn.prototype.l;dn.prototype.reset=dn.prototype.reset;dn.prototype.update=dn.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=Sn;vt.fromString=C1;var BA=function(){return new ol},FA=function(){return Ul()},kh=$l,UA=$w,$A=hr,tv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},su=jw,jA=Vt,HA=dn,Qr=vt;const ev="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}me.UNAUTHENTICATED=new me(null),me.GOOGLE_CREDENTIALS=new me("google-credentials-uid"),me.FIRST_PARTY=new me("first-party-uid"),me.MOCK_USER=new me("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="10.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new gw("@firebase/firestore");function Qo(){return sr.logLevel}function b(e,...t){if(sr.logLevel<=ft.DEBUG){const n=t.map(Dp);sr.debug(`Firestore (${To}): ${e}`,...n)}}function kn(e,...t){if(sr.logLevel<=ft.ERROR){const n=t.map(Dp);sr.error(`Firestore (${To}): ${e}`,...n)}}function so(e,...t){if(sr.logLevel<=ft.WARN){const n=t.map(Dp);sr.warn(`Firestore (${To}): ${e}`,...n)}}function Dp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e="Unexpected state"){const t=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+e;throw kn(t),new Error(t)}function St(e,t){e||K()}function nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends yo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(me.UNAUTHENTICATED))}shutdown(){}}class WA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GA{constructor(t){this.t=t,this.currentUser=me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const o=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let s=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ln,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const h=s;t.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},c=h=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ln)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St(typeof i.accessToken=="string"),new I1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(t===null||typeof t=="string"),new me(t)}}class qA{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KA{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new qA(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(me.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XA{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,b("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const o=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new QA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const o=YA(40);for(let s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length))}return i}}function _t(e,t){return e<t?-1:e>t?1:0}function ao(e,t,n){return e.length===t.length&&e.every((i,o)=>n(i,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qt.fromMillis(Date.now())}static fromDate(t){return qt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new qt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_t(this.nanoseconds,t.nanoseconds):_t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.timestamp=t}static fromTimestamp(t){return new J(t)}static min(){return new J(new qt(0,0))}static max(){return new J(new qt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n,i){n===void 0?n=0:n>t.length&&K(),i===void 0?i=t.length-n:i>t.length-n&&K(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return qs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qs?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let o=0;o<i;o++){const s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class xt extends qs{construct(t,n,i){return new xt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(D.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const JA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ae extends qs{construct(t,n,i){return new ae(t,n,i)}static isValidIdentifier(t){return JA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ae.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ae(["__name__"])}static fromServerFormat(t){const n=[];let i="",o=0;const s=()=>{if(i.length===0)throw new H(D.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;o<t.length;){const c=t[o];if(c==="\\"){if(o+1===t.length)throw new H(D.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new H(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,o+=2}else c==="`"?(a=!a,o++):c!=="."||a?(i+=c,o++):(s(),o++)}if(s(),a)throw new H(D.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ae(n)}static emptyPath(){return new ae([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(xt.fromString(t))}static fromName(t){return new G(xt.fromString(t).popFirst(5))}static empty(){return new G(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new xt(t.slice()))}}function tx(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,o=J.fromTimestamp(i===1e9?new qt(n+1,0):new qt(n,i));return new Si(o,G.empty(),t)}function ex(e){return new Si(e.readTime,e.key,-1)}class Si{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Si(J.min(),G.empty(),-1)}static max(){return new Si(J.max(),G.empty(),-1)}}function nx(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:_t(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==ix)throw e;b("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new M((i,o)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):M.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):M.reject(n)}static resolve(t){return new M((n,i)=>{n(t)})}static reject(t){return new M((n,i)=>{i(t)})}static waitFor(t){return new M((n,i)=>{let o=0,s=0,a=!1;t.forEach(c=>{++o,c.next(()=>{++s,a&&s===o&&n()},h=>i(h))}),a=!0,s===o&&n()})}static or(t){let n=M.resolve(!1);for(const i of t)n=n.next(o=>o?M.resolve(o):i());return n}static forEach(t,n){const i=[];return t.forEach((o,s)=>{i.push(n.call(this,o,s))}),this.waitFor(i)}static mapArray(t,n){return new M((i,o)=>{const s=t.length,a=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;n(t[d]).next(m=>{a[d]=m,++c,c===s&&i(a)},m=>o(m))}})}static doWhile(t,n){return new M((i,o)=>{const s=()=>{t()===!0?n().next(()=>{s()},o):i()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new Ln,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _s(t,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const o=Vp(i.target.error);this.V.reject(new _s(t,o))}}static open(t,n,i,o){try{return new Np(n,t.transaction(o,i))}catch(s){throw new _s(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(b("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new sx(n)}}class Ki{constructor(t,n,i){this.name=t,this.version=n,this.p=i,Ki.S(Ju())===12.2&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return b("SimpleDb","Removing database:",t),ji(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!mw())return!1;if(Ki.C())return!0;const t=Ju(),n=Ki.S(t),i=0<n&&n<10,o=Ki.v(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(t){return this.db||(b("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=s=>{const a=s.target.result;n(a)},o.onblocked=()=>{i(new _s(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;a.name==="VersionError"?i(new H(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new H(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new _s(t,a))},o.onupgradeneeded=s=>{b("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,o.transaction,s.oldVersion,this.version).next(()=>{b("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,i,o){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(t);const c=Np.open(this.db,t,s?"readonly":"readwrite",i),h=o(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),M.reject(d))).toPromise();return h.catch(()=>{}),await c.m,h}catch(c){const h=c,d=h.name!=="FirebaseError"&&a<3;if(b("SimpleDb","Transaction failed with error:",h.message,"Retrying:",d),this.close(),!d)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ox{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return ji(this.k.delete())}}class _s extends H{constructor(t,n){super(D.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ma(e){return e.name==="IndexedDbTransactionError"}class sx{constructor(t){this.store=t}put(t,n){let i;return n!==void 0?(b("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ji(i)}add(t){return b("SimpleDb","ADD",this.store.name,t,t),ji(this.store.add(t))}get(t){return ji(this.store.get(t)).next(n=>(n===void 0&&(n=null),b("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return b("SimpleDb","DELETE",this.store.name,t),ji(this.store.delete(t))}count(){return b("SimpleDb","COUNT",this.store.name),ji(this.store.count())}W(t,n){const i=this.options(t,n),o=i.index?this.store.index(i.index):this.store;if(typeof o.getAll=="function"){const s=o.getAll(i.range);return new M((a,c)=>{s.onerror=h=>{c(h.target.error)},s.onsuccess=h=>{a(h.target.result)}})}{const s=this.cursor(i),a=[];return this.G(s,(c,h)=>{a.push(h)}).next(()=>a)}}j(t,n){const i=this.store.getAll(t,n===null?void 0:n);return new M((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}H(t,n){b("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,n);i.J=!1;const o=this.cursor(i);return this.G(o,(s,a,c)=>c.delete())}Y(t,n){let i;n?i=t:(i={},n=t);const o=this.cursor(i);return this.G(o,n)}Z(t){const n=this.cursor({});return new M((i,o)=>{n.onerror=s=>{const a=Vp(s.target.error);o(a)},n.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(c=>{c?a.continue():i()}):i()}})}G(t,n){const i=[];return new M((o,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const c=a.target.result;if(!c)return void o();const h=new ox(c),d=n(c.primaryKey,c.value,h);if(d instanceof M){const m=d.catch(_=>(h.done(),M.reject(_)));i.push(m)}h.isDone?o():h.$===null?c.continue():c.continue(h.$)}}).next(()=>M.waitFor(i))}options(t,n){let i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function ji(e){return new M((t,n)=>{e.onsuccess=i=>{const o=i.target.result;t(o)},e.onerror=i=>{const o=Vp(i.target.error);n(o)}})}let nv=!1;function Vp(e){const t=Ki.S(Ju());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const i=new H("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nv||(nv=!0,setTimeout(()=>{throw i},0)),i}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}zp._e=-1;function Xl(e){return e==null}function ul(e){return e===0&&1/e==-1/0}function ax(e){return typeof e=="number"&&Number.isInteger(e)&&!ul(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function A1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,n){this.comparator=t,this.root=n||oe.EMPTY}insert(t,n){return new Dt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,oe.BLACK,null,null))}remove(t){return new Dt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,oe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new au(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new au(this.root,t,this.comparator,!1)}getReverseIterator(){return new au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new au(this.root,t,this.comparator,!0)}}class au{constructor(t,n,i,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class oe{constructor(t,n,i,o,s){this.key=t,this.value=n,this.color=i??oe.RED,this.left=o??oe.EMPTY,this.right=s??oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,o,s){return new oe(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let o=this;const s=i(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return oe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return oe.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const t=this.left.check();if(t!==this.right.check())throw K();return t+(this.isRed()?0:1)}}oe.EMPTY=null,oe.RED=!0,oe.BLACK=!1;oe.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,n,i,o,s){return this}insert(t,n,i){return new oe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.comparator=t,this.data=new Dt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(t){return new rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ce(this.comparator);return n.data=t,n}}class rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.fields=t,t.sort(ae.comparator)}static empty(){return new be([])}unionWith(t){let n=new ce(ae.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new be(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new x1("Invalid base64 string: "+s):s}}(t);return new Ee(n)}static fromUint8Array(t){const n=function(o){let s="";for(let a=0;a<o.length;++a)s+=String.fromCharCode(o[a]);return s}(t);return new Ee(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ee.EMPTY_BYTE_STRING=new Ee("");const ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(e){if(St(!!e),typeof e=="string"){let t=0;const n=ux.exec(e);if(St(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$t(e.seconds),nanos:$t(e.nanos)}}function $t(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ar(e){return typeof e=="string"?Ee.fromBase64String(e):Ee.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bp(e){const t=e.mapValue.fields.__previous_value__;return bp(t)?Bp(t):t}function Ks(e){const t=Ci(e.mapValue.fields.__local_write_time__.timestampValue);return new qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,n,i,o,s,a,c,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d}}class Qs{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Qs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ur(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bp(e)?4:cx(e)?9007199254740991:10:K()}function Rn(e,t){if(e===t)return!0;const n=ur(e);if(n!==ur(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ks(e).isEqual(Ks(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const a=Ci(o.timestampValue),c=Ci(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return ar(o.bytesValue).isEqual(ar(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return $t(o.geoPointValue.latitude)===$t(s.geoPointValue.latitude)&&$t(o.geoPointValue.longitude)===$t(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return $t(o.integerValue)===$t(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const a=$t(o.doubleValue),c=$t(s.doubleValue);return a===c?ul(a)===ul(c):isNaN(a)&&isNaN(c)}return!1}(e,t);case 9:return ao(e.arrayValue.values||[],t.arrayValue.values||[],Rn);case 10:return function(o,s){const a=o.mapValue.fields||{},c=s.mapValue.fields||{};if(iv(a)!==iv(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(c[h]===void 0||!Rn(a[h],c[h])))return!1;return!0}(e,t);default:return K()}}function Xs(e,t){return(e.values||[]).find(n=>Rn(n,t))!==void 0}function uo(e,t){if(e===t)return 0;const n=ur(e),i=ur(t);if(n!==i)return _t(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(e.booleanValue,t.booleanValue);case 2:return function(s,a){const c=$t(s.integerValue||s.doubleValue),h=$t(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return ov(e.timestampValue,t.timestampValue);case 4:return ov(Ks(e),Ks(t));case 5:return _t(e.stringValue,t.stringValue);case 6:return function(s,a){const c=ar(s),h=ar(a);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const c=s.split("/"),h=a.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=_t(c[d],h[d]);if(m!==0)return m}return _t(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const c=_t($t(s.latitude),$t(a.latitude));return c!==0?c:_t($t(s.longitude),$t(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,a){const c=s.values||[],h=a.values||[];for(let d=0;d<c.length&&d<h.length;++d){const m=uo(c[d],h[d]);if(m)return m}return _t(c.length,h.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,a){if(s===uu.mapValue&&a===uu.mapValue)return 0;if(s===uu.mapValue)return 1;if(a===uu.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=a.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const v=_t(h[_],m[_]);if(v!==0)return v;const y=uo(c[h[_]],d[m[_]]);if(y!==0)return y}return _t(h.length,m.length)}(e.mapValue,t.mapValue);default:throw K()}}function ov(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _t(e,t);const n=Ci(e),i=Ci(t),o=_t(n.seconds,i.seconds);return o!==0?o:_t(n.nanos,i.nanos)}function lo(e){return Qf(e)}function Qf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ci(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ar(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",o=!0;for(const s of n.values||[])o?o=!1:i+=",",i+=Qf(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${Qf(n.fields[a])}`;return o+"}"}(e.mapValue):K()}function Xf(e){return!!e&&"integerValue"in e}function Fp(e){return!!e&&"arrayValue"in e}function sv(e){return!!e&&"nullValue"in e}function av(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Tu(e){return!!e&&"mapValue"in e}function gs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=gs(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function cx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.value=t}static empty(){return new Re({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Tu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gs(n)}setAll(t){let n=ae.emptyPath(),i={},o=[];t.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,o),i={},o=[],n=c.popLast()}a?i[c.lastSegment()]=gs(a):o.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,o)}delete(t){const n=this.field(t.popLast());Tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Rn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=n.mapValue.fields[t.get(i)];Tu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,i){fr(n,(o,s)=>t[o]=s);for(const o of i)delete t[o]}clone(){return new Re(gs(this.value))}}function k1(e){const t=[];return fr(e.fields,(n,i)=>{const o=new ae([n]);if(Tu(i)){const s=k1(i.mapValue).fields;if(s.length===0)t.push(o);else for(const a of s)t.push(o.child(a))}else t.push(o)}),new be(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,n,i,o,s,a,c){this.key=t,this.documentType=n,this.version=i,this.readTime=o,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(t){return new ge(t,0,J.min(),J.min(),J.min(),Re.empty(),0)}static newFoundDocument(t,n,i,o){return new ge(t,1,n,J.min(),i,o,0)}static newNoDocument(t,n){return new ge(t,2,n,J.min(),J.min(),Re.empty(),0)}static newUnknownDocument(t,n){return new ge(t,3,n,J.min(),J.min(),Re.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Re.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Re.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,n){this.position=t,this.inclusive=n}}function uv(e,t,n){let i=0;for(let o=0;o<e.position.length;o++){const s=t[o],a=e.position[o];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=uo(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function lv(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Rn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,n="asc"){this.field=t,this.dir=n}}function hx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class Wt extends R1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new dx(t,n,i):n==="array-contains"?new _x(t,i):n==="in"?new gx(t,i):n==="not-in"?new vx(t,i):n==="array-contains-any"?new yx(t,i):new Wt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new px(t,i):new mx(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&ur(this.value)===ur(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends R1{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Mn(t,n)}matches(t){return M1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function M1(e){return e.op==="and"}function O1(e){return fx(e)&&M1(e)}function fx(e){for(const t of e.filters)if(t instanceof Mn)return!1;return!0}function Yf(e){if(e instanceof Wt)return e.field.canonicalString()+e.op.toString()+lo(e.value);if(O1(e))return e.filters.map(t=>Yf(t)).join(",");{const t=e.filters.map(n=>Yf(n)).join(",");return`${e.op}(${t})`}}function D1(e,t){return e instanceof Wt?function(i,o){return o instanceof Wt&&i.op===o.op&&i.field.isEqual(o.field)&&Rn(i.value,o.value)}(e,t):e instanceof Mn?function(i,o){return o instanceof Mn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((s,a,c)=>s&&D1(a,o.filters[c]),!0):!1}(e,t):void K()}function N1(e){return e instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(e):e instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(N1).join(" ,")+"}"}(e):"Filter"}class dx extends Wt{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class px extends Wt{constructor(t,n){super(t,"in",n),this.keys=V1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class mx extends Wt{constructor(t,n){super(t,"not-in",n),this.keys=V1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function V1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class _x extends Wt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fp(n)&&Xs(n.arrayValue,this.value)}}class gx extends Wt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xs(this.value.arrayValue,n)}}class vx extends Wt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Xs(this.value.arrayValue,n)}}class yx extends Wt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xs(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,n=null,i=[],o=[],s=null,a=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=s,this.startAt=a,this.endAt=c,this.ce=null}}function cv(e,t=null,n=[],i=[],o=null,s=null,a=null){return new wx(e,t,n,i,o,s,a)}function Up(e){const t=nt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Yf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Xl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>lo(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>lo(i)).join(",")),t.ce=n}return t.ce}function $p(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!D1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lv(e.startAt,t.startAt)&&lv(e.endAt,t.endAt)}function Jf(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n=null,i=[],o=[],s=null,a="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Ex(e,t,n,i,o,s,a,c){return new Yl(e,t,n,i,o,s,a,c)}function jp(e){return new Yl(e)}function hv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Tx(e){return e.collectionGroup!==null}function vs(e){const t=nt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new ce(ae.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new cl(s,i))}),n.has(ae.keyField().canonicalString())||t.le.push(new cl(ae.keyField(),i))}return t.le}function An(e){const t=nt(e);return t.he||(t.he=Px(t,vs(e))),t.he}function Px(e,t){if(e.limitType==="F")return cv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new cl(o.field,s)});const n=e.endAt?new ll(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ll(e.startAt.position,e.startAt.inclusive):null;return cv(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function td(e,t,n){return new Yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jl(e,t){return $p(An(e),An(t))&&e.limitType===t.limitType}function z1(e){return`${Up(An(e))}|lt:${e.limitType}`}function Cr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>N1(o)).join(", ")}]`),Xl(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${i})`}(An(e))}; limitType=${e.limitType})`}function tc(e,t){return t.isFoundDocument()&&function(i,o){const s=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,o){for(const s of vs(i))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,o){for(const s of i.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(i,o){return!(i.startAt&&!function(a,c,h){const d=uv(a,c,h);return a.inclusive?d<=0:d<0}(i.startAt,vs(i),o)||i.endAt&&!function(a,c,h){const d=uv(a,c,h);return a.inclusive?d>=0:d>0}(i.endAt,vs(i),o))}(e,t)}function Sx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function b1(e){return(t,n)=>{let i=!1;for(const o of vs(e)){const s=Cx(o,t,n);if(s!==0)return s;i=i||o.field.isKeyField()}return 0}}function Cx(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(s,a,c){const h=a.data.field(s),d=c.data.field(s);return h!==null&&d!==null?uo(h,d):K()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[o,s]of i)if(this.equalsFn(o,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,(n,i)=>{for(const[o,s]of i)t(o,s)})}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Dt(G.comparator);function Kn(){return Ix}const B1=new Dt(G.comparator);function is(...e){let t=B1;for(const n of e)t=t.insert(n.key,n);return t}function F1(e){let t=B1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Qi(){return ys()}function U1(){return ys()}function ys(){return new Po(e=>e.toString(),(e,t)=>e.isEqual(t))}const Lx=new Dt(G.comparator),Ax=new ce(G.comparator);function st(...e){let t=Ax;for(const n of e)t=t.add(n);return t}const xx=new ce(_t);function kx(){return xx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ul(t)?"-0":t}}function j1(e){return{integerValue:""+e}}function Rx(e,t){return ax(t)?j1(t):$1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function Mx(e,t,n){return e instanceof hl?function(o,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&bp(s)&&(s=Bp(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,t):e instanceof Ys?Z1(e,t):e instanceof Js?W1(e,t):function(o,s){const a=H1(o,s),c=fv(a)+fv(o.Ie);return Xf(a)&&Xf(o.Ie)?j1(c):$1(o.serializer,c)}(e,t)}function Ox(e,t,n){return e instanceof Ys?Z1(e,t):e instanceof Js?W1(e,t):n}function H1(e,t){return e instanceof fl?function(i){return Xf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class hl extends ec{}class Ys extends ec{constructor(t){super(),this.elements=t}}function Z1(e,t){const n=G1(t);for(const i of e.elements)n.some(o=>Rn(o,i))||n.push(i);return{arrayValue:{values:n}}}class Js extends ec{constructor(t){super(),this.elements=t}}function W1(e,t){let n=G1(t);for(const i of e.elements)n=n.filter(o=>!Rn(o,i));return{arrayValue:{values:n}}}class fl extends ec{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function fv(e){return $t(e.integerValue||e.doubleValue)}function G1(e){return Fp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Dx(e,t){return e.field.isEqual(t.field)&&function(i,o){return i instanceof Ys&&o instanceof Ys||i instanceof Js&&o instanceof Js?ao(i.elements,o.elements,Rn):i instanceof fl&&o instanceof fl?Rn(i.Ie,o.Ie):i instanceof hl&&o instanceof hl}(e.transform,t.transform)}class Nx{constructor(t,n){this.version=t,this.transformResults=n}}class hn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new hn}static exists(t){return new hn(void 0,t)}static updateTime(t){return new hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class nc{}function q1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Hp(e.key,hn.none()):new _a(e.key,e.data,hn.none());{const n=e.data,i=Re.empty();let o=new ce(ae.comparator);for(let s of t.fields)if(!o.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),o=o.add(s)}return new Oi(e.key,i,new be(o.toArray()),hn.none())}}function Vx(e,t,n){e instanceof _a?function(o,s,a){const c=o.value.clone(),h=pv(o.fieldTransforms,s,a.transformResults);c.setAll(h),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Oi?function(o,s,a){if(!Pu(o.precondition,s))return void s.convertToUnknownDocument(a.version);const c=pv(o.fieldTransforms,s,a.transformResults),h=s.data;h.setAll(K1(o)),h.setAll(c),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(e,t,n):function(o,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ws(e,t,n,i){return e instanceof _a?function(s,a,c,h){if(!Pu(s.precondition,a))return c;const d=s.value.clone(),m=mv(s.fieldTransforms,h,a);return d.setAll(m),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof Oi?function(s,a,c,h){if(!Pu(s.precondition,a))return c;const d=mv(s.fieldTransforms,h,a),m=a.data;return m.setAll(K1(s)),m.setAll(d),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(e,t,n,i):function(s,a,c){return Pu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(e,t,n)}function zx(e,t){let n=null;for(const i of e.fieldTransforms){const o=t.data.field(i.field),s=H1(i.transform,o||null);s!=null&&(n===null&&(n=Re.empty()),n.set(i.field,s))}return n||null}function dv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ao(i,o,(s,a)=>Dx(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _a extends nc{constructor(t,n,i,o=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oi extends nc{constructor(t,n,i,o,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function pv(e,t,n){const i=new Map;St(e.length===n.length);for(let o=0;o<n.length;o++){const s=e[o],a=s.transform,c=t.data.field(s.field);i.set(s.field,Ox(a,c,n[o]))}return i}function mv(e,t,n){const i=new Map;for(const o of e){const s=o.transform,a=n.data.field(o.field);i.set(o.field,Mx(s,a,t))}return i}class Hp extends nc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bx extends nc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(t.key)&&Vx(s,t,i[o])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ws(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ws(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=U1();return this.mutations.forEach(o=>{const s=t.get(o.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(o.key)?null:c;const h=q1(a,c);h!==null&&i.set(o.key,h),a.isValidDocument()||a.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,(n,i)=>dv(n,i))&&ao(this.baseMutations,t.baseMutations,(n,i)=>dv(n,i))}}class Zp{constructor(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(t,n,i){St(t.mutations.length===i.length);let o=function(){return Lx}();const s=t.mutations;for(let a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new Zp(t,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,ct;function $x(e){switch(e){default:return K();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Q1(e){if(e===void 0)return kn("GRPC error has no .code"),D.UNKNOWN;switch(e){case Ut.OK:return D.OK;case Ut.CANCELLED:return D.CANCELLED;case Ut.UNKNOWN:return D.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return D.INTERNAL;case Ut.UNAVAILABLE:return D.UNAVAILABLE;case Ut.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ut.NOT_FOUND:return D.NOT_FOUND;case Ut.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ut.ABORTED:return D.ABORTED;case Ut.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ut.DATA_LOSS:return D.DATA_LOSS;default:return K()}}(ct=Ut||(Ut={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Qr([4294967295,4294967295],0);function _v(e){const t=jx().encode(e),n=new HA;return n.update(t),new Uint8Array(n.digest())}function gv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Qr([n,i],0),new Qr([o,s],0)]}class Wp{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new rs(`Invalid padding: ${n}`);if(i<0)throw new rs(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new rs(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new rs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Qr.fromNumber(this.Te)}de(t,n,i){let o=t.add(n.multiply(Qr.fromNumber(i)));return o.compare(Hx)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=_v(t),[i,o]=gv(n);for(let s=0;s<this.hashCount;s++){const a=this.de(i,o,s);if(!this.Ae(a))return!1}return!0}static create(t,n,i){const o=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Wp(s,o,n);return i.forEach(c=>a.insert(c)),a}insert(t){if(this.Te===0)return;const n=_v(t),[i,o]=gv(n);for(let s=0;s<this.hashCount;s++){const a=this.de(i,o,s);this.Re(a)}}Re(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class rs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const o=new Map;return o.set(t,ga.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new ic(J.min(),o,new Dt(_t),Kn(),st())}}class ga{constructor(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new ga(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n,i,o){this.Ve=t,this.removedTargetIds=n,this.key=i,this.me=o}}class X1{constructor(t,n){this.targetId=t,this.fe=n}}class Y1{constructor(t,n,i=Ee.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=o}}class vv{constructor(){this.ge=0,this.pe=wv(),this.ye=Ee.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=st(),n=st(),i=st();return this.pe.forEach((o,s)=>{switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:K()}}),new ga(this.ye,this.we,t,n,i)}Fe(){this.Se=!1,this.pe=wv()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,St(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Zx{constructor(t){this.Le=t,this.ke=new Map,this.qe=Kn(),this.Qe=yv(),this.Ke=new Dt(_t)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const i=this.ze(n);switch(t.state){case 0:this.je(n)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(t.resumeToken));break;default:K()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((i,o)=>{this.je(o)&&n(o)})}Je(t){const n=t.targetId,i=t.fe.count,o=this.Ye(n);if(o){const s=o.target;if(Jf(s))if(i===0){const a=new G(s.path);this.We(n,a,ge.newNoDocument(a,J.min()))}else St(i===1);else{const a=this.Ze(n);if(a!==i){const c=this.Xe(t),h=c?this.et(c,t,a):1;if(h!==0){this.He(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,c;try{a=ar(i).toUint8Array()}catch(h){if(h instanceof x1)return so("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Wp(a,o,s)}catch(h){return so(h instanceof rs?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(t,n,i){return n.fe.count===i-this.rt(t,n.targetId)?0:2}rt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(s=>{const a=this.Le.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.We(n,s,null),o++)}),o}it(t){const n=new Map;this.ke.forEach((s,a)=>{const c=this.Ye(a);if(c){if(s.current&&Jf(c.target)){const h=new G(c.target.path);this.qe.get(h)!==null||this.st(a,h)||this.We(a,h,ge.newNoDocument(h,t))}s.De&&(n.set(a,s.ve()),s.Fe())}});let i=st();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(h=>{const d=this.Ye(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(t));const o=new ic(t,n,this.Ke,this.qe,i);return this.qe=Kn(),this.Qe=yv(),this.Ke=new Dt(_t),o}Ue(t,n){if(!this.je(t))return;const i=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,i){if(!this.je(t))return;const o=this.ze(t);this.st(t,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new vv,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new ce(_t),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||b("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new vv),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function yv(){return new Dt(G.comparator)}function wv(){return new Dt(G.comparator)}const Wx={asc:"ASCENDING",desc:"DESCENDING"},Gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qx={and:"AND",or:"OR"};class Kx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ed(e,t){return e.useProto3Json||Xl(t)?t:{value:t}}function dl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function J1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qx(e,t){return dl(e,t.toTimestamp())}function xn(e){return St(!!e),J.fromTimestamp(function(n){const i=Ci(n);return new qt(i.seconds,i.nanos)}(e))}function Gp(e,t){return nd(e,t).canonicalString()}function nd(e,t){const n=function(o){return new xt(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function tE(e){const t=xt.fromString(e);return St(oE(t)),t}function id(e,t){return Gp(e.databaseId,t.path)}function Rh(e,t){const n=tE(t);if(n.get(1)!==e.databaseId.projectId)throw new H(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(nE(n))}function eE(e,t){return Gp(e.databaseId,t)}function Xx(e){const t=tE(e);return t.length===4?xt.emptyPath():nE(t)}function rd(e){return new xt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nE(e){return St(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Ev(e,t,n){return{name:id(e,t),fields:n.value.mapValue.fields}}function Yx(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:K()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],s=function(d,m){return d.useProto3Json?(St(m===void 0||typeof m=="string"),Ee.fromBase64String(m||"")):(St(m===void 0||m instanceof Uint8Array),Ee.fromUint8Array(m||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(d){const m=d.code===void 0?D.UNKNOWN:Q1(d.code);return new H(m,d.message||"")}(a);n=new Y1(i,o,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=Rh(e,i.document.name),s=xn(i.document.updateTime),a=i.document.createTime?xn(i.document.createTime):J.min(),c=new Re({mapValue:{fields:i.document.fields}}),h=ge.newFoundDocument(o,s,a,c),d=i.targetIds||[],m=i.removedTargetIds||[];n=new Su(d,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=Rh(e,i.document),s=i.readTime?xn(i.readTime):J.min(),a=ge.newNoDocument(o,s),c=i.removedTargetIds||[];n=new Su([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=Rh(e,i.document),s=i.removedTargetIds||[];n=new Su([],s,o,null)}else{if(!("filter"in t))return K();{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:s}=i,a=new Ux(o,s),c=i.targetId;n=new X1(c,a)}}return n}function Jx(e,t){let n;if(t instanceof _a)n={update:Ev(e,t.key,t.value)};else if(t instanceof Hp)n={delete:id(e,t.key)};else if(t instanceof Oi)n={update:Ev(e,t.key,t.data),updateMask:uk(t.fieldMask)};else{if(!(t instanceof bx))return K();n={verify:id(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const c=a.transform;if(c instanceof hl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ys)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Js)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fl)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw K()}(0,i))),t.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:Qx(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(e,t.precondition)),n}function tk(e,t){return e&&e.length>0?(St(t!==void 0),e.map(n=>function(o,s){let a=o.updateTime?xn(o.updateTime):xn(s);return a.isEqual(J.min())&&(a=xn(s)),new Nx(a,o.transformResults||[])}(n,t))):[]}function ek(e,t){return{documents:[eE(e,t.path)]}}function nk(e,t){const n={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=eE(e,o);const s=function(d){if(d.length!==0)return rE(Mn.create(d,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:Ir(v.field),direction:ok(v.dir)}}(m))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const c=ed(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ut:n,parent:o}}function ik(e){let t=Xx(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){St(i===1);const m=n.from[0];m.allDescendants?o=m.collectionId:t=t.child(m.collectionId)}let s=[];n.where&&(s=function(_){const v=iE(_);return v instanceof Mn&&O1(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(_){return _.map(v=>function(C){return new cl(Lr(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(_){let v;return v=typeof _=="object"?_.value:_,Xl(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(_){const v=!!_.before,y=_.values||[];return new ll(y,v)}(n.startAt));let d=null;return n.endAt&&(d=function(_){const v=!_.before,y=_.values||[];return new ll(y,v)}(n.endAt)),Ex(t,o,a,s,c,"F",h,d)}function rk(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function iE(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Lr(n.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Lr(n.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lr(n.unaryFilter.field);return Wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Lr(n.unaryFilter.field);return Wt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(e):e.fieldFilter!==void 0?function(n){return Wt.create(Lr(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(i=>iE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(e):K()}function ok(e){return Wx[e]}function sk(e){return Gx[e]}function ak(e){return qx[e]}function Ir(e){return{fieldPath:e.canonicalString()}}function Lr(e){return ae.fromServerFormat(e.fieldPath)}function rE(e){return e instanceof Wt?function(n){if(n.op==="=="){if(av(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NAN"}};if(sv(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(av(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NOT_NAN"}};if(sv(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ir(n.field),op:sk(n.op),value:n.value}}}(e):e instanceof Mn?function(n){const i=n.getFilters().map(o=>rE(o));return i.length===1?i[0]:{compositeFilter:{op:ak(n.op),filters:i}}}(e):K()}function uk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function oE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n,i,o,s=J.min(),a=J.min(),c=Ee.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new ui(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t){this.ct=t}}function ck(e){const t=ik({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?td(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this._n=new fk}addToCollectionParentIndex(t,n){return this._n.add(n),M.resolve()}getCollectionParents(t,n){return M.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return M.resolve()}deleteFieldIndex(t,n){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,n){return M.resolve()}getDocumentsMatchingTarget(t,n){return M.resolve(null)}getIndexType(t,n){return M.resolve(0)}getFieldIndexes(t,n){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,n){return M.resolve(Si.min())}getMinOffsetFromCollectionGroup(t,n){return M.resolve(Si.min())}updateCollectionGroup(t,n,i){return M.resolve()}updateIndexEntries(t,n){return M.resolve()}}class fk{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new ce(xt.comparator),s=!o.has(i);return this.index[n]=o.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(t){return(this.index[t]||new ce(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new co(0)}static Bn(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.changes=new Po(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?M.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t,n,i,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(i!==null&&ws(i.mutation,o,be.empty(),qt.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const o=Qi();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,i).next(s=>{let a=is();return s.forEach((c,h)=>{a=a.insert(c,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Qi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const o=[];return i.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(t,o).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(t,n,i,o){let s=Kn();const a=ys(),c=function(){return ys()}();return n.forEach((h,d)=>{const m=i.get(d.key);o.has(d.key)&&(m===void 0||m.mutation instanceof Oi)?s=s.insert(d.key,d):m!==void 0?(a.set(d.key,m.mutation.getFieldMask()),ws(m.mutation,d,m.mutation.getFieldMask(),qt.now())):a.set(d.key,be.empty())}),this.recalculateAndSaveOverlays(t,s).next(h=>(h.forEach((d,m)=>a.set(d,m)),n.forEach((d,m)=>{var _;return c.set(d,new pk(m,(_=a.get(d))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(t,n){const i=ys();let o=new Dt((a,c)=>a-c),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const c of a)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let m=i.get(h)||be.empty();m=c.applyToLocalView(d,m),i.set(h,m);const _=(o.get(c.batchId)||st()).add(h);o=o.insert(c.batchId,_)})}).next(()=>{const a=[],c=o.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,_=U1();m.forEach(v=>{if(!s.has(v)){const y=q1(n.get(v),i.get(v));y!==null&&_.set(v,y),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(t,d,_))}return M.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,o){return function(a){return G.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Tx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,o):this.getDocumentsMatchingCollectionQuery(t,n,i,o)}getNextDocuments(t,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,o).next(s=>{const a=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,o-s.size):M.resolve(Qi());let c=-1,h=s;return a.next(d=>M.forEach(d,(m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),s.get(m)?M.resolve():this.remoteDocumentCache.getEntry(t,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(t,d,s)).next(()=>this.computeViews(t,h,d,st())).next(m=>({batchId:c,changes:F1(m)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let o=is();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,i,o){const s=n.collectionGroup;let a=is();return this.indexManager.getCollectionParents(t,s).next(c=>M.forEach(c,h=>{const d=function(_,v){return new Yl(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(t,d,i,o).next(m=>{m.forEach((_,v)=>{a=a.insert(_,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,o))).next(a=>{s.forEach((h,d)=>{const m=d.getKey();a.get(m)===null&&(a=a.insert(m,ge.newInvalidDocument(m)))});let c=is();return a.forEach((h,d)=>{const m=s.get(h);m!==void 0&&ws(m.mutation,d,be.empty(),qt.now()),tc(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return M.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xn(o.createTime)}}(n)),M.resolve()}getNamedQuery(t,n){return M.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(o){return{name:o.name,query:ck(o.bundledQuery),readTime:xn(o.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.overlays=new Dt(G.comparator),this.hr=new Map}getOverlay(t,n){return M.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Qi();return M.forEach(n,o=>this.getOverlay(t,o).next(s=>{s!==null&&i.set(o,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((o,s)=>{this.ht(t,n,s)}),M.resolve()}removeOverlaysForBatchId(t,n,i){const o=this.hr.get(i);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),M.resolve()}getOverlaysForCollection(t,n,i){const o=Qi(),s=n.length+1,a=new G(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>i&&o.set(h.getKey(),h)}return M.resolve(o)}getOverlaysForCollectionGroup(t,n,i,o){let s=new Dt((d,m)=>d-m);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let m=s.get(d.largestBatchId);m===null&&(m=Qi(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Qi(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=o)););return M.resolve(c)}ht(t,n,i){const o=this.overlays.get(i.key);if(o!==null){const a=this.hr.get(o.largestBatchId).delete(i.key);this.hr.set(o.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Fx(n,i));let s=this.hr.get(n);s===void 0&&(s=st(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.Pr=new ce(Xt.Ir),this.Tr=new ce(Xt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const i=new Xt(t,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Ar(new Xt(t,n))}Rr(t,n){t.forEach(i=>this.removeReference(i,n))}Vr(t){const n=new G(new xt([])),i=new Xt(n,t),o=new Xt(n,t+1),s=[];return this.Tr.forEachInRange([i,o],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new G(new xt([])),i=new Xt(n,t),o=new Xt(n,t+1);let s=st();return this.Tr.forEachInRange([i,o],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Xt(t,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Xt{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return G.comparator(t.key,n.key)||_t(t.pr,n.pr)}static Er(t,n){return _t(t.pr,n.pr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ce(Xt.Ir)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,o){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Bx(s,n,i,o);this.mutationQueue.push(a);for(const c of o)this.wr=this.wr.add(new Xt(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return M.resolve(a)}lookupMutationBatch(t,n){return M.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,o=this.br(i),s=o<0?0:o;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,o],a=>{const c=this.Sr(a.pr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ce(_t);return n.forEach(o=>{const s=new Xt(o,0),a=new Xt(o,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],c=>{i=i.add(c.pr)})}),M.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,o=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new Xt(new G(s),0);let c=new ce(_t);return this.wr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(c=c.add(h.pr)),!0)},a),M.resolve(this.Dr(c))}Dr(t){const n=[];return t.forEach(i=>{const o=this.Sr(i);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){St(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return M.forEach(n.mutations,o=>{const s=new Xt(o.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,n){const i=new Xt(n,0),o=this.wr.firstAfterOrEqual(i);return M.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t){this.vr=t,this.docs=function(){return new Dt(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return M.resolve(i?i.document.mutableCopy():ge.newInvalidDocument(n))}getEntries(t,n){let i=Kn();return n.forEach(o=>{const s=this.docs.get(o);i=i.insert(o,s?s.document.mutableCopy():ge.newInvalidDocument(o))}),M.resolve(i)}getDocumentsMatchingQuery(t,n,i,o){let s=Kn();const a=n.path,c=new G(a.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||nx(ex(m),i)<=0||(o.has(m.key)||tc(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(t,n,i,o){K()}Fr(t,n){return M.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new wk(this)}getSize(t){return M.resolve(this.size)}}class wk extends dk{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.ar.addEntry(t,o)):this.ar.removeEntry(i)}),M.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.persistence=t,this.Mr=new Po(n=>Up(n),$p),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Or=0,this.Nr=new qp,this.targetCount=0,this.Br=co.Nn()}forEachTarget(t,n){return this.Mr.forEach((i,o)=>n(o)),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),M.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new co(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,M.resolve()}updateTargetData(t,n){return this.qn(n),M.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,n,i){let o=0;const s=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),o++)}),M.waitFor(s).next(()=>o)}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,n){const i=this.Mr.get(n)||null;return M.resolve(i)}addMatchingKeys(t,n,i){return this.Nr.dr(n,i),M.resolve()}removeMatchingKeys(t,n,i){this.Nr.Rr(n,i);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(a=>{s.push(o.markPotentiallyOrphaned(t,a))}),M.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),M.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Nr.gr(n);return M.resolve(i)}containsKey(t,n){return M.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(t,n){this.Lr={},this.overlays={},this.kr=new zp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Ek(this),this.indexManager=new hk,this.remoteDocumentCache=function(o){return new yk(o)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new lk(n),this.$r=new _k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Lr[t.toKey()];return i||(i=new vk(n,this.referenceDelegate),this.Lr[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,i){b("MemoryPersistence","Starting transaction:",t);const o=new Pk(this.kr.next());return this.referenceDelegate.Ur(),i(o).next(s=>this.referenceDelegate.Wr(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Gr(t,n){return M.or(Object.values(this.Lr).map(i=>()=>i.containsKey(t,n)))}}class Pk extends rx{constructor(t){super(),this.currentSequenceNumber=t}}class Kp{constructor(t){this.persistence=t,this.zr=new qp,this.jr=null}static Hr(t){return new Kp(t)}get Jr(){if(this.jr)return this.jr;throw K()}addReference(t,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),M.resolve()}removeReference(t,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),M.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),M.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(o=>this.Jr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Jr,i=>{const o=G.fromPath(i);return this.Yr(t,o).next(s=>{s||n.removeEntry(o,J.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return M.or([()=>M.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,n,i,o){this.targetId=t,this.fromCache=n,this.qi=i,this.Qi=o}static Ki(t,n){let i=st(),o=st();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new Qp(t,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return II()?8:Ki.v(Ju())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,i,o){const s={result:null};return this.ji(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(t,n,o,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Sk;return this.Ji(t,n,a).next(c=>{if(s.result=c,this.Ui)return this.Yi(t,n,a,c.size)})}).next(()=>s.result)}Yi(t,n,i,o){return i.documentReadCount<this.Wi?(Qo()<=ft.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",Cr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),M.resolve()):(Qo()<=ft.DEBUG&&b("QueryEngine","Query:",Cr(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Gi*o?(Qo()<=ft.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",Cr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,An(n))):M.resolve())}ji(t,n){if(hv(n))return M.resolve(null);let i=An(n);return this.indexManager.getIndexType(t,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=td(n,null,"F"),i=An(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=st(...s);return this.zi.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.Zi(n,c);return this.Xi(n,d,a,h.readTime)?this.ji(t,td(n,null,"F")):this.es(t,d,n,h)}))})))}Hi(t,n,i,o){return hv(n)||o.isEqual(J.min())?M.resolve(null):this.zi.getDocuments(t,i).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,i,o)?M.resolve(null):(Qo()<=ft.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cr(n)),this.es(t,a,n,tx(o,-1)).next(c=>c))})}Zi(t,n){let i=new ce(b1(t));return n.forEach((o,s)=>{tc(t,s)&&(i=i.add(s))}),i}Xi(t,n,i,o){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Ji(t,n,i){return Qo()<=ft.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Cr(n)),this.zi.getDocumentsMatchingQuery(t,n,Si.min(),i)}es(t,n,i,o){return this.zi.getDocumentsMatchingQuery(t,i,o).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n,i,o){this.persistence=t,this.ts=n,this.serializer=o,this.ns=new Dt(_t),this.rs=new Po(s=>Up(s),$p),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mk(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function Lk(e,t,n,i){return new Ik(e,t,n,i)}async function sE(e,t){const n=nt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(s=>(o=s,n._s(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],c=[];let h=st();for(const d of o){a.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of s){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(d=>({us:d,removedBatchIds:a,addedBatchIds:c}))})})}function Ak(e,t){const n=nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(c,h,d,m){const _=d.batch,v=_.keys();let y=M.resolve();return v.forEach(C=>{y=y.next(()=>m.getEntry(h,C)).next(S=>{const R=d.docVersions.get(C);St(R!==null),S.version.compareTo(R)<0&&(_.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),m.addEntry(S)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=st();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,o))})}function aE(e){const t=nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function xk(e,t){const n=nt(e),i=t.snapshotVersion;let o=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});o=n.ns;const c=[];t.targetChanges.forEach((m,_)=>{const v=o.get(_);if(!v)return;c.push(n.Qr.removeMatchingKeys(s,m.removedDocuments,_).next(()=>n.Qr.addMatchingKeys(s,m.addedDocuments,_)));let y=v.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(_)!==null?y=y.withResumeToken(Ee.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,i)),o=o.insert(_,y),function(S,R,E){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(v,y,m)&&c.push(n.Qr.updateTargetData(s,y))});let h=Kn(),d=st();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(kk(s,a,t.documentUpdates).next(m=>{h=m.cs,d=m.ls})),!i.isEqual(J.min())){const m=n.Qr.getLastRemoteSnapshotVersion(s).next(_=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(m)}return M.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,d)).next(()=>h)}).then(s=>(n.ns=o,s))}function kk(e,t,n){let i=st(),o=st();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Kn();return n.forEach((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(c)),h.isNoDocument()&&h.version.isEqual(J.min())?(t.removeEntry(c,h.readTime),a=a.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),a=a.insert(c,h)):b("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{cs:a,ls:o}})}function Rk(e,t){const n=nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Mk(e,t){const n=nt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Qr.getTargetData(i,t).next(s=>s?(o=s,M.resolve(o)):n.Qr.allocateTargetId(i).next(a=>(o=new ui(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.ns.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(t,i.targetId)),i})}async function od(e,t,n){const i=nt(e),o=i.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,o))}catch(a){if(!ma(a))throw a;b("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.ns=i.ns.remove(t),i.rs.delete(o.target)}function Tv(e,t,n){const i=nt(e);let o=J.min(),s=st();return i.persistence.runTransaction("Execute query","readwrite",a=>function(h,d,m){const _=nt(h),v=_.rs.get(m);return v!==void 0?M.resolve(_.ns.get(v)):_.Qr.getTargetData(d,m)}(i,a,An(t)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,c.targetId).next(h=>{s=h})}).next(()=>i.ts.getDocumentsMatchingQuery(a,t,n?o:J.min(),n?s:st())).next(c=>(Ok(i,Sx(t),c),{documents:c,hs:s})))}function Ok(e,t,n){let i=e.ss.get(t)||J.min();n.forEach((o,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.ss.set(t,i)}class Pv{constructor(){this.activeTargetIds=kx()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Dk{constructor(){this.no=new Pv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,i){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Pv,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function Mh(){return lu===null?lu=function(){return 268435456+Math.round(2147483648*Math.random())}():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe="WebChannelConnection";class bk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${o}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get wo(){return!1}So(n,i,o,s,a){const c=Mh(),h=this.bo(n,i.toUriEncodedString());b("RestConnection",`Sending RPC '${n}' ${c}:`,h,o);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,s,a),this.Co(n,h,d,o).then(m=>(b("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw so("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",h,"request:",o),m})}vo(n,i,o,s,a,c){return this.So(n,i,o,s,a)}Do(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,a)=>n[a]=s),o&&o.headers.forEach((s,a)=>n[a]=s)}bo(n,i){const o=Vk[n];return`${this.fo}/v1/${i}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,i,o){const s=Mh();return new Promise((a,c)=>{const h=new jA;h.setWithCredentials(!0),h.listenOnce(UA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case kh.NO_ERROR:const m=h.getResponseJson();b(pe,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(m)),a(m);break;case kh.TIMEOUT:b(pe,`RPC '${t}' ${s} timed out`),c(new H(D.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const _=h.getStatus();if(b(pe,`RPC '${t}' ${s} failed with status:`,_,"response text:",h.getResponseText()),_>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const y=v==null?void 0:v.error;if(y&&y.status&&y.message){const C=function(R){const E=R.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(E)>=0?E:D.UNKNOWN}(y.status);c(new H(C,y.message))}else c(new H(D.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new H(D.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{b(pe,`RPC '${t}' ${s} completed.`)}});const d=JSON.stringify(o);b(pe,`RPC '${t}' ${s} sending request:`,o),h.send(n,"POST",d,i,15)})}Fo(t,n,i){const o=Mh(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=BA(),c=FA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=s.join("");b(pe,`Creating RPC '${t}' stream ${o}: ${m}`,h);const _=a.createWebChannel(m,h);let v=!1,y=!1;const C=new zk({lo:R=>{y?b(pe,`Not sending because RPC '${t}' stream ${o} is closed:`,R):(v||(b(pe,`Opening RPC '${t}' stream ${o} transport.`),_.open(),v=!0),b(pe,`RPC '${t}' stream ${o} sending:`,R),_.send(R))},ho:()=>_.close()}),S=(R,E,w)=>{R.listen(E,P=>{try{w(P)}catch(x){setTimeout(()=>{throw x},0)}})};return S(_,su.EventType.OPEN,()=>{y||b(pe,`RPC '${t}' stream ${o} transport opened.`)}),S(_,su.EventType.CLOSE,()=>{y||(y=!0,b(pe,`RPC '${t}' stream ${o} transport closed`),C.Vo())}),S(_,su.EventType.ERROR,R=>{y||(y=!0,so(pe,`RPC '${t}' stream ${o} transport errored:`,R),C.Vo(new H(D.UNAVAILABLE,"The operation could not be completed")))}),S(_,su.EventType.MESSAGE,R=>{var E;if(!y){const w=R.data[0];St(!!w);const P=w,x=P.error||((E=P[0])===null||E===void 0?void 0:E.error);if(x){b(pe,`RPC '${t}' stream ${o} received error:`,x);const V=x.status;let F=function(wt){const it=Ut[wt];if(it!==void 0)return Q1(it)}(V),j=x.message;F===void 0&&(F=D.INTERNAL,j="Unknown error status: "+V+" with message "+x.message),y=!0,C.Vo(new H(F,j)),_.close()}else b(pe,`RPC '${t}' stream ${o} received:`,w),C.mo(w)}}),S(c,$A.STAT_EVENT,R=>{R.stat===tv.PROXY?b(pe,`RPC '${t}' stream ${o} detected buffering proxy`):R.stat===tv.NOPROXY&&b(pe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.Ro()},0),C}}function Oh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e){return new Kx(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,n,i=1e3,o=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=i,this.xo=o,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),o=Math.max(0,n-i);o>0&&b("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,o,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,n,i,o,s,a,c,h){this.oi=t,this.$o=i,this.Uo=o,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new uE(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Wo===n&&this.o_(i,o)},i=>{t(()=>{const o=new H(D.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(o)})})}o_(t,n){const i=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(o=>{i(()=>this.__(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return b("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bk extends lE{constructor(t,n,i,o,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,a),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=Yx(this.serializer,t),i=function(s){if(!("targetChange"in s))return J.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?xn(a.readTime):J.min()}(t);return this.listener.u_(n,i)}c_(t){const n={};n.database=rd(this.serializer),n.addTarget=function(s,a){let c;const h=a.target;if(c=Jf(h)?{documents:ek(s,h)}:{query:nk(s,h).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=J1(s,a.resumeToken);const d=ed(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(J.min())>0){c.readTime=dl(s,a.snapshotVersion.toTimestamp());const d=ed(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=rk(this.serializer,t);i&&(n.labels=i),this.t_(n)}l_(t){const n={};n.database=rd(this.serializer),n.removeTarget=t,this.t_(n)}}class Fk extends lE{constructor(t,n,i,o,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=tk(t.writeResults,t.commitTime),i=xn(t.commitTime);return this.listener.T_(i,n)}return St(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=rd(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Jx(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk extends class{}{constructor(t,n,i,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.A_=!1}R_(){if(this.A_)throw new H(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(t,nd(n,i),o,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(D.UNKNOWN,s.toString())})}vo(t,n,i,o,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(t,nd(n,i),o,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(D.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class $k{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(kn(n),this.g_=!1):b("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,n,i,o,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{i.enqueueAndForget(async()=>{dr(this)&&(b("RemoteStore","Restarting streams for network reachability change."),await async function(h){const d=nt(h);d.v_.add(4),await va(d),d.x_.set("Unknown"),d.v_.delete(4),await oc(d)}(this))})}),this.x_=new $k(i,o)}}async function oc(e){if(dr(e))for(const t of e.F_)await t(!0)}async function va(e){for(const t of e.F_)await t(!1)}function cE(e,t){const n=nt(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Jp(n)?Yp(n):So(n).Jo()&&Xp(n,t))}function hE(e,t){const n=nt(e),i=So(n);n.C_.delete(t),i.Jo()&&fE(n,t),n.C_.size===0&&(i.Jo()?i.Xo():dr(n)&&n.x_.set("Unknown"))}function Xp(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}So(e).c_(t)}function fE(e,t){e.O_.Oe(t),So(e).l_(t)}function Yp(e){e.O_=new Zx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),So(e).start(),e.x_.p_()}function Jp(e){return dr(e)&&!So(e).Ho()&&e.C_.size>0}function dr(e){return nt(e).v_.size===0}function dE(e){e.O_=void 0}async function Hk(e){e.C_.forEach((t,n)=>{Xp(e,t)})}async function Zk(e,t){dE(e),Jp(e)?(e.x_.S_(t),Yp(e)):e.x_.set("Unknown")}async function Wk(e,t,n){if(e.x_.set("Online"),t instanceof Y1&&t.state===2&&t.cause)try{await async function(o,s){const a=s.cause;for(const c of s.targetIds)o.C_.has(c)&&(await o.remoteSyncer.rejectListen(c,a),o.C_.delete(c),o.O_.removeTarget(c))}(e,t)}catch(i){b("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await pl(e,i)}else if(t instanceof Su?e.O_.$e(t):t instanceof X1?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(J.min()))try{const i=await aE(e.localStore);n.compareTo(i)>=0&&await function(s,a){const c=s.O_.it(a);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.C_.get(d);m&&s.C_.set(d,m.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach((h,d)=>{const m=s.C_.get(h);if(!m)return;s.C_.set(h,m.withResumeToken(Ee.EMPTY_BYTE_STRING,m.snapshotVersion)),fE(s,h);const _=new ui(m.target,h,d,m.sequenceNumber);Xp(s,_)}),s.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){b("RemoteStore","Failed to raise snapshot:",i),await pl(e,i)}}async function pl(e,t,n){if(!ma(t))throw t;e.v_.add(1),await va(e),e.x_.set("Offline"),n||(n=()=>aE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{b("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await oc(e)})}function pE(e,t){return t().catch(n=>pl(e,n,t))}async function sc(e){const t=nt(e),n=Ii(t);let i=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Gk(t);)try{const o=await Rk(t.localStore,i);if(o===null){t.D_.length===0&&n.Xo();break}i=o.batchId,qk(t,o)}catch(o){await pl(t,o)}mE(t)&&_E(t)}function Gk(e){return dr(e)&&e.D_.length<10}function qk(e,t){e.D_.push(t);const n=Ii(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function mE(e){return dr(e)&&!Ii(e).Ho()&&e.D_.length>0}function _E(e){Ii(e).start()}async function Kk(e){Ii(e).d_()}async function Qk(e){const t=Ii(e);for(const n of e.D_)t.I_(n.mutations)}async function Xk(e,t,n){const i=e.D_.shift(),o=Zp.from(i,t,n);await pE(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await sc(e)}async function Yk(e,t){t&&Ii(e).P_&&await async function(i,o){if(function(a){return $x(a)&&a!==D.ABORTED}(o.code)){const s=i.D_.shift();Ii(i).Zo(),await pE(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),await sc(i)}}(e,t),mE(e)&&_E(e)}async function Cv(e,t){const n=nt(e);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const i=dr(n);n.v_.add(3),await va(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await oc(n)}async function Jk(e,t){const n=nt(e);t?(n.v_.delete(2),await oc(n)):t||(n.v_.add(2),await va(n),n.x_.set("Unknown"))}function So(e){return e.N_||(e.N_=function(n,i,o){const s=nt(n);return s.R_(),new Bk(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{Po:Hk.bind(null,e),To:Zk.bind(null,e),u_:Wk.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),Jp(e)?Yp(e):e.x_.set("Unknown")):(await e.N_.stop(),dE(e))})),e.N_}function Ii(e){return e.B_||(e.B_=function(n,i,o){const s=nt(n);return s.R_(),new Fk(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{Po:Kk.bind(null,e),To:Yk.bind(null,e),E_:Qk.bind(null,e),T_:Xk.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await sc(e)):(await e.B_.stop(),e.D_.length>0&&(b("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,o,s){const a=Date.now()+i,c=new tm(t,n,a,o,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(e,t){if(kn("AsyncQueue",`${t}: ${e}`),ma(e))return new H(D.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=is(),this.sortedSet=new Dt(this.comparator)}static emptySet(t){return new Xr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Xr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.L_=new Dt(G.comparator)}track(t){const n=t.doc.key,i=this.L_.get(n);i?t.type!==0&&i.type===3?this.L_=this.L_.insert(n,t):t.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.L_=this.L_.remove(n):t.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):K():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,i)=>{t.push(i)}),t}}class ho{constructor(t,n,i,o,s,a,c,h,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,o,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new ho(t,n,Xr.emptySet(n),a,i,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.q_=void 0,this.Q_=[]}}class eR{constructor(){this.queries=new Po(t=>z1(t),Jl),this.onlineState="Unknown",this.K_=new Set}}async function gE(e,t){const n=nt(e),i=t.query;let o=!1,s=n.queries.get(i);if(s||(o=!0,s=new tR),o)try{s.q_=await n.onListen(i)}catch(a){const c=em(a,`Initialization of query '${Cr(t.query)}' failed`);return void t.onError(c)}n.queries.set(i,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&nm(n)}async function vE(e,t){const n=nt(e),i=t.query;let o=!1;const s=n.queries.get(i);if(s){const a=s.Q_.indexOf(t);a>=0&&(s.Q_.splice(a,1),o=s.Q_.length===0)}if(o)return n.queries.delete(i),n.onUnlisten(i)}function nR(e,t){const n=nt(e);let i=!1;for(const o of t){const s=o.query,a=n.queries.get(s);if(a){for(const c of a.Q_)c.W_(o)&&(i=!0);a.q_=o}}i&&nm(n)}function iR(e,t,n){const i=nt(e),o=i.queries.get(t);if(o)for(const s of o.Q_)s.onError(n);i.queries.delete(t)}function nm(e){e.K_.forEach(t=>{t.next()})}class yE{constructor(t,n,i){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new ho(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.Z_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t){this.key=t}}class EE{constructor(t){this.key=t}}class rR{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=st(),this.mutatedKeys=st(),this.ua=b1(t),this.ca=new Xr(this.ua)}get la(){return this.oa}ha(t,n){const i=n?n.Pa:new Iv,o=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,a=o,c=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((m,_)=>{const v=o.get(m),y=tc(this.query,_)?_:null,C=!!v&&this.mutatedKeys.has(v.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;v&&y?v.data.isEqual(y.data)?C!==S&&(i.track({type:3,doc:y}),R=!0):this.Ia(v,y)||(i.track({type:2,doc:y}),R=!0,(h&&this.ua(y,h)>0||d&&this.ua(y,d)<0)&&(c=!0)):!v&&y?(i.track({type:0,doc:y}),R=!0):v&&!y&&(i.track({type:1,doc:v}),R=!0,(h||d)&&(c=!0)),R&&(y?(a=a.add(y),s=S?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{ca:a,Pa:i,Xi:c,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,o){const s=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const a=t.Pa.k_();a.sort((m,_)=>function(y,C){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return S(y)-S(C)}(m.type,_.type)||this.ua(m.doc,_.doc)),this.Ta(i),o=o!=null&&o;const c=n&&!o?this.Ea():[],h=this.aa.size===0&&this.current&&!o?1:0,d=h!==this._a;return this._a=h,a.length!==0||d?{snapshot:new ho(this.query,t.ca,s,a,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:c}:{da:c}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Iv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=st(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});const n=[];return t.forEach(i=>{this.aa.has(i)||n.push(new EE(i))}),this.aa.forEach(i=>{t.has(i)||n.push(new wE(i))}),n}Ra(t){this.oa=t.hs,this.aa=st();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return ho.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class oR{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class sR{constructor(t){this.key=t,this.ma=!1}}class aR{constructor(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Po(c=>z1(c),Jl),this.pa=new Map,this.ya=new Set,this.wa=new Dt(G.comparator),this.Sa=new Map,this.ba=new qp,this.Da={},this.Ca=new Map,this.va=co.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function uR(e,t){const n=vR(e);let i,o;const s=n.ga.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Va();else{const a=await Mk(n.localStore,An(t)),c=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,o=await lR(n,t,i,c==="current",a.resumeToken),n.isPrimaryClient&&cE(n.remoteStore,a)}return o}async function lR(e,t,n,i,o){e.Ma=(_,v,y)=>async function(S,R,E,w){let P=R.view.ha(E);P.Xi&&(P=await Tv(S.localStore,R.query,!1).then(({documents:j})=>R.view.ha(j,P)));const x=w&&w.targetChanges.get(R.targetId),V=w&&w.targetMismatches.get(R.targetId)!=null,F=R.view.applyChanges(P,S.isPrimaryClient,x,V);return Av(S,R.targetId,F.da),F.snapshot}(e,_,v,y);const s=await Tv(e.localStore,t,!0),a=new rR(t,s.hs),c=a.ha(s.documents),h=ga.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",o),d=a.applyChanges(c,e.isPrimaryClient,h);Av(e,n,d.da);const m=new oR(t,n,a);return e.ga.set(t,m),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),d.snapshot}async function cR(e,t){const n=nt(e),i=n.ga.get(t),o=n.pa.get(i.targetId);if(o.length>1)return n.pa.set(i.targetId,o.filter(s=>!Jl(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await od(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),hE(n.remoteStore,i.targetId),sd(n,i.targetId)}).catch(pa)):(sd(n,i.targetId),await od(n.localStore,i.targetId,!0))}async function hR(e,t,n){const i=yR(e);try{const o=await function(a,c){const h=nt(a),d=qt.now(),m=c.reduce((y,C)=>y.add(C.key),st());let _,v;return h.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Kn(),S=st();return h.os.getEntries(y,m).next(R=>{C=R,C.forEach((E,w)=>{w.isValidDocument()||(S=S.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(y,C)).next(R=>{_=R;const E=[];for(const w of c){const P=zx(w,_.get(w.key).overlayedDocument);P!=null&&E.push(new Oi(w.key,P,k1(P.value.mapValue),hn.exists(!0)))}return h.mutationQueue.addMutationBatch(y,d,E,c)}).next(R=>{v=R;const E=R.applyToLocalDocumentSet(_,S);return h.documentOverlayCache.saveOverlays(y,R.batchId,E)})}).then(()=>({batchId:v.batchId,changes:F1(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(a,c,h){let d=a.Da[a.currentUser.toKey()];d||(d=new Dt(_t)),d=d.insert(c,h),a.Da[a.currentUser.toKey()]=d}(i,o.batchId,n),await ya(i,o.changes),await sc(i.remoteStore)}catch(o){const s=em(o,"Failed to persist write");n.reject(s)}}async function TE(e,t){const n=nt(e);try{const i=await xk(n.localStore,t);t.targetChanges.forEach((o,s)=>{const a=n.Sa.get(s);a&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.ma=!0:o.modifiedDocuments.size>0?St(a.ma):o.removedDocuments.size>0&&(St(a.ma),a.ma=!1))}),await ya(n,i,t)}catch(i){await pa(i)}}function Lv(e,t,n){const i=nt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ga.forEach((s,a)=>{const c=a.view.U_(t);c.snapshot&&o.push(c.snapshot)}),function(a,c){const h=nt(a);h.onlineState=c;let d=!1;h.queries.forEach((m,_)=>{for(const v of _.Q_)v.U_(c)&&(d=!0)}),d&&nm(h)}(i.eventManager,t),o.length&&i.fa.u_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function fR(e,t,n){const i=nt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const o=i.Sa.get(t),s=o&&o.key;if(s){let a=new Dt(G.comparator);a=a.insert(s,ge.newNoDocument(s,J.min()));const c=st().add(s),h=new ic(J.min(),new Map,new Dt(_t),a,c);await TE(i,h),i.wa=i.wa.remove(s),i.Sa.delete(t),im(i)}else await od(i.localStore,t,!1).then(()=>sd(i,t,n)).catch(pa)}async function dR(e,t){const n=nt(e),i=t.batch.batchId;try{const o=await Ak(n.localStore,t);SE(n,i,null),PE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ya(n,o)}catch(o){await pa(o)}}async function pR(e,t,n){const i=nt(e);try{const o=await function(a,c){const h=nt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next(_=>(St(_!==null),m=_.keys(),h.mutationQueue.removeMutationBatch(d,_))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(i.localStore,t);SE(i,t,n),PE(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await ya(i,o)}catch(o){await pa(o)}}function PE(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function SE(e,t,n){const i=nt(e);let o=i.Da[i.currentUser.toKey()];if(o){const s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.Da[i.currentUser.toKey()]=o}}function sd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.pa.get(t))e.ga.delete(i),n&&e.fa.xa(i,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(i=>{e.ba.containsKey(i)||CE(e,i)})}function CE(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(hE(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),im(e))}function Av(e,t,n){for(const i of n)i instanceof wE?(e.ba.addReference(i.key,t),mR(e,i)):i instanceof EE?(b("SyncEngine","Document no longer in limbo: "+i.key),e.ba.removeReference(i.key,t),e.ba.containsKey(i.key)||CE(e,i.key)):K()}function mR(e,t){const n=t.key,i=n.path.canonicalString();e.wa.get(n)||e.ya.has(i)||(b("SyncEngine","New document in limbo: "+n),e.ya.add(i),im(e))}function im(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new G(xt.fromString(t)),i=e.va.next();e.Sa.set(i,new sR(n)),e.wa=e.wa.insert(n,i),cE(e.remoteStore,new ui(An(jp(n.path)),i,"TargetPurposeLimboResolution",zp._e))}}async function ya(e,t,n){const i=nt(e),o=[],s=[],a=[];i.ga.isEmpty()||(i.ga.forEach((c,h)=>{a.push(i.Ma(h,t,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,d!=null&&d.fromCache?"not-current":"current"),d){o.push(d);const m=Qp.Ki(h.targetId,d);s.push(m)}}))}),await Promise.all(a),i.fa.u_(o),await async function(h,d){const m=nt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>M.forEach(d,v=>M.forEach(v.qi,y=>m.persistence.referenceDelegate.addReference(_,v.targetId,y)).next(()=>M.forEach(v.Qi,y=>m.persistence.referenceDelegate.removeReference(_,v.targetId,y)))))}catch(_){if(!ma(_))throw _;b("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const y=m.ns.get(v),C=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(C);m.ns=m.ns.insert(v,S)}}}(i.localStore,s))}async function _R(e,t){const n=nt(e);if(!n.currentUser.isEqual(t)){b("SyncEngine","User change. New user:",t.toKey());const i=await sE(n.localStore,t);n.currentUser=t,function(s,a){s.Ca.forEach(c=>{c.forEach(h=>{h.reject(new H(D.CANCELLED,a))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ya(n,i.us)}}function gR(e,t){const n=nt(e),i=n.Sa.get(t);if(i&&i.ma)return st().add(i.key);{let o=st();const s=n.pa.get(t);if(!s)return o;for(const a of s){const c=n.ga.get(a);o=o.unionWith(c.view.la)}return o}}function vR(e){const t=nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fR.bind(null,t),t.fa.u_=nR.bind(null,t.eventManager),t.fa.xa=iR.bind(null,t.eventManager),t}function yR(e){const t=nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pR.bind(null,t),t}class xv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=rc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Lk(this.persistence,new Ck,t.initialUser,this.serializer)}createPersistence(t){return new Tk(Kp.Hr,this.serializer)}createSharedClientState(t){return new Dk}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wR{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_R.bind(null,this.syncEngine),await Jk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new eR}()}createDatastore(t){const n=rc(t.databaseInfo.databaseId),i=function(s){return new bk(s)}(t.databaseInfo);return function(s,a,c,h){return new Uk(s,a,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,o,s,a,c){return new jk(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,n=>Lv(this.syncEngine,n,0),function(){return Sv.D()?new Sv:new Nk}())}createSyncEngine(t,n){return function(o,s,a,c,h,d,m){const _=new aR(o,s,a,c,h,d);return m&&(_.Fa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(i){const o=nt(i);b("RemoteStore","RemoteStore shutting down."),o.v_.add(5),await va(o),o.M_.shutdown(),o.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):kn("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,n,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=me.UNAUTHENTICATED,this.clientId=L1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{b("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(b("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=em(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Dh(e,t){e.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async o=>{i.isEqual(o)||(await sE(t.localStore,o),i=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function kv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await PR(e);b("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Cv(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>Cv(t.remoteStore,o)),e._onlineComponents=t}function TR(e){return e.name==="FirebaseError"?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function PR(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!TR(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await Dh(e,new xv)}}else b("FirestoreClient","Using default OfflineComponentProvider"),await Dh(e,new xv);return e._offlineComponents}async function LE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),await kv(e,e._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),await kv(e,new wR))),e._onlineComponents}function SR(e){return LE(e).then(t=>t.syncEngine)}async function AE(e){const t=await LE(e),n=t.eventManager;return n.onListen=uR.bind(null,t.syncEngine),n.onUnlisten=cR.bind(null,t.syncEngine),n}function CR(e,t,n={}){const i=new Ln;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,c,h,d){const m=new IE({next:v=>{a.enqueueAndForget(()=>vE(s,_));const y=v.docs.has(c);!y&&v.fromCache?d.reject(new H(D.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&h&&h.source==="server"?d.reject(new H(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new yE(jp(c.path),m,{includeMetadataChanges:!0,Z_:!0});return gE(s,_)}(await AE(e),e.asyncQueue,t,n,i)),i.promise}function IR(e,t,n={}){const i=new Ln;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,c,h,d){const m=new IE({next:v=>{a.enqueueAndForget(()=>vE(s,_)),v.fromCache&&h.source==="server"?d.reject(new H(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new yE(c,m,{includeMetadataChanges:!0,Z_:!0});return gE(s,_)}(await AE(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e,t,n){if(!n)throw new H(D.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function LR(e,t,n,i){if(t===!0&&i===!0)throw new H(D.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Mv(e){if(!G.isDocumentKey(e))throw new H(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ov(e){if(G.isDocumentKey(e))throw new H(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function rm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":K()}function Qn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rm(e);throw new H(D.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new H(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xE((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ac{constructor(t,n,i,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new H(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ZA;switch(i.type){case"firstParty":return new KA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Rv.get(n);i&&(b("ComponentProvider","Removing Datastore"),Rv.delete(n),i.terminate())}(this),Promise.resolve()}}function AR(e,t,n,i={}){var o;const s=(e=Qn(e,ac))._getSettings(),a=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=me.MOCK_USER;else{c=SI(i.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new H(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new me(d)}e._authCredentials=new WA(new I1(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new uc(this.firestore,t,this._query)}}class Fe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}}class yi extends uc{constructor(t,n,i){super(t,n,jp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new G(t))}withConverter(t){return new yi(this.firestore,t,this._path)}}function xR(e,t,...n){if(e=Pi(e),kE("collection","path",t),e instanceof ac){const i=xt.fromString(t,...n);return Ov(i),new yi(e,null,i)}{if(!(e instanceof Fe||e instanceof yi))throw new H(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(xt.fromString(t,...n));return Ov(i),new yi(e.firestore,null,i)}}function Cu(e,t,...n){if(e=Pi(e),arguments.length===1&&(t=L1.newId()),kE("doc","path",t),e instanceof ac){const i=xt.fromString(t,...n);return Mv(i),new Fe(e,null,new G(i))}{if(!(e instanceof Fe||e instanceof yi))throw new H(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(xt.fromString(t,...n));return Mv(i),new Fe(e.firestore,e instanceof yi?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new uE(this,"async_queue_retry"),this._u=()=>{const n=Oh();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=Oh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=Oh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ln;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!ma(t))throw t;b("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(i=>{this.ru=i,this.iu=!1;const o=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw kn("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(t,n,i){this.au(),this.ou.indexOf(t)>-1&&(n=0);const o=tm.createAndSchedule(this,t,n,i,s=>this.lu(s));return this.nu.push(o),o}au(){this.ru&&K()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class Co extends ac{constructor(t,n,i,o){super(t,n,i,o),this.type="firestore",this._queue=function(){return new kR}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||RE(this),this._firestoreClient.terminate()}}function RR(e,t){const n=typeof e=="object"?e:xL(),i=typeof e=="string"?e:t||"(default)",o=CL(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const s=TI("firestore");s&&AR(o,...s)}return o}function om(e){return e._firestoreClient||RE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function RE(e){var t,n,i;const o=e._freezeSettings(),s=function(c,h,d,m){return new lx(c,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,xE(m.experimentalLongPollingOptions),m.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new ER(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fo(Ee.fromBase64String(t))}catch(n){throw new H(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fo(Ee.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ae(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _t(this._lat,t._lat)||_t(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^__.*__$/;class OR{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Oi(t,this.data,this.fieldMask,n,this.fieldTransforms):new _a(t,this.data,n,this.fieldTransforms)}}class ME{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Oi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function OE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class um{constructor(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new um(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Au({path:i,Vu:!1});return o.mu(t),o}fu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Au({path:i,Vu:!1});return o.Eu(),o}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return ml(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(OE(this.du)&&MR.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class DR{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||rc(t)}Su(t,n,i,o=!1){return new um({du:t,methodName:n,wu:i,path:ae.emptyPath(),Vu:!1,yu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DE(e){const t=e._freezeSettings(),n=rc(e._databaseId);return new DR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function NR(e,t,n,i,o,s={}){const a=e.Su(s.merge||s.mergeFields?2:0,t,n,o);lm("Data must be an object, but it was:",a,i);const c=NE(i,a);let h,d;if(s.merge)h=new be(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const _ of s.mergeFields){const v=ad(t,_,n);if(!a.contains(v))throw new H(D.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);zE(m,v)||m.push(v)}h=new be(m),d=a.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,d=a.fieldTransforms;return new OR(new Re(c),h,d)}class cc extends sm{_toFieldTransform(t){if(t.du!==2)throw t.du===1?t.pu(`${this._methodName}() can only appear at the top level of your update data`):t.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cc}}function VR(e,t,n,i){const o=e.Su(1,t,n);lm("Data must be an object, but it was:",o,i);const s=[],a=Re.empty();fr(i,(h,d)=>{const m=cm(t,h,n);d=Pi(d);const _=o.fu(m);if(d instanceof cc)s.push(m);else{const v=hc(d,_);v!=null&&(s.push(m),a.set(m,v))}});const c=new be(s);return new ME(a,c,o.fieldTransforms)}function zR(e,t,n,i,o,s){const a=e.Su(1,t,n),c=[ad(t,i,n)],h=[o];if(s.length%2!=0)throw new H(D.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(ad(t,s[v])),h.push(s[v+1]);const d=[],m=Re.empty();for(let v=c.length-1;v>=0;--v)if(!zE(d,c[v])){const y=c[v];let C=h[v];C=Pi(C);const S=a.fu(y);if(C instanceof cc)d.push(y);else{const R=hc(C,S);R!=null&&(d.push(y),m.set(y,R))}}const _=new be(d);return new ME(m,_,a.fieldTransforms)}function hc(e,t){if(VE(e=Pi(e)))return lm("Unsupported field value:",t,e),NE(e,t);if(e instanceof sm)return function(i,o){if(!OE(o.du))throw o.pu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.pu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(i,o){const s=[];let a=0;for(const c of i){let h=hc(c,o.gu(a));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,o){if((i=Pi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Rx(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=qt.fromDate(i);return{timestampValue:dl(o.serializer,s)}}if(i instanceof qt){const s=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dl(o.serializer,s)}}if(i instanceof am)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fo)return{bytesValue:J1(o.serializer,i._byteString)};if(i instanceof Fe){const s=o.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw o.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gp(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.pu(`Unsupported field value: ${rm(i)}`)}(e,t)}function NE(e,t){const n={};return A1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(e,(i,o)=>{const s=hc(o,t.Ru(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function VE(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qt||e instanceof am||e instanceof fo||e instanceof Fe||e instanceof sm)}function lm(e,t,n){if(!VE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=rm(n);throw i==="an object"?t.pu(e+" a custom object"):t.pu(e+" "+i)}}function ad(e,t,n){if((t=Pi(t))instanceof lc)return t._internalPath;if(typeof t=="string")return cm(e,t);throw ml("Field path arguments must be of type string or ",e,!1,void 0,n)}const bR=new RegExp("[~\\*/\\[\\]]");function cm(e,t,n){if(t.search(bR)>=0)throw ml(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new lc(...t.split("."))._internalPath}catch{throw ml(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ml(e,t,n,i,o){const s=i&&!i.isEmpty(),a=o!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${i}`),a&&(h+=` in document ${o}`),h+=")"),new H(D.INVALID_ARGUMENT,c+e+h)}function zE(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(BE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BR extends bE{data(){return super.data()}}function BE(e,t){return typeof t=="string"?cm(e,t):t instanceof lc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UR{convertValue(t,n="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $t(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw K()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return fr(t,(o,s)=>{i[o]=this.convertValue(s,n)}),i}convertGeoPoint(t){return new am($t(t.latitude),$t(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Bp(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ks(t));default:return null}}convertTimestamp(t){const n=Ci(t);return new qt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=xt.fromString(t);St(oE(i));const o=new Qs(i.get(1),i.get(3)),s=new G(i.popFirst(5));return o.isEqual(n)||kn(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class FE extends bE{constructor(t,n,i,o,s,a){super(t,n,i,o,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(BE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Iu extends FE{data(t={}){return super.data(t)}}class jR{constructor(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new os(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Iu(this._firestore,this._userDataWriter,i.key,i,new os(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let a=0;return o._snapshot.docChanges.map(c=>{const h=new Iu(o._firestore,o._userDataWriter,c.doc.key,c.doc,new os(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const h=new Iu(o._firestore,o._userDataWriter,c.doc.key,c.doc,new os(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,m=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:HR(c.type),doc:h,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(e){e=Qn(e,Fe);const t=Qn(e.firestore,Co);return CR(om(t),e._key).then(n=>KR(t,e,n))}class UE extends UR{constructor(t){super(),this.firestore=t}convertBytes(t){return new fo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function WR(e){e=Qn(e,uc);const t=Qn(e.firestore,Co),n=om(t),i=new UE(t);return FR(e._query),IR(n,e._query).then(o=>new jR(t,i,e,o))}function GR(e,t,n,...i){e=Qn(e,Fe);const o=Qn(e.firestore,Co),s=DE(o);let a;return a=typeof(t=Pi(t))=="string"||t instanceof lc?zR(s,"updateDoc",e._key,t,n,i):VR(s,"updateDoc",e._key,t),hm(o,[a.toMutation(e._key,hn.exists(!0))])}function Nv(e){return hm(Qn(e.firestore,Co),[new Hp(e._key,hn.none())])}function qR(e,t){const n=Qn(e.firestore,Co),i=Cu(e),o=$R(e.converter,t);return hm(n,[NR(DE(e.firestore),"addDoc",i._key,o,e.converter!==null,{}).toMutation(i._key,hn.exists(!1))]).then(()=>i)}function hm(e,t){return function(i,o){const s=new Ln;return i.asyncQueue.enqueueAndForget(async()=>hR(await SR(i),o,s)),s.promise}(om(e),t)}function KR(e,t,n){const i=n.docs.get(t._key),o=new UE(e);return new FE(e,o,t._key,i,new os(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){To=o})(AL),el(new bs("firestore",(i,{instanceIdentifier:o,options:s})=>{const a=i.getProvider("app").getImmediate(),c=new Co(new GA(i.getProvider("auth-internal")),new XA(i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qs(d.options.projectId,m)}(a,o),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),qr(ev,"4.4.3",t),qr(ev,"4.4.3","esm2017")})();var QR="firebase",XR="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(QR,XR,"app");const YR={apiKey:"AIzaSyDhhbpzbw290uqc0JFqbBZav8bKPZCuTo8",authDomain:"viso-test-task-e1a5c.firebaseapp.com",projectId:"viso-test-task-e1a5c",storageBucket:"viso-test-task-e1a5c.appspot.com",messagingSenderId:"254855654009",appId:"1:254855654009:web:0e89a09d934adbfd8242a8",measurementId:"G-824SE11PXZ"},JR=ww(YR),Vv=RR(JR),tM=({addMarker:e})=>(ZC("click",t=>{const n=new Date;e({id:"",location:[t.latlng.lat,t.latlng.lng],date:n.toISOString()})}),null),eM=()=>{const[e,t]=at.useState([]),n=xR(Vv,"markers");at.useEffect(()=>{let h=[];WR(n).then(d=>{d.forEach(m=>{h.push({...m.data(),id:m.id})}),t([...h])})},[]);const i=async h=>{try{const d=await qR(n,h);t(m=>[...m,{...h,id:d.id}])}catch(d){console.log(d)}},o=async h=>{try{await Nv(Cu(n,h)),t(d=>d.filter(m=>m.id!==h))}catch(d){console.log(d)}},s=async(h,d,m)=>{try{const _=Cu(Vv,"markers",h),v=await ZR(_);if(v.exists()){const C={...v.data(),location:[d,m]};await GR(_,C),t(S=>S.map(R=>R.id===h?{...R,location:[d,m]}:R))}else throw new Error("Error in marker`s updating ")}catch(_){console.log(_)}},a=()=>{e.forEach(h=>Nv(Cu(n,h.id))),t([])},c=new ki.Icon({iconUrl:"https://img.icons8.com/ios-filled/50/F9BC00/marker.png",iconSize:[40,40]});return wn.jsxs("div",{className:"home",children:[wn.jsx("button",{className:"button",onClick:()=>a(),children:"Delete all"}),wn.jsxs(GC,{center:[49.8397,24.0297],zoom:10,scrollWheelZoom:!0,children:[wn.jsx(KC,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),wn.jsxs(fI,{children:[e.map(h=>wn.jsx(qC,{icon:c,position:h.location,draggable:!0,eventHandlers:{dragend:d=>{s(h.id,d.target._latlng.lat,d.target._latlng.lng)},click:()=>o(h.id)}},Math.floor(Math.random()*1e4))),wn.jsx(tM,{addMarker:i})]})]})]})},nM=()=>wn.jsx(eM,{});Nh.createRoot(document.getElementById("root")).render(wn.jsx(Lu.StrictMode,{children:wn.jsx(nM,{})}));
